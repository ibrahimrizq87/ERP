import{a as bu}from"./chunk-AXQQ3IHZ.js";import{a as Qn}from"./chunk-FK6H3RFT.js";import{a as Re,b as Yt,c as o4,d as Kn,e as GN,f as Ca,g as lp}from"./chunk-GAL4ENT6.js";var sF=Kn((Q4e,oF)=>{"use strict";oF.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var ll=Kn(Sc=>{"use strict";var cE,Oie=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Sc.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Sc.getSymbolTotalCodewords=function(e){return Oie[e]};Sc.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};Sc.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');cE=e};Sc.isKanjiModeEnabled=function(){return typeof cE<"u"};Sc.toSJIS=function(e){return cE(e)}});var Z1=Kn(os=>{"use strict";os.L={bit:1};os.M={bit:0};os.Q={bit:3};os.H={bit:2};function Rie(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return os.L;case"m":case"medium":return os.M;case"q":case"quartile":return os.Q;case"h":case"high":return os.H;default:throw new Error("Unknown EC Level: "+n)}}os.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};os.from=function(e,t){if(os.isValid(e))return e;try{return Rie(e)}catch{return t}}});var lF=Kn((X4e,uF)=>{"use strict";function aF(){this.buffer=[],this.length=0}aF.prototype={get:function(n){let e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};uF.exports=aF});var dF=Kn((e_e,cF)=>{"use strict";function Qf(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}Qf.prototype.set=function(n,e,t,i){let r=n*this.size+e;this.data[r]=t,i&&(this.reservedBit[r]=!0)};Qf.prototype.get=function(n,e){return this.data[n*this.size+e]};Qf.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};Qf.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};cF.exports=Qf});var pF=Kn(J1=>{"use strict";var Lie=ll().getSymbolSize;J1.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,i=Lie(e),r=i===145?26:Math.ceil((i-13)/(2*t-2))*2,o=[i-7];for(let s=1;s<t-1;s++)o[s]=o[s-1]-r;return o.push(6),o.reverse()};J1.getPositions=function(e){let t=[],i=J1.getRowColCoords(e),r=i.length;for(let o=0;o<r;o++)for(let s=0;s<r;s++)o===0&&s===0||o===0&&s===r-1||o===r-1&&s===0||t.push([i[o],i[s]]);return t}});var hF=Kn(mF=>{"use strict";var kie=ll().getSymbolSize,fF=7;mF.getPositions=function(e){let t=kie(e);return[[0,0],[t-fF,0],[0,t-fF]]}});var gF=Kn(li=>{"use strict";li.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var xc={N1:3,N2:3,N3:40,N4:10};li.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};li.from=function(e){return li.isValid(e)?parseInt(e,10):void 0};li.getPenaltyN1=function(e){let t=e.size,i=0,r=0,o=0,s=null,l=null;for(let d=0;d<t;d++){r=o=0,s=l=null;for(let m=0;m<t;m++){let g=e.get(d,m);g===s?r++:(r>=5&&(i+=xc.N1+(r-5)),s=g,r=1),g=e.get(m,d),g===l?o++:(o>=5&&(i+=xc.N1+(o-5)),l=g,o=1)}r>=5&&(i+=xc.N1+(r-5)),o>=5&&(i+=xc.N1+(o-5))}return i};li.getPenaltyN2=function(e){let t=e.size,i=0;for(let r=0;r<t-1;r++)for(let o=0;o<t-1;o++){let s=e.get(r,o)+e.get(r,o+1)+e.get(r+1,o)+e.get(r+1,o+1);(s===4||s===0)&&i++}return i*xc.N2};li.getPenaltyN3=function(e){let t=e.size,i=0,r=0,o=0;for(let s=0;s<t;s++){r=o=0;for(let l=0;l<t;l++)r=r<<1&2047|e.get(s,l),l>=10&&(r===1488||r===93)&&i++,o=o<<1&2047|e.get(l,s),l>=10&&(o===1488||o===93)&&i++}return i*xc.N3};li.getPenaltyN4=function(e){let t=0,i=e.data.length;for(let o=0;o<i;o++)t+=e.data[o];return Math.abs(Math.ceil(t*100/i/5)-10)*xc.N4};function jie(n,e,t){switch(n){case li.Patterns.PATTERN000:return(e+t)%2===0;case li.Patterns.PATTERN001:return e%2===0;case li.Patterns.PATTERN010:return t%3===0;case li.Patterns.PATTERN011:return(e+t)%3===0;case li.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case li.Patterns.PATTERN101:return e*t%2+e*t%3===0;case li.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case li.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}li.applyMask=function(e,t){let i=t.size;for(let r=0;r<i;r++)for(let o=0;o<i;o++)t.isReserved(o,r)||t.xor(o,r,jie(e,o,r))};li.getBestMask=function(e,t){let i=Object.keys(li.Patterns).length,r=0,o=1/0;for(let s=0;s<i;s++){t(s),li.applyMask(s,e);let l=li.getPenaltyN1(e)+li.getPenaltyN2(e)+li.getPenaltyN3(e)+li.getPenaltyN4(e);li.applyMask(s,e),l<o&&(o=l,r=s)}return r}});var pE=Kn(dE=>{"use strict";var cl=Z1(),X1=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ev=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];dE.getBlocksCount=function(e,t){switch(t){case cl.L:return X1[(e-1)*4+0];case cl.M:return X1[(e-1)*4+1];case cl.Q:return X1[(e-1)*4+2];case cl.H:return X1[(e-1)*4+3];default:return}};dE.getTotalCodewordsCount=function(e,t){switch(t){case cl.L:return ev[(e-1)*4+0];case cl.M:return ev[(e-1)*4+1];case cl.Q:return ev[(e-1)*4+2];case cl.H:return ev[(e-1)*4+3];default:return}}});var vF=Kn(nv=>{"use strict";var Zf=new Uint8Array(512),tv=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)Zf[t]=e,tv[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)Zf[t]=Zf[t-255]})();nv.log=function(e){if(e<1)throw new Error("log("+e+")");return tv[e]};nv.exp=function(e){return Zf[e]};nv.mul=function(e,t){return e===0||t===0?0:Zf[tv[e]+tv[t]]}});var _F=Kn(Jf=>{"use strict";var fE=vF();Jf.mul=function(e,t){let i=new Uint8Array(e.length+t.length-1);for(let r=0;r<e.length;r++)for(let o=0;o<t.length;o++)i[r+o]^=fE.mul(e[r],t[o]);return i};Jf.mod=function(e,t){let i=new Uint8Array(e);for(;i.length-t.length>=0;){let r=i[0];for(let s=0;s<t.length;s++)i[s]^=fE.mul(t[s],r);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i};Jf.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let i=0;i<e;i++)t=Jf.mul(t,new Uint8Array([1,fE.exp(i)]));return t}});var EF=Kn((a_e,bF)=>{"use strict";var yF=_F();function mE(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}mE.prototype.initialize=function(e){this.degree=e,this.genPoly=yF.generateECPolynomial(this.degree)};mE.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let i=yF.mod(t,this.genPoly),r=this.degree-i.length;if(r>0){let o=new Uint8Array(this.degree);return o.set(i,r),o}return i};bF.exports=mE});var hE=Kn(SF=>{"use strict";SF.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var gE=Kn(ou=>{"use strict";var xF="[0-9]+",Bie="[A-Z $%*+\\-./:]+",Xf="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Xf=Xf.replace(/u/g,"\\u");var Vie="(?:(?![A-Z0-9 $%*+\\-./:]|"+Xf+`)(?:.|[\r
]))+`;ou.KANJI=new RegExp(Xf,"g");ou.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ou.BYTE=new RegExp(Vie,"g");ou.NUMERIC=new RegExp(xF,"g");ou.ALPHANUMERIC=new RegExp(Bie,"g");var Uie=new RegExp("^"+Xf+"$"),qie=new RegExp("^"+xF+"$"),$ie=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ou.testKanji=function(e){return Uie.test(e)};ou.testNumeric=function(e){return qie.test(e)};ou.testAlphanumeric=function(e){return $ie.test(e)}});var dl=Kn(zi=>{"use strict";var Hie=hE(),vE=gE();zi.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};zi.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};zi.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};zi.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};zi.MIXED={bit:-1};zi.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!Hie.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};zi.getBestModeForData=function(e){return vE.testNumeric(e)?zi.NUMERIC:vE.testAlphanumeric(e)?zi.ALPHANUMERIC:vE.testKanji(e)?zi.KANJI:zi.BYTE};zi.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};zi.isValid=function(e){return e&&e.bit&&e.ccBits};function zie(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return zi.NUMERIC;case"alphanumeric":return zi.ALPHANUMERIC;case"kanji":return zi.KANJI;case"byte":return zi.BYTE;default:throw new Error("Unknown mode: "+n)}}zi.from=function(e,t){if(zi.isValid(e))return e;try{return zie(e)}catch{return t}}});var IF=Kn(Cc=>{"use strict";var iv=ll(),Gie=pE(),CF=Z1(),pl=dl(),_E=hE(),AF=7973,wF=iv.getBCHDigit(AF);function Wie(n,e,t){for(let i=1;i<=40;i++)if(e<=Cc.getCapacity(i,t,n))return i}function DF(n,e){return pl.getCharCountIndicator(n,e)+4}function Yie(n,e){let t=0;return n.forEach(function(i){let r=DF(i.mode,e);t+=r+i.getBitsLength()}),t}function Kie(n,e){for(let t=1;t<=40;t++)if(Yie(n,t)<=Cc.getCapacity(t,e,pl.MIXED))return t}Cc.from=function(e,t){return _E.isValid(e)?parseInt(e,10):t};Cc.getCapacity=function(e,t,i){if(!_E.isValid(e))throw new Error("Invalid QR Code version");typeof i>"u"&&(i=pl.BYTE);let r=iv.getSymbolTotalCodewords(e),o=Gie.getTotalCodewordsCount(e,t),s=(r-o)*8;if(i===pl.MIXED)return s;let l=s-DF(i,e);switch(i){case pl.NUMERIC:return Math.floor(l/10*3);case pl.ALPHANUMERIC:return Math.floor(l/11*2);case pl.KANJI:return Math.floor(l/13);case pl.BYTE:default:return Math.floor(l/8)}};Cc.getBestVersionForData=function(e,t){let i,r=CF.from(t,CF.M);if(Array.isArray(e)){if(e.length>1)return Kie(e,r);if(e.length===0)return 1;i=e[0]}else i=e;return Wie(i.mode,i.getLength(),r)};Cc.getEncodedBits=function(e){if(!_E.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;iv.getBCHDigit(t)-wF>=0;)t^=AF<<iv.getBCHDigit(t)-wF;return e<<12|t}});var NF=Kn(FF=>{"use strict";var yE=ll(),MF=1335,Qie=21522,TF=yE.getBCHDigit(MF);FF.getEncodedBits=function(e,t){let i=e.bit<<3|t,r=i<<10;for(;yE.getBCHDigit(r)-TF>=0;)r^=MF<<yE.getBCHDigit(r)-TF;return(i<<10|r)^Qie}});var OF=Kn((f_e,PF)=>{"use strict";var Zie=dl();function D0(n){this.mode=Zie.NUMERIC,this.data=n.toString()}D0.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};D0.prototype.getLength=function(){return this.data.length};D0.prototype.getBitsLength=function(){return D0.getBitsLength(this.data.length)};D0.prototype.write=function(e){let t,i,r;for(t=0;t+3<=this.data.length;t+=3)i=this.data.substr(t,3),r=parseInt(i,10),e.put(r,10);let o=this.data.length-t;o>0&&(i=this.data.substr(t),r=parseInt(i,10),e.put(r,o*3+1))};PF.exports=D0});var LF=Kn((m_e,RF)=>{"use strict";var Jie=dl(),bE=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function I0(n){this.mode=Jie.ALPHANUMERIC,this.data=n}I0.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};I0.prototype.getLength=function(){return this.data.length};I0.prototype.getBitsLength=function(){return I0.getBitsLength(this.data.length)};I0.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let i=bE.indexOf(this.data[t])*45;i+=bE.indexOf(this.data[t+1]),e.put(i,11)}this.data.length%2&&e.put(bE.indexOf(this.data[t]),6)};RF.exports=I0});var jF=Kn((h_e,kF)=>{"use strict";var Xie=dl();function T0(n){this.mode=Xie.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}T0.getBitsLength=function(e){return e*8};T0.prototype.getLength=function(){return this.data.length};T0.prototype.getBitsLength=function(){return T0.getBitsLength(this.data.length)};T0.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};kF.exports=T0});var VF=Kn((g_e,BF)=>{"use strict";var ere=dl(),tre=ll();function M0(n){this.mode=ere.KANJI,this.data=n}M0.getBitsLength=function(e){return e*13};M0.prototype.getLength=function(){return this.data.length};M0.prototype.getBitsLength=function(){return M0.getBitsLength(this.data.length)};M0.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=tre.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};BF.exports=M0});var UF=Kn((v_e,EE)=>{"use strict";var em={single_source_shortest_paths:function(n,e,t){var i={},r={};r[e]=0;var o=em.PriorityQueue.make();o.push(e,0);for(var s,l,d,m,g,y,S,_,A;!o.empty();){s=o.pop(),l=s.value,m=s.cost,g=n[l]||{};for(d in g)g.hasOwnProperty(d)&&(y=g[d],S=m+y,_=r[d],A=typeof r[d]>"u",(A||_>S)&&(r[d]=S,o.push(d,S),i[d]=l))}if(typeof t<"u"&&typeof r[t]>"u"){var w=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(w)}return i},extract_shortest_path_from_predecessor_list:function(n,e){for(var t=[],i=e,r;i;)t.push(i),r=n[i],i=n[i];return t.reverse(),t},find_path:function(n,e,t){var i=em.single_source_shortest_paths(n,e,t);return em.extract_shortest_path_from_predecessor_list(i,t)},PriorityQueue:{make:function(n){var e=em.PriorityQueue,t={},i;n=n||{};for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t.queue=[],t.sorter=n.sorter||e.default_sorter,t},default_sorter:function(n,e){return n.cost-e.cost},push:function(n,e){var t={value:n,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof EE<"u"&&(EE.exports=em)});var KF=Kn(F0=>{"use strict";var zn=dl(),HF=OF(),zF=LF(),GF=jF(),WF=VF(),tm=gE(),rv=ll(),nre=UF();function qF(n){return unescape(encodeURIComponent(n)).length}function nm(n,e,t){let i=[],r;for(;(r=n.exec(t))!==null;)i.push({data:r[0],index:r.index,mode:e,length:r[0].length});return i}function YF(n){let e=nm(tm.NUMERIC,zn.NUMERIC,n),t=nm(tm.ALPHANUMERIC,zn.ALPHANUMERIC,n),i,r;return rv.isKanjiModeEnabled()?(i=nm(tm.BYTE,zn.BYTE,n),r=nm(tm.KANJI,zn.KANJI,n)):(i=nm(tm.BYTE_KANJI,zn.BYTE,n),r=[]),e.concat(t,i,r).sort(function(s,l){return s.index-l.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function SE(n,e){switch(e){case zn.NUMERIC:return HF.getBitsLength(n);case zn.ALPHANUMERIC:return zF.getBitsLength(n);case zn.KANJI:return WF.getBitsLength(n);case zn.BYTE:return GF.getBitsLength(n)}}function ire(n){return n.reduce(function(e,t){let i=e.length-1>=0?e[e.length-1]:null;return i&&i.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function rre(n){let e=[];for(let t=0;t<n.length;t++){let i=n[t];switch(i.mode){case zn.NUMERIC:e.push([i,{data:i.data,mode:zn.ALPHANUMERIC,length:i.length},{data:i.data,mode:zn.BYTE,length:i.length}]);break;case zn.ALPHANUMERIC:e.push([i,{data:i.data,mode:zn.BYTE,length:i.length}]);break;case zn.KANJI:e.push([i,{data:i.data,mode:zn.BYTE,length:qF(i.data)}]);break;case zn.BYTE:e.push([{data:i.data,mode:zn.BYTE,length:qF(i.data)}])}}return e}function ore(n,e){let t={},i={start:{}},r=["start"];for(let o=0;o<n.length;o++){let s=n[o],l=[];for(let d=0;d<s.length;d++){let m=s[d],g=""+o+d;l.push(g),t[g]={node:m,lastCount:0},i[g]={};for(let y=0;y<r.length;y++){let S=r[y];t[S]&&t[S].node.mode===m.mode?(i[S][g]=SE(t[S].lastCount+m.length,m.mode)-SE(t[S].lastCount,m.mode),t[S].lastCount+=m.length):(t[S]&&(t[S].lastCount=m.length),i[S][g]=SE(m.length,m.mode)+4+zn.getCharCountIndicator(m.mode,e))}}r=l}for(let o=0;o<r.length;o++)i[r[o]].end=0;return{map:i,table:t}}function $F(n,e){let t,i=zn.getBestModeForData(n);if(t=zn.from(e,i),t!==zn.BYTE&&t.bit<i.bit)throw new Error('"'+n+'" cannot be encoded with mode '+zn.toString(t)+`.
 Suggested mode is: `+zn.toString(i));switch(t===zn.KANJI&&!rv.isKanjiModeEnabled()&&(t=zn.BYTE),t){case zn.NUMERIC:return new HF(n);case zn.ALPHANUMERIC:return new zF(n);case zn.KANJI:return new WF(n);case zn.BYTE:return new GF(n)}}F0.fromArray=function(e){return e.reduce(function(t,i){return typeof i=="string"?t.push($F(i,null)):i.data&&t.push($F(i.data,i.mode)),t},[])};F0.fromString=function(e,t){let i=YF(e,rv.isKanjiModeEnabled()),r=rre(i),o=ore(r,t),s=nre.find_path(o.map,"start","end"),l=[];for(let d=1;d<s.length-1;d++)l.push(o.table[s[d]].node);return F0.fromArray(ire(l))};F0.rawSplit=function(e){return F0.fromArray(YF(e,rv.isKanjiModeEnabled()))}});var ZF=Kn(QF=>{"use strict";var sv=ll(),xE=Z1(),sre=lF(),are=dF(),ure=pF(),lre=hF(),AE=gF(),DE=pE(),cre=EF(),ov=IF(),dre=NF(),pre=dl(),CE=KF();function fre(n,e){let t=n.size,i=lre.getPositions(e);for(let r=0;r<i.length;r++){let o=i[r][0],s=i[r][1];for(let l=-1;l<=7;l++)if(!(o+l<=-1||t<=o+l))for(let d=-1;d<=7;d++)s+d<=-1||t<=s+d||(l>=0&&l<=6&&(d===0||d===6)||d>=0&&d<=6&&(l===0||l===6)||l>=2&&l<=4&&d>=2&&d<=4?n.set(o+l,s+d,!0,!0):n.set(o+l,s+d,!1,!0))}}function mre(n){let e=n.size;for(let t=8;t<e-8;t++){let i=t%2===0;n.set(t,6,i,!0),n.set(6,t,i,!0)}}function hre(n,e){let t=ure.getPositions(e);for(let i=0;i<t.length;i++){let r=t[i][0],o=t[i][1];for(let s=-2;s<=2;s++)for(let l=-2;l<=2;l++)s===-2||s===2||l===-2||l===2||s===0&&l===0?n.set(r+s,o+l,!0,!0):n.set(r+s,o+l,!1,!0)}}function gre(n,e){let t=n.size,i=ov.getEncodedBits(e),r,o,s;for(let l=0;l<18;l++)r=Math.floor(l/3),o=l%3+t-8-3,s=(i>>l&1)===1,n.set(r,o,s,!0),n.set(o,r,s,!0)}function wE(n,e,t){let i=n.size,r=dre.getEncodedBits(e,t),o,s;for(o=0;o<15;o++)s=(r>>o&1)===1,o<6?n.set(o,8,s,!0):o<8?n.set(o+1,8,s,!0):n.set(i-15+o,8,s,!0),o<8?n.set(8,i-o-1,s,!0):o<9?n.set(8,15-o-1+1,s,!0):n.set(8,15-o-1,s,!0);n.set(i-8,8,1,!0)}function vre(n,e){let t=n.size,i=-1,r=t-1,o=7,s=0;for(let l=t-1;l>0;l-=2)for(l===6&&l--;;){for(let d=0;d<2;d++)if(!n.isReserved(r,l-d)){let m=!1;s<e.length&&(m=(e[s]>>>o&1)===1),n.set(r,l-d,m),o--,o===-1&&(s++,o=7)}if(r+=i,r<0||t<=r){r-=i,i=-i;break}}}function _re(n,e,t){let i=new sre;t.forEach(function(d){i.put(d.mode.bit,4),i.put(d.getLength(),pre.getCharCountIndicator(d.mode,n)),d.write(i)});let r=sv.getSymbolTotalCodewords(n),o=DE.getTotalCodewordsCount(n,e),s=(r-o)*8;for(i.getLengthInBits()+4<=s&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);let l=(s-i.getLengthInBits())/8;for(let d=0;d<l;d++)i.put(d%2?17:236,8);return yre(i,n,e)}function yre(n,e,t){let i=sv.getSymbolTotalCodewords(e),r=DE.getTotalCodewordsCount(e,t),o=i-r,s=DE.getBlocksCount(e,t),l=i%s,d=s-l,m=Math.floor(i/s),g=Math.floor(o/s),y=g+1,S=m-g,_=new cre(S),A=0,w=new Array(s),L=new Array(s),F=0,k=new Uint8Array(n.buffer);for(let re=0;re<s;re++){let Y=re<d?g:y;w[re]=k.slice(A,A+Y),L[re]=_.encode(w[re]),A+=Y,F=Math.max(F,Y)}let W=new Uint8Array(i),te=0,le,ge;for(le=0;le<F;le++)for(ge=0;ge<s;ge++)le<w[ge].length&&(W[te++]=w[ge][le]);for(le=0;le<S;le++)for(ge=0;ge<s;ge++)W[te++]=L[ge][le];return W}function bre(n,e,t,i){let r;if(Array.isArray(n))r=CE.fromArray(n);else if(typeof n=="string"){let m=e;if(!m){let g=CE.rawSplit(n);m=ov.getBestVersionForData(g,t)}r=CE.fromString(n,m||40)}else throw new Error("Invalid data");let o=ov.getBestVersionForData(r,t);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let s=_re(e,t,r),l=sv.getSymbolSize(e),d=new are(l);return fre(d,e),mre(d),hre(d,e),wE(d,t,0),e>=7&&gre(d,e),vre(d,s),isNaN(i)&&(i=AE.getBestMask(d,wE.bind(null,d,t))),AE.applyMask(i,d),wE(d,t,i),{modules:d,version:e,errorCorrectionLevel:t,maskPattern:i,segments:r}}QF.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let i=xE.M,r,o;return typeof t<"u"&&(i=xE.from(t.errorCorrectionLevel,xE.M),r=ov.from(t.version),o=AE.from(t.maskPattern),t.toSJISFunc&&sv.setToSJISFunction(t.toSJISFunc)),bre(e,r,i,o)}});var IE=Kn(wc=>{"use strict";function JF(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let e=n.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+n);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}wc.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,r=e.scale||4;return{width:i,scale:i?4:r,margin:t,color:{dark:JF(e.color.dark||"#000000ff"),light:JF(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};wc.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};wc.getImageWidth=function(e,t){let i=wc.getScale(e,t);return Math.floor((e+t.margin*2)*i)};wc.qrToImageData=function(e,t,i){let r=t.modules.size,o=t.modules.data,s=wc.getScale(r,i),l=Math.floor((r+i.margin*2)*s),d=i.margin*s,m=[i.color.light,i.color.dark];for(let g=0;g<l;g++)for(let y=0;y<l;y++){let S=(g*l+y)*4,_=i.color.light;if(g>=d&&y>=d&&g<l-d&&y<l-d){let A=Math.floor((g-d)/s),w=Math.floor((y-d)/s);_=m[o[A*r+w]?1:0]}e[S++]=_.r,e[S++]=_.g,e[S++]=_.b,e[S]=_.a}}});var XF=Kn(av=>{"use strict";var TE=IE();function Ere(n,e,t){n.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function Sre(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}av.render=function(e,t,i){let r=i,o=t;typeof r>"u"&&(!t||!t.getContext)&&(r=t,t=void 0),t||(o=Sre()),r=TE.getOptions(r);let s=TE.getImageWidth(e.modules.size,r),l=o.getContext("2d"),d=l.createImageData(s,s);return TE.qrToImageData(d.data,e,r),Ere(l,o,s),l.putImageData(d,0,0),o};av.renderToDataURL=function(e,t,i){let r=i;typeof r>"u"&&(!t||!t.getContext)&&(r=t,t=void 0),r||(r={});let o=av.render(e,t,r),s=r.type||"image/png",l=r.rendererOpts||{};return o.toDataURL(s,l.quality)}});var nN=Kn(tN=>{"use strict";var xre=IE();function eN(n,e){let t=n.a/255,i=e+'="'+n.hex+'"';return t<1?i+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':i}function ME(n,e,t){let i=n+e;return typeof t<"u"&&(i+=" "+t),i}function Cre(n,e,t){let i="",r=0,o=!1,s=0;for(let l=0;l<n.length;l++){let d=Math.floor(l%e),m=Math.floor(l/e);!d&&!o&&(o=!0),n[l]?(s++,l>0&&d>0&&n[l-1]||(i+=o?ME("M",d+t,.5+m+t):ME("m",r,0),r=0,o=!1),d+1<e&&n[l+1]||(i+=ME("h",s),s=0)):r++}return i}tN.render=function(e,t,i){let r=xre.getOptions(t),o=e.modules.size,s=e.modules.data,l=o+r.margin*2,d=r.color.light.a?"<path "+eN(r.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",m="<path "+eN(r.color.dark,"stroke")+' d="'+Cre(s,o,r.margin)+'"/>',g='viewBox="0 0 '+l+" "+l+'"',S='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+g+' shape-rendering="crispEdges">'+d+m+`</svg>
`;return typeof i=="function"&&i(null,S),S}});var rN=Kn(im=>{"use strict";var wre=sF(),FE=ZF(),iN=XF(),Are=nN();function NE(n,e,t,i,r){let o=[].slice.call(arguments,1),s=o.length,l=typeof o[s-1]=="function";if(!l&&!wre())throw new Error("Callback required as last argument");if(l){if(s<2)throw new Error("Too few arguments provided");s===2?(r=t,t=e,e=i=void 0):s===3&&(e.getContext&&typeof r>"u"?(r=i,i=void 0):(r=i,i=t,t=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(t=e,e=i=void 0):s===2&&!e.getContext&&(i=t,t=e,e=void 0),new Promise(function(d,m){try{let g=FE.create(t,i);d(n(g,e,i))}catch(g){m(g)}})}try{let d=FE.create(t,i);r(null,n(d,e,i))}catch(d){r(d)}}im.create=FE.create;im.toCanvas=NE.bind(null,iN.render);im.toDataURL=NE.bind(null,iN.renderToDataURL);im.toString=NE.bind(null,function(n,e,t){return Are.render(n,t)})});function l4(n,e){return Object.is(n,e)}var Yi=null,Ym=!1,c4=1,mo=Symbol("SIGNAL");function Fn(n){let e=Yi;return Yi=n,e}function aS(){return Yi}var dp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Qm(n){if(Ym)throw new Error("");if(Yi===null)return;Yi.consumerOnSignalRead(n);let e=Yi.nextProducerIndex++;if(Xm(Yi),e<Yi.producerNode.length&&Yi.producerNode[e]!==n&&cp(Yi)){let t=Yi.producerNode[e];Jm(t,Yi.producerIndexOfThis[e])}Yi.producerNode[e]!==n&&(Yi.producerNode[e]=n,Yi.producerIndexOfThis[e]=cp(Yi)?cS(n,Yi,e):0),Yi.producerLastReadVersion[e]=n.version}function WN(){c4++}function d4(n){if(!(cp(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===c4)){if(!n.producerMustRecompute(n)&&!f4(n)){u4(n);return}n.producerRecomputeValue(n),u4(n)}}function uS(n){if(n.liveConsumerNode===void 0)return;let e=Ym;Ym=!0;try{for(let t of n.liveConsumerNode)t.dirty||YN(t)}finally{Ym=e}}function lS(){return Yi?.consumerAllowSignalWrites!==!1}function YN(n){n.dirty=!0,uS(n),n.consumerMarkedDirty?.(n)}function u4(n){n.dirty=!1,n.lastCleanEpoch=c4}function Zm(n){return n&&(n.nextProducerIndex=0),Fn(n)}function p4(n,e){if(Fn(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(cp(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Jm(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function f4(n){Xm(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(d4(t),i!==t.version))return!0}return!1}function m4(n){if(Xm(n),cp(n))for(let e=0;e<n.producerNode.length;e++)Jm(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function cS(n,e,t){if(dS(n),n.liveConsumerNode.length===0&&pS(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=cS(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Jm(n,e){if(dS(n),n.liveConsumerNode.length===1&&pS(n))for(let i=0;i<n.producerNode.length;i++)Jm(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Xm(r),r.producerIndexOfThis[i]=e}}function cp(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Xm(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function dS(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function pS(n){return n.producerNode!==void 0}function fS(n){let e=Object.create(KN);e.computation=n;let t=()=>{if(d4(e),Qm(e),e.value===Km)throw e.error;return e.value};return t[mo]=e,t}var s4=Symbol("UNSET"),a4=Symbol("COMPUTING"),Km=Symbol("ERRORED"),KN=Yt(Re({},dp),{value:s4,dirty:!0,error:null,equal:l4,producerMustRecompute(n){return n.value===s4||n.value===a4},producerRecomputeValue(n){if(n.value===a4)throw new Error("Detected cycle in computations.");let e=n.value;n.value=a4;let t=Zm(n),i;try{i=n.computation()}catch(r){i=Km,n.error=r}finally{p4(n,t)}if(e!==s4&&e!==Km&&i!==Km&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function QN(){throw new Error}var mS=QN;function hS(){mS()}function gS(n){mS=n}var ZN=null;function vS(n){let e=Object.create(h4);e.value=n;let t=()=>(Qm(e),e.value);return t[mo]=e,t}function eh(n,e){lS()||hS(),n.equal(n.value,e)||(n.value=e,JN(n))}function _S(n,e){lS()||hS(),eh(n,e(n.value))}var h4=Yt(Re({},dp),{equal:l4,value:void 0});function JN(n){n.version++,WN(),uS(n),ZN?.()}function nn(n){return typeof n=="function"}function td(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var th=td(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function pp(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ki=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(nn(i))try{i()}catch(o){e=o instanceof th?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{yS(o)}catch(s){e=e??[],s instanceof th?e=[...e,...s.errors]:e.push(s)}}if(e)throw new th(e)}}add(e){var t;if(e&&e!==this)if(this.closed)yS(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&pp(t,e)}remove(e){let{_finalizers:t}=this;t&&pp(t,e),e instanceof n&&e._removeParent(this)}};ki.EMPTY=(()=>{let n=new ki;return n.closed=!0,n})();var g4=ki.EMPTY;function nh(n){return n instanceof ki||n&&"closed"in n&&nn(n.remove)&&nn(n.add)&&nn(n.unsubscribe)}function yS(n){nn(n)?n():n.unsubscribe()}var vs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var nd={setTimeout(n,e,...t){let{delegate:i}=nd;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=nd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ih(n){nd.setTimeout(()=>{let{onUnhandledError:e}=vs;if(e)e(n);else throw n})}function fp(){}var bS=v4("C",void 0,void 0);function ES(n){return v4("E",void 0,n)}function SS(n){return v4("N",n,void 0)}function v4(n,e,t){return{kind:n,value:e,error:t}}var Al=null;function id(n){if(vs.useDeprecatedSynchronousErrorHandling){let e=!Al;if(e&&(Al={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=Al;if(Al=null,t)throw i}}else n()}function xS(n){vs.useDeprecatedSynchronousErrorHandling&&Al&&(Al.errorThrown=!0,Al.error=n)}var Dl=class extends ki{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nh(e)&&e.add(this)):this.destination=t8}static create(e,t,i){return new rd(e,t,i)}next(e){this.isStopped?y4(SS(e),this):this._next(e)}error(e){this.isStopped?y4(ES(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?y4(bS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},XN=Function.prototype.bind;function _4(n,e){return XN.call(n,e)}var b4=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){rh(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){rh(i)}else rh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){rh(t)}}},rd=class extends Dl{constructor(e,t,i){super();let r;if(nn(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&vs.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&_4(e.next,o),error:e.error&&_4(e.error,o),complete:e.complete&&_4(e.complete,o)}):r=e}this.destination=new b4(r)}};function rh(n){vs.useDeprecatedSynchronousErrorHandling?xS(n):ih(n)}function e8(n){throw n}function y4(n,e){let{onStoppedNotification:t}=vs;t&&nd.setTimeout(()=>t(n,e))}var t8={closed:!0,next:fp,error:e8,complete:fp};var od=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ho(n){return n}function E4(...n){return S4(n)}function S4(n){return n.length===0?ho:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var In=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=i8(t)?t:new rd(t,i,r);return id(()=>{let{operator:s,source:l}=this;o.add(s?s.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=CS(i),new i((r,o)=>{let s=new rd({next:l=>{try{t(l)}catch(d){o(d),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[od](){return this}pipe(...t){return S4(t)(this)}toPromise(t){return t=CS(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function CS(n){var e;return(e=n??vs.Promise)!==null&&e!==void 0?e:Promise}function n8(n){return n&&nn(n.next)&&nn(n.error)&&nn(n.complete)}function i8(n){return n&&n instanceof Dl||n8(n)&&nh(n)}function x4(n){return nn(n?.lift)}function Tn(n){return e=>{if(x4(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function An(n,e,t,i,r){return new C4(n,e,t,i,r)}var C4=class extends Dl{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(l){try{t(l)}catch(d){e.error(d)}}:super._next,this._error=r?function(l){try{r(l)}catch(d){e.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function sd(){return Tn((n,e)=>{let t=null;n._refCount++;let i=An(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var ad=class extends In{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,x4(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ki;let t=this.getSubject();e.add(this.source.subscribe(An(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ki.EMPTY)}return e}refCount(){return sd()(this)}};var wS=td(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Zn=(()=>{class n extends In{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new oh(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new wS}next(t){id(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){id(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){id(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?g4:(this.currentObservers=null,o.push(t),new ki(()=>{this.currentObservers=null,pp(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new In;return t.source=this,t}}return n.create=(e,t)=>new oh(e,t),n})(),oh=class extends Zn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:g4}};var Ki=class extends Zn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var go=new In(n=>n.complete());function AS(n){return n&&nn(n.schedule)}function DS(n){return n[n.length-1]}function sh(n){return nn(DS(n))?n.pop():void 0}function Eu(n){return AS(DS(n))?n.pop():void 0}function TS(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(g){try{m(i.next(g))}catch(y){s(y)}}function d(g){try{m(i.throw(g))}catch(y){s(y)}}function m(g){g.done?o(g.value):r(g.value).then(l,d)}m((i=i.apply(n,e||[])).next())})}function IS(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Il(n){return this instanceof Il?(this.v=n,this):new Il(n)}function MS(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(_){return function(A){return Promise.resolve(A).then(_,y)}}function l(_,A){i[_]&&(r[_]=function(w){return new Promise(function(L,F){o.push([_,w,L,F])>1||d(_,w)})},A&&(r[_]=A(r[_])))}function d(_,A){try{m(i[_](A))}catch(w){S(o[0][3],w)}}function m(_){_.value instanceof Il?Promise.resolve(_.value.v).then(g,y):S(o[0][2],_)}function g(_){d("next",_)}function y(_){d("throw",_)}function S(_,A){_(A),o.shift(),o.length&&d(o[0][0],o[0][1])}}function FS(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof IS=="function"?IS(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(l,d){s=n[o](s),r(l,d,s.done,s.value)})}}function r(o,s,l,d){Promise.resolve(d).then(function(m){o({value:m,done:l})},s)}}var ah=n=>n&&typeof n.length=="number"&&typeof n!="function";function uh(n){return nn(n?.then)}function lh(n){return nn(n[od])}function ch(n){return Symbol.asyncIterator&&nn(n?.[Symbol.asyncIterator])}function dh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function r8(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ph=r8();function fh(n){return nn(n?.[ph])}function mh(n){return MS(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Il(t.read());if(r)return yield Il(void 0);yield yield Il(i)}}finally{t.releaseLock()}})}function hh(n){return nn(n?.getReader)}function ji(n){if(n instanceof In)return n;if(n!=null){if(lh(n))return o8(n);if(ah(n))return s8(n);if(uh(n))return a8(n);if(ch(n))return NS(n);if(fh(n))return u8(n);if(hh(n))return l8(n)}throw dh(n)}function o8(n){return new In(e=>{let t=n[od]();if(nn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function s8(n){return new In(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function a8(n){return new In(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ih)})}function u8(n){return new In(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function NS(n){return new In(e=>{c8(n,e).catch(t=>e.error(t))})}function l8(n){return NS(mh(n))}function c8(n,e){var t,i,r,o;return TS(this,void 0,void 0,function*(){try{for(t=FS(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function Qr(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function gh(n,e=0){return Tn((t,i)=>{t.subscribe(An(i,r=>Qr(i,n,()=>i.next(r),e),()=>Qr(i,n,()=>i.complete(),e),r=>Qr(i,n,()=>i.error(r),e)))})}function vh(n,e=0){return Tn((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function PS(n,e){return ji(n).pipe(vh(e),gh(e))}function OS(n,e){return ji(n).pipe(vh(e),gh(e))}function RS(n,e){return new In(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function LS(n,e){return new In(t=>{let i;return Qr(t,e,()=>{i=n[ph](),Qr(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>nn(i?.return)&&i.return()})}function _h(n,e){if(!n)throw new Error("Iterable cannot be null");return new In(t=>{Qr(t,e,()=>{let i=n[Symbol.asyncIterator]();Qr(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function kS(n,e){return _h(mh(n),e)}function jS(n,e){if(n!=null){if(lh(n))return PS(n,e);if(ah(n))return RS(n,e);if(uh(n))return OS(n,e);if(ch(n))return _h(n,e);if(fh(n))return LS(n,e);if(hh(n))return kS(n,e)}throw dh(n)}function si(n,e){return e?jS(n,e):ji(n)}function jt(...n){let e=Eu(n);return si(n,e)}function ud(n,e){let t=nn(n)?n:()=>n,i=r=>r.error(t());return new In(e?r=>e.schedule(i,0,r):i)}function w4(n){return!!n&&(n instanceof In||nn(n.lift)&&nn(n.subscribe))}var wa=td(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ln(n,e){return Tn((t,i)=>{let r=0;t.subscribe(An(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:d8}=Array;function p8(n,e){return d8(e)?n(...e):n(e)}function yh(n){return ln(e=>p8(n,e))}var{isArray:f8}=Array,{getPrototypeOf:m8,prototype:h8,keys:g8}=Object;function bh(n){if(n.length===1){let e=n[0];if(f8(e))return{args:e,keys:null};if(v8(e)){let t=g8(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function v8(n){return n&&typeof n=="object"&&m8(n)===h8}function Eh(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function mp(...n){let e=Eu(n),t=sh(n),{args:i,keys:r}=bh(n);if(i.length===0)return si([],e);let o=new In(_8(i,e,r?s=>Eh(r,s):ho));return t?o.pipe(yh(t)):o}function _8(n,e,t=ho){return i=>{BS(e,()=>{let{length:r}=n,o=new Array(r),s=r,l=r;for(let d=0;d<r;d++)BS(e,()=>{let m=si(n[d],e),g=!1;m.subscribe(An(i,y=>{o[d]=y,g||(g=!0,l--),l||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function BS(n,e,t){n?Qr(t,n,e):e()}function VS(n,e,t,i,r,o,s,l){let d=[],m=0,g=0,y=!1,S=()=>{y&&!d.length&&!m&&e.complete()},_=w=>m<i?A(w):d.push(w),A=w=>{o&&e.next(w),m++;let L=!1;ji(t(w,g++)).subscribe(An(e,F=>{r?.(F),o?_(F):e.next(F)},()=>{L=!0},void 0,()=>{if(L)try{for(m--;d.length&&m<i;){let F=d.shift();s?Qr(e,s,()=>A(F)):A(F)}S()}catch(F){e.error(F)}}))};return n.subscribe(An(e,_,()=>{y=!0,S()})),()=>{l?.()}}function Bi(n,e,t=1/0){return nn(e)?Bi((i,r)=>ln((o,s)=>e(i,o,r,s))(ji(n(i,r))),t):(typeof e=="number"&&(t=e),Tn((i,r)=>VS(i,r,n,t)))}function Su(n=1/0){return Bi(ho,n)}function US(){return Su(1)}function ld(...n){return US()(si(n,Eu(n)))}function Sh(n){return new In(e=>{ji(n()).subscribe(e)})}function A4(...n){let e=sh(n),{args:t,keys:i}=bh(n),r=new In(o=>{let{length:s}=t;if(!s){o.complete();return}let l=new Array(s),d=s,m=s;for(let g=0;g<s;g++){let y=!1;ji(t[g]).subscribe(An(o,S=>{y||(y=!0,m--),l[g]=S},()=>d--,void 0,()=>{(!d||!y)&&(m||o.next(i?Eh(i,l):l),o.complete())}))}});return e?r.pipe(yh(e)):r}function Zr(n,e){return Tn((t,i)=>{let r=0;t.subscribe(An(i,o=>n.call(e,o,r++)&&i.next(o)))})}function xu(n){return Tn((e,t)=>{let i=null,r=!1,o;i=e.subscribe(An(t,void 0,void 0,s=>{o=ji(n(s,xu(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function qS(n,e,t,i,r){return(o,s)=>{let l=t,d=e,m=0;o.subscribe(An(s,g=>{let y=m++;d=l?n(d,g,y):(l=!0,g),i&&s.next(d)},r&&(()=>{l&&s.next(d),s.complete()})))}}function Aa(n,e){return nn(e)?Bi(n,e,1):Bi(n,1)}function Cu(n){return Tn((e,t)=>{let i=!1;e.subscribe(An(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Da(n){return n<=0?()=>go:Tn((e,t)=>{let i=0;e.subscribe(An(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function D4(n){return ln(()=>n)}function xh(n=y8){return Tn((e,t)=>{let i=!1;e.subscribe(An(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function y8(){return new wa}function Tl(n){return Tn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ia(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Zr((r,o)=>n(r,o,i)):ho,Da(1),t?Cu(e):xh(()=>new wa))}function cd(n){return n<=0?()=>go:Tn((e,t)=>{let i=[];e.subscribe(An(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function I4(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Zr((r,o)=>n(r,o,i)):ho,cd(1),t?Cu(e):xh(()=>new wa))}function T4(n,e){return Tn(qS(n,e,arguments.length>=2,!0))}function M4(...n){let e=Eu(n);return Tn((t,i)=>{(e?ld(n,t,e):ld(n,t)).subscribe(i)})}function Jr(n,e){return Tn((t,i)=>{let r=null,o=0,s=!1,l=()=>s&&!r&&i.complete();t.subscribe(An(i,d=>{r?.unsubscribe();let m=0,g=o++;ji(n(d,g)).subscribe(r=An(i,y=>i.next(e?e(d,y,g,m++):y),()=>{r=null,l()}))},()=>{s=!0,l()}))})}function F4(n){return Tn((e,t)=>{ji(n).subscribe(An(t,()=>t.complete(),fp)),!t.closed&&e.subscribe(t)})}function er(n,e,t){let i=nn(n)||e||t?{next:n,error:e,complete:t}:n;return i?Tn((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let l=!0;r.subscribe(An(o,d=>{var m;(m=i.next)===null||m===void 0||m.call(i,d),o.next(d)},()=>{var d;l=!1,(d=i.complete)===null||d===void 0||d.call(i),o.complete()},d=>{var m;l=!1,(m=i.error)===null||m===void 0||m.call(i,d),o.error(d)},()=>{var d,m;l&&((d=i.unsubscribe)===null||d===void 0||d.call(i)),(m=i.finalize)===null||m===void 0||m.call(i)}))}):ho}var Px="https://g.co/ng/security#xss",ze=class extends Error{code;constructor(e,t){super(ag(e,t)),this.code=e}};function ag(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var Ox=Symbol("InputSignalNode#UNSET"),b8=Yt(Re({},h4),{transformFn:void 0,applyValueToInputSignal(n,e){eh(n,e)}});function Rx(n,e){let t=Object.create(b8);t.value=n,t.transformFn=e?.transform;function i(){if(Qm(t),t.value===Ox)throw new ze(-950,!1);return t.value}return i[mo]=t,i}function Cp(n){return{toString:n}.toString()}var Ch="__parameters__";function E8(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function Lx(n,e,t){return Cp(()=>{let i=E8(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return l.annotation=s,l;function l(d,m,g){let y=d.hasOwnProperty(Ch)?d[Ch]:Object.defineProperty(d,Ch,{value:[]})[Ch];for(;y.length<=g;)y.push(null);return(y[g]=y[g]||[]).push(s),d}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var yr=globalThis;function ei(n){for(let e in n)if(n[e]===ei)return e;throw Error("Could not find renamed property on target object.")}function S8(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Rr(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Rr).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function z4(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var x8=ei({__forward_ref__:ei});function jr(n){return n.__forward_ref__=jr,n.toString=function(){return Rr(this())},n}function Or(n){return kx(n)?n():n}function kx(n){return typeof n=="function"&&n.hasOwnProperty(x8)&&n.__forward_ref__===jr}function $e(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Er(n){return{providers:n.providers||[],imports:n.imports||[]}}function ug(n){return $S(n,Bx)||$S(n,Vx)}function jx(n){return ug(n)!==null}function $S(n,e){return n.hasOwnProperty(e)?n[e]:null}function C8(n){let e=n&&(n[Bx]||n[Vx]);return e||null}function HS(n){return n&&(n.hasOwnProperty(zS)||n.hasOwnProperty(w8))?n[zS]:null}var Bx=ei({\u0275prov:ei}),zS=ei({\u0275inj:ei}),Vx=ei({ngInjectableDef:ei}),w8=ei({ngInjectorDef:ei}),mt=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=$e({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ux(n){return n&&!!n.\u0275providers}var A8=ei({\u0275cmp:ei}),D8=ei({\u0275dir:ei}),I8=ei({\u0275pipe:ei}),T8=ei({\u0275mod:ei}),kh=ei({\u0275fac:ei}),vp=ei({__NG_ELEMENT_ID__:ei}),GS=ei({__NG_ENV_ID__:ei});function Nl(n){return typeof n=="string"?n:n==null?"":String(n)}function M8(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Nl(n)}function F8(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ze(-200,n)}function J_(n,e){throw new ze(-201,!1)}var vn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(vn||{}),G4;function qx(){return G4}function Xr(n){let e=G4;return G4=n,e}function $x(n,e,t){let i=ug(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&vn.Optional)return null;if(e!==void 0)return e;J_(n,"Injector")}var N8={},_p=N8,W4="__NG_DI_FLAG__",jh="ngTempTokenPath",P8="ngTokenPath",O8=/\n/gm,R8="\u0275",WS="__source",hd;function L8(){return hd}function wu(n){let e=hd;return hd=n,e}function k8(n,e=vn.Default){if(hd===void 0)throw new ze(-203,!1);return hd===null?$x(n,void 0,e):hd.get(n,e&vn.Optional?null:void 0,e)}function Ge(n,e=vn.Default){return(qx()||k8)(Or(n),e)}function Ve(n,e=vn.Default){return Ge(n,lg(e))}function lg(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Y4(n){let e=[];for(let t=0;t<n.length;t++){let i=Or(n[t]);if(Array.isArray(i)){if(i.length===0)throw new ze(900,!1);let r,o=vn.Default;for(let s=0;s<i.length;s++){let l=i[s],d=j8(l);typeof d=="number"?d===-1?r=l.token:o|=d:r=l}e.push(Ge(r,o))}else e.push(Ge(i))}return e}function Hx(n,e){return n[W4]=e,n.prototype[W4]=e,n}function j8(n){return n[W4]}function B8(n,e,t,i){let r=n[jh];throw e[WS]&&r.unshift(e[WS]),n.message=V8(`
`+n.message,r,t,i),n[P8]=r,n[jh]=null,n}function V8(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==R8?n.slice(2):n;let r=Rr(e);if(Array.isArray(e))r=e.map(Rr).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let l=e[s];o.push(s+":"+(typeof l=="string"?JSON.stringify(l):Rr(l)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(O8,`
  `)}`}var cg=Hx(Lx("Optional"),8);var X_=Hx(Lx("SkipSelf"),4);function Pl(n,e){let t=n.hasOwnProperty(kh);return t?n[kh]:null}function U8(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function q8(n){return n.flat(Number.POSITIVE_INFINITY)}function ey(n,e){n.forEach(t=>Array.isArray(t)?ey(t,e):e(t))}function zx(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Bh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function $8(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function ty(n,e,t){let i=wp(n,e);return i>=0?n[i|1]=t:(i=~i,$8(n,i,e,t)),i}function N4(n,e){let t=wp(n,e);if(t>=0)return n[t|1]}function wp(n,e){return H8(n,e,1)}function H8(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var vd={},eo=[],_d=new mt(""),Gx=new mt("",-1),Wx=new mt(""),Vh=class{get(e,t=_p){if(t===_p){let i=new Error(`NullInjectorError: No provider for ${Rr(e)}!`);throw i.name="NullInjectorError",i}return t}};function Yx(n,e){let t=n[T8]||null;if(!t&&e===!0)throw new Error(`Type ${Rr(n)} does not have '\u0275mod' property.`);return t}function Iu(n){return n[A8]||null}function Kx(n){return n[D8]||null}function Qx(n){return n[I8]||null}function Zx(n){let e=Iu(n)||Kx(n)||Qx(n);return e!==null?e.standalone:!1}function Ou(n){return{\u0275providers:n}}function ny(...n){return{\u0275providers:Jx(!0,n),\u0275fromNgModule:!0}}function Jx(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return ey(e,s=>{let l=s;K4(l,o,[],i)&&(r||=[],r.push(l))}),r!==void 0&&Xx(r,o),t}function Xx(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];iy(r,o=>{e(o,i)})}}function K4(n,e,t,i){if(n=Or(n),!n)return!1;let r=null,o=HS(n),s=!o&&Iu(n);if(!o&&!s){let d=n.ngModule;if(o=HS(d),o)r=d;else return!1}else{if(s&&!s.standalone)return!1;r=n}let l=i.has(r);if(s){if(l)return!1;if(i.add(r),s.dependencies){let d=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let m of d)K4(m,e,t,i)}}else if(o){if(o.imports!=null&&!l){i.add(r);let m;try{ey(o.imports,g=>{K4(g,e,t,i)&&(m||=[],m.push(g))})}finally{}m!==void 0&&Xx(m,e)}if(!l){let m=Pl(r)||(()=>new r);e({provide:r,useFactory:m,deps:eo},r),e({provide:Wx,useValue:r,multi:!0},r),e({provide:_d,useValue:()=>Ge(r),multi:!0},r)}let d=o.providers;if(d!=null&&!l){let m=n;iy(d,g=>{e(g,m)})}}else return!1;return r!==n&&n.providers!==void 0}function iy(n,e){for(let t of n)Ux(t)&&(t=t.\u0275providers),Array.isArray(t)?iy(t,e):e(t)}var z8=ei({provide:String,useValue:ei});function eC(n){return n!==null&&typeof n=="object"&&z8 in n}function G8(n){return!!(n&&n.useExisting)}function W8(n){return!!(n&&n.useFactory)}function yd(n){return typeof n=="function"}function Y8(n){return!!n.useClass}var dg=new mt(""),Fh={},K8={},P4;function ry(){return P4===void 0&&(P4=new Vh),P4}var Lr=class{},yp=class extends Lr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,Z4(e,s=>this.processProvider(s)),this.records.set(Gx,dd(void 0,this)),r.has("environment")&&this.records.set(Lr,dd(void 0,this));let o=this.records.get(dg);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Wx,eo,vn.Self))}destroy(){hp(this),this._destroyed=!0;let e=Fn(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Fn(e)}}onDestroy(e){return hp(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){hp(this);let t=wu(this),i=Xr(void 0),r;try{return e()}finally{wu(t),Xr(i)}}get(e,t=_p,i=vn.Default){if(hp(this),e.hasOwnProperty(GS))return e[GS](this);i=lg(i);let r,o=wu(this),s=Xr(void 0);try{if(!(i&vn.SkipSelf)){let d=this.records.get(e);if(d===void 0){let m=eP(e)&&ug(e);m&&this.injectableDefInScope(m)?d=dd(Q4(e),Fh):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d)}let l=i&vn.Self?ry():this.parent;return t=i&vn.Optional&&t===_p?null:t,l.get(e,t)}catch(l){if(l.name==="NullInjectorError"){if((l[jh]=l[jh]||[]).unshift(Rr(e)),o)throw l;return B8(l,e,"R3InjectorError",this.source)}else throw l}finally{Xr(s),wu(o)}}resolveInjectorInitializers(){let e=Fn(null),t=wu(this),i=Xr(void 0),r;try{let o=this.get(_d,eo,vn.Self);for(let s of o)s()}finally{wu(t),Xr(i),Fn(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Rr(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Or(e);let t=yd(e)?e:Or(e&&e.provide),i=Z8(e);if(!yd(e)&&e.multi===!0){let r=this.records.get(t);r||(r=dd(void 0,Fh,!0),r.factory=()=>Y4(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=Fn(null);try{return t.value===Fh&&(t.value=K8,t.value=t.factory()),typeof t.value=="object"&&t.value&&X8(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Fn(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Or(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Q4(n){let e=ug(n),t=e!==null?e.factory:Pl(n);if(t!==null)return t;if(n instanceof mt)throw new ze(204,!1);if(n instanceof Function)return Q8(n);throw new ze(204,!1)}function Q8(n){if(n.length>0)throw new ze(204,!1);let t=C8(n);return t!==null?()=>t.factory(n):()=>new n}function Z8(n){if(eC(n))return dd(void 0,n.useValue);{let e=tC(n);return dd(e,Fh)}}function tC(n,e,t){let i;if(yd(n)){let r=Or(n);return Pl(r)||Q4(r)}else if(eC(n))i=()=>Or(n.useValue);else if(W8(n))i=()=>n.useFactory(...Y4(n.deps||[]));else if(G8(n))i=()=>Ge(Or(n.useExisting));else{let r=Or(n&&(n.useClass||n.provide));if(J8(n))i=()=>new r(...Y4(n.deps));else return Pl(r)||Q4(r)}return i}function hp(n){if(n.destroyed)throw new ze(205,!1)}function dd(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function J8(n){return!!n.deps}function X8(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function eP(n){return typeof n=="function"||typeof n=="object"&&n instanceof mt}function Z4(n,e){for(let t of n)Array.isArray(t)?Z4(t,e):t&&Ux(t)?Z4(t.\u0275providers,e):e(t)}function to(n,e){n instanceof yp&&hp(n);let t,i=wu(n),r=Xr(void 0);try{return e()}finally{wu(i),Xr(r)}}function nC(){return qx()!==void 0||L8()!=null}function tP(n){if(!nC())throw new ze(-203,!1)}function nP(n){return typeof n=="function"}var Xs=0,fn=1,zt=2,br=3,bs=4,Ss=5,Uh=6,qh=7,Es=8,bd=9,Ta=10,mi=11,bp=12,YS=13,Ad=14,Ks=15,Ol=16,pd=17,Ma=18,pg=19,iC=20,Au=21,O4=22,$h=23,vo=24,Uo=25,oy=1;var Rl=7,Hh=8,Ed=9,_o=10,zh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(zh||{});function Du(n){return Array.isArray(n)&&typeof n[oy]=="object"}function Ra(n){return Array.isArray(n)&&n[oy]===!0}function sy(n){return(n.flags&4)!==0}function fg(n){return n.componentOffset>-1}function mg(n){return(n.flags&1)===1}function Fa(n){return!!n.template}function J4(n){return(n[zt]&512)!==0}var X4=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function rC(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var xs=(()=>{let n=()=>oC;return n.ngInherit=!0,n})();function oC(n){return n.type.prototype.ngOnChanges&&(n.setInput=rP),iP}function iP(){let n=aC(this),e=n?.current;if(e){let t=n.previous;if(t===vd)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function rP(n,e,t,i,r){let o=this.declaredInputs[i],s=aC(n)||oP(n,{previous:vd,current:null}),l=s.current||(s.current={}),d=s.previous,m=d[o];l[o]=new X4(m&&m.currentValue,t,d===vd),rC(n,e,r,t)}var sC="__ngSimpleChanges__";function aC(n){return n[sC]||null}function oP(n,e){return n[sC]=e}var KS=null;var Ws=function(n,e,t){KS?.(n,e,t)},sP="svg",aP="math";function Qs(n){for(;Array.isArray(n);)n=n[Xs];return n}function uP(n){for(;Array.isArray(n);){if(typeof n[oy]=="object")return n;n=n[Xs]}return null}function uC(n,e){return Qs(e[n])}function qo(n,e){return Qs(e[n.index])}function lC(n,e){return n.data[e]}function cC(n,e){return n[e]}function Ru(n,e){let t=e[n];return Du(t)?t:t[Xs]}function lP(n){return(n[zt]&4)===4}function ay(n){return(n[zt]&128)===128}function cP(n){return Ra(n[br])}function Sd(n,e){return e==null?null:n[e]}function dC(n){n[pd]=0}function uy(n){n[zt]&1024||(n[zt]|=1024,ay(n)&&gg(n))}function dP(n,e){for(;n>0;)e=e[Ad],n--;return e}function hg(n){return!!(n[zt]&9216||n[vo]?.dirty)}function e_(n){n[Ta].changeDetectionScheduler?.notify(9),n[zt]&64&&(n[zt]|=1024),hg(n)&&gg(n)}function gg(n){n[Ta].changeDetectionScheduler?.notify(0);let e=Ll(n);for(;e!==null&&!(e[zt]&8192||(e[zt]|=8192,!ay(e)));)e=Ll(e)}function pC(n,e){if((n[zt]&256)===256)throw new ze(911,!1);n[Au]===null&&(n[Au]=[]),n[Au].push(e)}function pP(n,e){if(n[Au]===null)return;let t=n[Au].indexOf(e);t!==-1&&n[Au].splice(t,1)}function Ll(n){let e=n[br];return Ra(e)?e[br]:e}var gn={lFrame:EC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var t_=!1;function fP(){return gn.lFrame.elementDepthCount}function mP(){gn.lFrame.elementDepthCount++}function hP(){gn.lFrame.elementDepthCount--}function fC(){return gn.bindingsEnabled}function gP(){return gn.skipHydrationRootTNode!==null}function vP(n){return gn.skipHydrationRootTNode===n}function _P(){gn.skipHydrationRootTNode=null}function Sn(){return gn.lFrame.lView}function Ii(){return gn.lFrame.tView}function rt(n){return gn.lFrame.contextLView=n,n[Es]}function ot(n){return gn.lFrame.contextLView=null,n}function pr(){let n=mC();for(;n!==null&&n.type===64;)n=n.parent;return n}function mC(){return gn.lFrame.currentTNode}function yP(){let n=gn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function $l(n,e){let t=gn.lFrame;t.currentTNode=n,t.isParent=e}function ly(){return gn.lFrame.isParent}function hC(){gn.lFrame.isParent=!1}function bP(){return gn.lFrame.contextLView}function gC(){return t_}function QS(n){let e=t_;return t_=n,e}function cy(){let n=gn.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function EP(){return gn.lFrame.bindingIndex}function SP(n){return gn.lFrame.bindingIndex=n}function Ap(){return gn.lFrame.bindingIndex++}function dy(n){let e=gn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function xP(){return gn.lFrame.inI18n}function CP(n,e){let t=gn.lFrame;t.bindingIndex=t.bindingRootIndex=n,n_(e)}function wP(){return gn.lFrame.currentDirectiveIndex}function n_(n){gn.lFrame.currentDirectiveIndex=n}function vC(n){let e=gn.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function _C(){return gn.lFrame.currentQueryIndex}function py(n){gn.lFrame.currentQueryIndex=n}function AP(n){let e=n[fn];return e.type===2?e.declTNode:e.type===1?n[Ss]:null}function yC(n,e,t){if(t&vn.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&vn.Host);)if(r=AP(o),r===null||(o=o[Ad],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=gn.lFrame=bC();return i.currentTNode=e,i.lView=n,!0}function fy(n){let e=bC(),t=n[fn];gn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function bC(){let n=gn.lFrame,e=n===null?null:n.child;return e===null?EC(n):e}function EC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function SC(){let n=gn.lFrame;return gn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var xC=SC;function my(){let n=SC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function DP(n){return(gn.lFrame.contextLView=dP(n,gn.lFrame.contextLView))[Es]}function Lu(){return gn.lFrame.selectedIndex}function kl(n){gn.lFrame.selectedIndex=n}function Dp(){let n=gn.lFrame;return lC(n.tView,n.selectedIndex)}function IP(){return gn.lFrame.currentNamespace}var CC=!0;function vg(){return CC}function _g(n){CC=n}function TP(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=oC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function yg(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:m,ngOnDestroy:g}=o;s&&(n.contentHooks??=[]).push(-t,s),l&&((n.contentHooks??=[]).push(t,l),(n.contentCheckHooks??=[]).push(t,l)),d&&(n.viewHooks??=[]).push(-t,d),m&&((n.viewHooks??=[]).push(t,m),(n.viewCheckHooks??=[]).push(t,m)),g!=null&&(n.destroyHooks??=[]).push(t,g)}}function Nh(n,e,t){wC(n,e,3,t)}function Ph(n,e,t,i){(n[zt]&3)===t&&wC(n,e,t,i)}function R4(n,e){let t=n[zt];(t&3)===e&&(t&=16383,t+=1,n[zt]=t)}function wC(n,e,t,i){let r=i!==void 0?n[pd]&65535:0,o=i??-1,s=e.length-1,l=0;for(let d=r;d<s;d++)if(typeof e[d+1]=="number"){if(l=e[d],i!=null&&l>=i)break}else e[d]<0&&(n[pd]+=65536),(l<o||o==-1)&&(MP(n,t,e,d),n[pd]=(n[pd]&4294901760)+d+2),d++}function ZS(n,e){Ws(4,n,e);let t=Fn(null);try{e.call(n)}finally{Fn(t),Ws(5,n,e)}}function MP(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],l=n[s];r?n[zt]>>14<n[pd]>>16&&(n[zt]&3)===e&&(n[zt]+=16384,ZS(l,o)):ZS(l,o)}var gd=-1,jl=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=i}};function FP(n){return n instanceof jl}function NP(n){return(n.flags&8)!==0}function PP(n){return(n.flags&16)!==0}function i_(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],l=t[i++];n.setAttribute(e,s,l,o)}else{let o=r,s=t[++i];OP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function AC(n){return n===3||n===4||n===6}function OP(n){return n.charCodeAt(0)===64}function Ep(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?JS(n,t,r,null,e[++i]):JS(n,t,r,null,null))}}return n}function JS(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let l=n[o++];if(typeof l=="number"){if(l===e){s=-1;break}else if(l>e){s=o-1;break}}}for(;o<n.length;){let l=n[o];if(typeof l=="number")break;if(l===t){if(i===null){r!==null&&(n[o+1]=r);return}else if(i===n[o+1]){n[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i),r!==null&&n.splice(o++,0,r)}var L4={},r_=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=lg(i);let r=this.injector.get(e,L4,i);return r!==L4||t===L4?r:this.parentInjector.get(e,t,i)}};function DC(n){return n!==gd}function Gh(n){return n&32767}function RP(n){return n>>16}function Wh(n,e){let t=RP(n),i=e;for(;t>0;)i=i[Ad],t--;return i}var o_=!0;function Yh(n){let e=o_;return o_=n,e}var LP=256,IC=LP-1,TC=5,kP=0,Ys={};function jP(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(vp)&&(i=t[vp]),i==null&&(i=t[vp]=kP++);let r=i&IC,o=1<<r;e.data[n+(r>>TC)]|=o}function Kh(n,e){let t=MC(n,e);if(t!==-1)return t;let i=e[fn];i.firstCreatePass&&(n.injectorIndex=e.length,k4(i.data,n),k4(e,null),k4(i.blueprint,null));let r=hy(n,e),o=n.injectorIndex;if(DC(r)){let s=Gh(r),l=Wh(r,e),d=l[fn].data;for(let m=0;m<8;m++)e[o+m]=l[s+m]|d[s+m]}return e[o+8]=r,o}function k4(n,e){n.push(0,0,0,0,0,0,0,0,e)}function MC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function hy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=RC(r),i===null)return gd;if(t++,r=r[Ad],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return gd}function s_(n,e,t){jP(n,e,t)}function BP(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(AC(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function FC(n,e,t){if(t&vn.Optional||n!==void 0)return n;J_(e,"NodeInjector")}function NC(n,e,t,i){if(t&vn.Optional&&i===void 0&&(i=null),!(t&(vn.Self|vn.Host))){let r=n[bd],o=Xr(void 0);try{return r?r.get(e,i,t&vn.Optional):$x(e,i,t&vn.Optional)}finally{Xr(o)}}return FC(i,e,t)}function PC(n,e,t,i=vn.Default,r){if(n!==null){if(e[zt]&2048&&!(i&vn.Self)){let s=$P(n,e,t,i,Ys);if(s!==Ys)return s}let o=OC(n,e,t,i,Ys);if(o!==Ys)return o}return NC(e,t,i,r)}function OC(n,e,t,i,r){let o=UP(t);if(typeof o=="function"){if(!yC(e,n,i))return i&vn.Host?FC(r,t,i):NC(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&vn.Optional))J_(t);else return s}finally{xC()}}else if(typeof o=="number"){let s=null,l=MC(n,e),d=gd,m=i&vn.Host?e[Ks][Ss]:null;for((l===-1||i&vn.SkipSelf)&&(d=l===-1?hy(n,e):e[l+8],d===gd||!ex(i,!1)?l=-1:(s=e[fn],l=Gh(d),e=Wh(d,e)));l!==-1;){let g=e[fn];if(XS(o,l,g.data)){let y=VP(l,e,t,s,i,m);if(y!==Ys)return y}d=e[l+8],d!==gd&&ex(i,e[fn].data[l+8]===m)&&XS(o,l,e)?(s=g,l=Gh(d),e=Wh(d,e)):l=-1}}return r}function VP(n,e,t,i,r,o){let s=e[fn],l=s.data[n+8],d=i==null?fg(l)&&o_:i!=s&&(l.type&3)!==0,m=r&vn.Host&&o===l,g=Oh(l,s,t,d,m);return g!==null?Bl(e,s,g,l):Ys}function Oh(n,e,t,i,r){let o=n.providerIndexes,s=e.data,l=o&1048575,d=n.directiveStart,m=n.directiveEnd,g=o>>20,y=i?l:l+g,S=r?l+g:m;for(let _=y;_<S;_++){let A=s[_];if(_<d&&t===A||_>=d&&A.type===t)return _}if(r){let _=s[d];if(_&&Fa(_)&&_.type===t)return d}return null}function Bl(n,e,t,i){let r=n[t],o=e.data;if(FP(r)){let s=r;s.resolving&&F8(M8(o[t]));let l=Yh(s.canSeeViewProviders);s.resolving=!0;let d,m=s.injectImpl?Xr(s.injectImpl):null,g=yC(n,i,vn.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&TP(t,o[t],e)}finally{m!==null&&Xr(m),Yh(l),s.resolving=!1,xC()}}return r}function UP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(vp)?n[vp]:void 0;return typeof e=="number"?e>=0?e&IC:qP:e}function XS(n,e,t){let i=1<<n;return!!(t[e+(n>>TC)]&i)}function ex(n,e){return!(n&vn.Self)&&!(n&vn.Host&&e)}var Fl=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return PC(this._tNode,this._lView,e,lg(i),t)}};function qP(){return new Fl(pr(),Sn())}function $o(n){return Cp(()=>{let e=n.prototype.constructor,t=e[kh]||a_(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[kh]||a_(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function a_(n){return kx(n)?()=>{let e=a_(Or(n));return e&&e()}:Pl(n)}function $P(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[zt]&2048&&!(s[zt]&512);){let l=OC(o,s,t,i|vn.Self,Ys);if(l!==Ys)return l;let d=o.parent;if(!d){let m=s[iC];if(m){let g=m.get(t,Ys,i);if(g!==Ys)return g}d=RC(s),s=s[Ad]}o=d}return r}function RC(n){let e=n[fn],t=e.type;return t===2?e.declTNode:t===1?n[Ss]:null}function gy(n){return BP(pr(),n)}function tx(n,e=null,t=null,i){let r=LC(n,e,t,i);return r.resolveInjectorInitializers(),r}function LC(n,e=null,t=null,i,r=new Set){let o=[t||eo,ny(n)];return i=i||(typeof n=="object"?void 0:Rr(n)),new yp(o,e||ry(),i||null,r)}var kr=class n{static THROW_IF_NOT_FOUND=_p;static NULL=new Vh;static create(e,t){if(Array.isArray(e))return tx({name:""},t,e,"");{let i=e.name??"";return tx({name:i},e.parent,e.providers,i)}}static \u0275prov=$e({token:n,providedIn:"any",factory:()=>Ge(Gx)});static __NG_ELEMENT_ID__=-1};var HP=new mt("");HP.__NG_ELEMENT_ID__=n=>{let e=pr();if(e===null)throw new ze(204,!1);if(e.type&2)return e.value;if(n&vn.Optional)return null;throw new ze(204,!1)};var kC=!1,vy=(()=>{class n{static __NG_ELEMENT_ID__=zP;static __NG_ENV_ID__=t=>t}return n})(),u_=class extends vy{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return pC(this._lView,e),()=>pP(this._lView,e)}};function zP(){return new u_(Sn())}var xd=class{},bg=new mt("",{providedIn:"root",factory:()=>!1});var jC=new mt(""),BC=new mt(""),ku=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ki(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=$e({token:n,providedIn:"root",factory:()=>new n})}return n})();var l_=class extends Zn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,nC()&&(this.destroyRef=Ve(vy,{optional:!0})??void 0,this.pendingTasks=Ve(ku,{optional:!0})??void 0)}emit(e){let t=Fn(null);try{super.next(e)}finally{Fn(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let d=e;r=d.next?.bind(d),o=d.error?.bind(d),s=d.complete?.bind(d)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let l=super.subscribe({next:r,error:o,complete:s});return e instanceof ki&&e.add(l),l}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},Vi=l_;function Qh(...n){}function VC(n){let e,t;function i(){n=Qh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function nx(n){return queueMicrotask(()=>n()),()=>{n=Qh}}var _y="isAngularZone",Zh=_y+"_ID",GP=0,Nn=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Vi(!1);onMicrotaskEmpty=new Vi(!1);onStable=new Vi(!1);onError=new Vi(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=kC}=e;if(typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,KP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(_y)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ze(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,WP,Qh,Qh);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},WP={};function yy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function YP(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){VC(()=>{n.callbackScheduled=!1,c_(n),n.isCheckStableRunning=!0,yy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),c_(n)}function KP(n){let e=()=>{YP(n)},t=GP++;n._inner=n._inner.fork({name:"angular",properties:{[_y]:!0,[Zh]:t,[Zh+t]:!0},onInvokeTask:(i,r,o,s,l,d)=>{if(QP(d))return i.invokeTask(o,s,l,d);try{return ix(n),i.invokeTask(o,s,l,d)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),rx(n)}},onInvoke:(i,r,o,s,l,d,m)=>{try{return ix(n),i.invoke(o,s,l,d,m)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!ZP(d)&&e(),rx(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,c_(n),yy(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function c_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function ix(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function rx(n){n._nesting--,yy(n)}var d_=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Vi;onMicrotaskEmpty=new Vi;onStable=new Vi;onError=new Vi;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function QP(n){return UC(n,"__ignore_ng_zone__")}function ZP(n){return UC(n,"__scheduler_tick__")}function UC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Na=class{_console=console;handleError(e){this._console.error("ERROR",e)}},JP=new mt("",{providedIn:"root",factory:()=>{let n=Ve(Nn),e=Ve(Na);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function ox(n,e){return Rx(n,e)}function XP(n){return Rx(Ox,n)}var qC=(ox.required=XP,ox);function eO(){return Dd(pr(),Sn())}function Dd(n,e){return new Sr(qo(n,e))}var Sr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=eO}return n})();function tO(n){return n instanceof Sr?n.nativeElement:n}function nO(){return this._results[Symbol.iterator]()}var p_=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Zn}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=q8(e);(this._changesDetected=!U8(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=nO};function $C(n){return(n.flags&128)===128}var HC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(HC||{}),zC=new Map,iO=0;function rO(){return iO++}function oO(n){zC.set(n[pg],n)}function f_(n){zC.delete(n[pg])}var sx="__ngContext__";function Tu(n,e){Du(e)?(n[sx]=e[pg],oO(e)):n[sx]=e}function GC(n){return YC(n[bp])}function WC(n){return YC(n[bs])}function YC(n){for(;n!==null&&!Ra(n);)n=n[bs];return n}var m_;function KC(n){m_=n}function QC(){if(m_!==void 0)return m_;if(typeof document<"u")return document;throw new ze(210,!1)}var by=new mt("",{providedIn:"root",factory:()=>sO}),sO="ng",Ey=new mt(""),La=new mt("",{providedIn:"platform",factory:()=>"unknown"});var Sy=new mt(""),xy=new mt("",{providedIn:"root",factory:()=>QC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var aO="h",uO="b";var ZC=!1,lO=new mt("",{providedIn:"root",factory:()=>ZC});var Cy=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Cy||{}),Eg=new mt(""),ax=new Set;function ju(n){ax.has(n)||(ax.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var fd=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(fd||{}),JC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=$e({token:n,providedIn:"root",factory:()=>new n})}return n})(),cO=[fd.EarlyRead,fd.Write,fd.MixedReadWrite,fd.Read],dO=(()=>{class n{ngZone=Ve(Nn);scheduler=Ve(xd);errorHandler=Ve(Na,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Ve(Eg,{optional:!0})}execute(){this.executing=!0;for(let t of cO)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[t]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>i.hooks[t](i.pipelinedValue),i.snapshot))}catch(r){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(7))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?.run(Cy.AFTER_NEXT_RENDER,t)??t()}static \u0275prov=$e({token:n,providedIn:"root",factory:()=>new n})}return n})(),h_=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,i,r,o=null){this.impl=e,this.hooks=t,this.once=i,this.snapshot=o,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function wy(n,e){!e?.injector&&tP(wy);let t=e?.injector??Ve(kr);return ju("NgAfterNextRender"),fO(n,t,e,!0)}function pO(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function fO(n,e,t,i){let r=e.get(JC);r.impl??=e.get(dO);let o=e.get(Eg,null,{optional:!0}),s=t?.phase??fd.MixedReadWrite,l=t?.manualCleanup!==!0?e.get(vy):null,d=new h_(r.impl,pO(n,s),i,l,o?.snapshot(null));return r.impl.register(d),d}var mO=()=>null;function Ay(n,e,t=!1){return mO(n,e,t)}var Zs=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Zs||{}),wh;function hO(){if(wh===void 0&&(wh=null,yr.trustedTypes))try{wh=yr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return wh}function Sg(n){return hO()?.createHTML(n)||n}var Ah;function XC(){if(Ah===void 0&&(Ah=null,yr.trustedTypes))try{Ah=yr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ah}function ux(n){return XC()?.createHTML(n)||n}function lx(n){return XC()?.createScriptURL(n)||n}var Pa=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Px})`}},g_=class extends Pa{getTypeName(){return"HTML"}},v_=class extends Pa{getTypeName(){return"Style"}},__=class extends Pa{getTypeName(){return"Script"}},y_=class extends Pa{getTypeName(){return"URL"}},b_=class extends Pa{getTypeName(){return"ResourceURL"}};function Ho(n){return n instanceof Pa?n.changingThisBreaksApplicationSecurity:n}function ka(n,e){let t=gO(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Px})`)}return t===e}function gO(n){return n instanceof Pa&&n.getTypeName()||null}function ew(n){return new g_(n)}function tw(n){return new v_(n)}function nw(n){return new __(n)}function iw(n){return new y_(n)}function rw(n){return new b_(n)}function vO(n){let e=new S_(n);return _O()?new E_(e):e}var E_=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Sg(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},S_=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Sg(e),t}};function _O(){try{return!!new window.DOMParser().parseFromString(Sg(""),"text/html")}catch{return!1}}var yO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xg(n){return n=String(n),n.match(yO)?n:"unsafe:"+n}function ja(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Ip(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var ow=ja("area,br,col,hr,img,wbr"),sw=ja("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),aw=ja("rp,rt"),bO=Ip(aw,sw),EO=Ip(sw,ja("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),SO=Ip(aw,ja("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cx=Ip(ow,EO,SO,bO),uw=ja("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xO=ja("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),CO=ja("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),wO=Ip(uw,xO,CO),AO=ja("script,style,template"),x_=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=TO(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=IO(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=dx(e).toLowerCase();if(!cx.hasOwnProperty(t))return this.sanitizedSomething=!0,!AO.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,l=s.toLowerCase();if(!wO.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let d=o.value;uw[l]&&(d=xg(d)),this.buf.push(" ",s,'="',px(d),'"')}return this.buf.push(">"),!0}endElement(e){let t=dx(e).toLowerCase();cx.hasOwnProperty(t)&&!ow.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(px(e))}};function DO(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function IO(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw lw(e);return e}function TO(n){let e=n.firstChild;if(e&&DO(n,e))throw lw(e);return e}function dx(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function lw(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var MO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,FO=/([^\#-~ |!])/g;function px(n){return n.replace(/&/g,"&amp;").replace(MO,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(FO,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Dh;function Dy(n,e){let t=null;try{Dh=Dh||vO(n);let i=e?String(e):"";t=Dh.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=Dh.getInertBodyElement(i)}while(i!==o);let l=new x_().sanitizeChildren(fx(t)||t);return Sg(l)}finally{if(t){let i=fx(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function fx(n){return"content"in n&&NO(n)?n.content:null}function NO(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var yo=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(yo||{});function Iy(n){let e=Ty();return e?ux(e.sanitize(yo.HTML,n)||""):ka(n,"HTML")?ux(Ho(n)):Dy(QC(),Nl(n))}function On(n){let e=Ty();return e?e.sanitize(yo.URL,n)||"":ka(n,"URL")?Ho(n):xg(Nl(n))}function PO(n){let e=Ty();if(e)return lx(e.sanitize(yo.RESOURCE_URL,n)||"");if(ka(n,"ResourceURL"))return lx(Ho(n));throw new ze(904,!1)}function OO(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?PO:On}function cw(n,e,t){return OO(e,t)(n)}function Ty(){let n=Sn();return n&&n[Ta].sanitizer}var RO=/^>|^->|<!--|-->|--!>|<!-$/g,LO=/(<|>)/g,kO="\u200B$1\u200B";function jO(n){return n.replace(RO,e=>e.replace(LO,kO))}function dw(n){return n instanceof Function?n():n}var Mu=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Mu||{}),Oa=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Oa||{}),BO;function My(n,e){return BO(n,e)}function md(n,e,t,i,r){if(i!=null){let o,s=!1;Ra(i)?o=i:Du(i)&&(s=!0,i=i[Xs]);let l=Qs(i);n===0&&t!==null?r==null?gw(e,t,l):Jh(e,t,l,r||null,!0):n===1&&t!==null?Jh(e,t,l,r||null,!0):n===2?tR(e,l,s):n===3&&e.destroyNode(l),o!=null&&iR(e,n,o,t,r)}}function VO(n,e){return n.createText(e)}function UO(n,e,t){n.setValue(e,t)}function qO(n,e){return n.createComment(jO(e))}function pw(n,e,t){return n.createElement(e,t)}function $O(n,e){fw(n,e),e[Xs]=null,e[Ss]=null}function HO(n,e,t,i,r,o){i[Xs]=r,i[Ss]=e,wg(n,i,t,1,r,o)}function fw(n,e){e[Ta].changeDetectionScheduler?.notify(10),wg(n,e,e[mi],2,null,null)}function zO(n){let e=n[bp];if(!e)return j4(n[fn],n);for(;e;){let t=null;if(Du(e))t=e[bp];else{let i=e[_o];i&&(t=i)}if(!t){for(;e&&!e[bs]&&e!==n;)Du(e)&&j4(e[fn],e),e=e[br];e===null&&(e=n),Du(e)&&j4(e[fn],e),t=e&&e[bs]}e=t}}function GO(n,e,t,i){let r=_o+i,o=t.length;i>0&&(t[r-1][bs]=e),i<o-_o?(e[bs]=t[r],zx(t,_o+i,e)):(t.push(e),e[bs]=null),e[br]=t;let s=e[Ol];s!==null&&t!==s&&mw(s,e);let l=e[Ma];l!==null&&l.insertView(n),e_(e),e[zt]|=128}function mw(n,e){let t=n[Ed],i=e[br];if(Du(i))n[zt]|=zh.HasTransplantedViews;else{let r=i[br][Ks];e[Ks]!==r&&(n[zt]|=zh.HasTransplantedViews)}t===null?n[Ed]=[e]:t.push(e)}function Fy(n,e){let t=n[Ed],i=t.indexOf(e);t.splice(i,1)}function C_(n,e){if(n.length<=_o)return;let t=_o+e,i=n[t];if(i){let r=i[Ol];r!==null&&r!==n&&Fy(r,i),e>0&&(n[t-1][bs]=i[bs]);let o=Bh(n,_o+e);$O(i[fn],i);let s=o[Ma];s!==null&&s.detachView(o[fn]),i[br]=null,i[bs]=null,i[zt]&=-129}return i}function hw(n,e){if(!(e[zt]&256)){let t=e[mi];t.destroyNode&&wg(n,e,t,3,null,null),zO(e)}}function j4(n,e){if(e[zt]&256)return;let t=Fn(null);try{e[zt]&=-129,e[zt]|=256,e[vo]&&m4(e[vo]),YO(n,e),WO(n,e),e[fn].type===1&&e[mi].destroy();let i=e[Ol];if(i!==null&&Ra(e[br])){i!==e[br]&&Fy(i,e);let r=e[Ma];r!==null&&r.detachView(n)}f_(e)}finally{Fn(t)}}function WO(n,e){let t=n.cleanup,i=e[qh];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let l=t[s+3];l>=0?i[l]():i[-l].unsubscribe(),s+=2}else{let l=i[t[s+1]];t[s].call(l)}i!==null&&(e[qh]=null);let r=e[Au];if(r!==null){e[Au]=null;for(let s=0;s<r.length;s++){let l=r[s];l()}}let o=e[$h];if(o!==null){e[$h]=null;for(let s of o)s.destroy()}}function YO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof jl)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let l=r[o[s]],d=o[s+1];Ws(4,l,d);try{d.call(l)}finally{Ws(5,l,d)}}else{Ws(4,r,o);try{o.call(r)}finally{Ws(5,r,o)}}}}}function KO(n,e,t){return QO(n,e.parent,t)}function QO(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[Xs];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=n.data[i.directiveStart+r];if(o===Zs.None||o===Zs.Emulated)return null}return qo(i,t)}}function Jh(n,e,t,i,r){n.insertBefore(e,t,i,r)}function gw(n,e,t){n.appendChild(e,t)}function mx(n,e,t,i,r){i!==null?Jh(n,e,t,i,r):gw(n,e,t)}function vw(n,e){return n.parentNode(e)}function ZO(n,e){return n.nextSibling(e)}function JO(n,e,t){return eR(n,e,t)}function XO(n,e,t){return n.type&40?qo(n,t):null}var eR=XO,hx;function Cg(n,e,t,i){let r=KO(n,i,e),o=e[mi],s=i.parent||e[Ss],l=JO(s,i,e);if(r!=null)if(Array.isArray(t))for(let d=0;d<t.length;d++)mx(o,r,t[d],l,!1);else mx(o,r,t,l,!1);hx!==void 0&&hx(o,i,e,t,r)}function gp(n,e){if(e!==null){let t=e.type;if(t&3)return qo(e,n);if(t&4)return w_(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return gp(n,i);{let r=n[e.index];return Ra(r)?w_(-1,r):Qs(r)}}else{if(t&128)return gp(n,e.next);if(t&32)return My(e,n)()||Qs(n[e.index]);{let i=_w(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Ll(n[Ks]);return gp(r,i)}else return gp(n,e.next)}}}return null}function _w(n,e){if(e!==null){let i=n[Ks][Ss],r=e.projection;return i.projection[r]}return null}function w_(n,e){let t=_o+n+1;if(t<e.length){let i=e[t],r=i[fn].firstChild;if(r!==null)return gp(i,r)}return e[Rl]}function tR(n,e,t){n.removeChild(null,e,t)}function Ny(n,e,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let l=i[t.index],d=t.type;if(s&&e===0&&(l&&Tu(Qs(l),i),t.flags|=2),(t.flags&32)!==32)if(d&8)Ny(n,e,t.child,i,r,o,!1),md(e,n,r,l,o);else if(d&32){let m=My(t,i),g;for(;g=m();)md(e,n,r,g,o);md(e,n,r,l,o)}else d&16?nR(n,e,i,t,r,o):md(e,n,r,l,o);t=s?t.projectionNext:t.next}}function wg(n,e,t,i,r,o){Ny(t,i,n.firstChild,e,r,o,!1)}function nR(n,e,t,i,r,o){let s=t[Ks],d=s[Ss].projection[i.projection];if(Array.isArray(d))for(let m=0;m<d.length;m++){let g=d[m];md(e,n,r,g,o)}else{let m=d,g=s[br];$C(i)&&(m.flags|=128),Ny(n,e,m,g,r,o,!0)}}function iR(n,e,t,i,r){let o=t[Rl],s=Qs(t);o!==s&&md(e,n,i,o,r);for(let l=_o;l<t.length;l++){let d=t[l];wg(d[fn],d,n,e,i,o)}}function rR(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:Oa.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Oa.Important),n.setStyle(t,i,r,o))}}function oR(n,e,t){n.setAttribute(e,"style",t)}function yw(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function bw(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&i_(n,e,i),r!==null&&yw(n,e,r),o!==null&&oR(n,e,o)}function sR(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}var Ew="ng-template";function aR(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&sR(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(Py(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Py(n){return n.type===4&&n.value!==Ew}function uR(n,e,t){let i=n.type===4&&!t?Ew:n.value;return e===i}function lR(n,e,t){let i=4,r=n.attrs,o=r!==null?pR(r):0,s=!1;for(let l=0;l<e.length;l++){let d=e[l];if(typeof d=="number"){if(!s&&!_s(i)&&!_s(d))return!1;if(s&&_s(d))continue;s=!1,i=d|i&1;continue}if(!s)if(i&4){if(i=2|i&1,d!==""&&!uR(n,d,t)||d===""&&e.length===1){if(_s(i))return!1;s=!0}}else if(i&8){if(r===null||!aR(n,r,d,t)){if(_s(i))return!1;s=!0}}else{let m=e[++l],g=cR(d,r,Py(n),t);if(g===-1){if(_s(i))return!1;s=!0;continue}if(m!==""){let y;if(g>o?y="":y=r[g+1].toLowerCase(),i&2&&m!==y){if(_s(i))return!1;s=!0}}}}return _s(i)||s}function _s(n){return(n&1)===0}function cR(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let l=e[++r];for(;typeof l=="string";)l=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return fR(e,n)}function dR(n,e,t=!1){for(let i=0;i<e.length;i++)if(lR(n,e[i],t))return!0;return!1}function pR(n){for(let e=0;e<n.length;e++){let t=n[e];if(AC(t))return e}return n.length}function fR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function gx(n,e){return n?":not("+e.trim()+")":e}function mR(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let l=n[++t];r+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!_s(s)&&(e+=gx(o,r),r=""),i=s,o=o||!_s(i);t++}return r!==""&&(e+=gx(o,r)),e}function hR(n){return n.map(mR).join(",")}function gR(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!_s(r))break;r=o}i++}return{attrs:e,classes:t}}var zo={};function f(n=1){Sw(Ii(),Sn(),Lu()+n,!1)}function Sw(n,e,t,i){if(!i)if((e[zt]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Nh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ph(e,o,0,t)}kl(t)}function O(n,e=vn.Default){let t=Sn();if(t===null)return Ge(n,e);let i=pr();return PC(i,t,Or(n),e)}function xw(){let n="invalid";throw new Error(n)}function Cw(n,e,t,i,r,o){let s=Fn(null);try{let l=null;r&Mu.SignalBased&&(l=e[i][mo]),l!==null&&l.transformFn!==void 0&&(o=l.transformFn(o)),r&Mu.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),n.setInput!==null?n.setInput(e,l,o,t,i):rC(e,l,i,o)}finally{Fn(s)}}function vR(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)kl(~r);else{let o=r,s=t[++i],l=t[++i];CP(s,o);let d=e[o];l(2,d)}}}finally{kl(-1)}}function Ag(n,e,t,i,r,o,s,l,d,m,g){let y=e.blueprint.slice();return y[Xs]=r,y[zt]=i|4|128|8|64|1024,(m!==null||n&&n[zt]&2048)&&(y[zt]|=2048),dC(y),y[br]=y[Ad]=n,y[Es]=t,y[Ta]=s||n&&n[Ta],y[mi]=l||n&&n[mi],y[bd]=d||n&&n[bd]||null,y[Ss]=o,y[pg]=rO(),y[Uh]=g,y[iC]=m,y[Ks]=e.type==2?n[Ks]:y,y}function Tp(n,e,t,i,r){let o=n.data[e];if(o===null)o=_R(n,e,t,i,r),xP()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=yP();o.injectorIndex=s===null?-1:s.injectorIndex}return $l(o,!0),o}function _R(n,e,t,i,r){let o=mC(),s=ly(),l=s?o:o&&o.parent,d=n.data[e]=CR(n,l,t,e,i,r);return n.firstChild===null&&(n.firstChild=d),o!==null&&(s?o.child==null&&d.parent!==null&&(o.child=d):o.next===null&&(o.next=d,d.prev=o)),d}function ww(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Aw(n,e,t,i,r){let o=Lu(),s=i&2;try{kl(-1),s&&e.length>Uo&&Sw(n,e,Uo,!1),Ws(s?2:0,r),t(i,r)}finally{kl(o),Ws(s?3:1,r)}}function Oy(n,e,t){if(sy(e)){let i=Fn(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let l=n.data[s];if(l.contentQueries){let d=t[s];l.contentQueries(1,d,s)}}}finally{Fn(i)}}}function Ry(n,e,t){fC()&&(MR(n,e,t,qo(t,e)),(t.flags&64)===64&&Tw(n,e,t))}function Ly(n,e,t=qo){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],l=s===-1?t(e,n):n[s];n[r++]=l}}}function Dw(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ky(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ky(n,e,t,i,r,o,s,l,d,m,g){let y=Uo+i,S=y+r,_=yR(y,S),A=typeof m=="function"?m():m;return _[fn]={type:n,blueprint:_,template:t,queries:null,viewQuery:l,declTNode:e,data:_.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:d,consts:A,incompleteFirstPass:!1,ssrId:g}}function yR(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:zo);return t}function bR(n,e,t,i){let o=i.get(lO,ZC)||t===Zs.ShadowDom,s=n.selectRootElement(e,o);return ER(s),s}function ER(n){SR(n)}var SR=()=>null;function xR(n,e,t,i){let r=Pw(e);r.push(t),n.firstCreatePass&&Ow(n).push(i,r.length-1)}function CR(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,l=0;return gP()&&(l|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function vx(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let l,d=Mu.None;Array.isArray(s)?(l=s[0],d=s[1]):l=s;let m=o;if(r!==null){if(!r.hasOwnProperty(o))continue;m=r[o]}n===0?_x(i,t,m,l,d):_x(i,t,m,l)}return i}function _x(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],r!==void 0&&o.push(r)}function wR(n,e,t){let i=e.directiveStart,r=e.directiveEnd,o=n.data,s=e.attrs,l=[],d=null,m=null;for(let g=i;g<r;g++){let y=o[g],S=t?t.get(y):null,_=S?S.inputs:null,A=S?S.outputs:null;d=vx(0,y.inputs,g,d,_),m=vx(1,y.outputs,g,m,A);let w=d!==null&&s!==null&&!Py(e)?UR(d,g,s):null;l.push(w)}d!==null&&(d.hasOwnProperty("class")&&(e.flags|=8),d.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=l,e.inputs=d,e.outputs=m}function AR(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Dg(n,e,t,i,r,o,s,l){let d=qo(e,t),m=e.inputs,g;!l&&m!=null&&(g=m[i])?(By(n,t,g,i,r),fg(e)&&DR(t,e.index)):e.type&3?(i=AR(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(d,i,r)):e.type&12}function DR(n,e){let t=Ru(e,n);t[zt]&16||(t[zt]|=64)}function jy(n,e,t,i){if(fC()){let r=i===null?null:{"":-1},o=NR(n,t),s,l;o===null?s=l=null:[s,l]=o,s!==null&&Iw(n,e,t,s,r,l),r&&PR(t,i,r)}t.mergedAttrs=Ep(t.mergedAttrs,t.attrs)}function Iw(n,e,t,i,r,o){for(let m=0;m<i.length;m++)s_(Kh(t,e),n,i[m].type);RR(t,n.data.length,i.length);for(let m=0;m<i.length;m++){let g=i[m];g.providersResolver&&g.providersResolver(g)}let s=!1,l=!1,d=ww(n,e,i.length,null);for(let m=0;m<i.length;m++){let g=i[m];t.mergedAttrs=Ep(t.mergedAttrs,g.hostAttrs),LR(n,t,e,d,g),OR(d,g,r),g.contentQueries!==null&&(t.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(t.flags|=64);let y=g.type.prototype;!s&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),l=!0),d++}wR(n,t,o)}function IR(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let l=~e.index;TR(s)!=l&&s.push(l),s.push(t,i,o)}}function TR(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function MR(n,e,t,i){let r=t.directiveStart,o=t.directiveEnd;fg(t)&&kR(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Kh(t,e),Tu(i,e);let s=t.initialInputs;for(let l=r;l<o;l++){let d=n.data[l],m=Bl(e,n,l,t);if(Tu(m,e),s!==null&&VR(e,l-r,m,d,t,s),Fa(d)){let g=Ru(t.index,e);g[Es]=Bl(e,n,l,t)}}}function Tw(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=wP();try{kl(o);for(let l=i;l<r;l++){let d=n.data[l],m=e[l];n_(l),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&FR(d,m)}}finally{kl(-1),n_(s)}}function FR(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function NR(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(dR(e,s.selectors,!1))if(i||(i=[]),Fa(s))if(s.findHostDirectiveDefs!==null){let l=[];r=r||new Map,s.findHostDirectiveDefs(s,l,r),i.unshift(...l,s);let d=l.length;A_(n,e,d)}else i.unshift(s),A_(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function A_(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function PR(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new ze(-301,!1);i.push(e[r],o)}}}function OR(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Fa(e)&&(t[""]=n)}}function RR(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function LR(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=Pl(r.type,!0)),s=new jl(o,Fa(r),O);n.blueprint[i]=s,t[i]=s,IR(n,e,i,ww(n,t,r.hostVars,zo),r)}function Mw(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function kR(n,e,t){let i=qo(e,n),r=Dw(t),o=n[Ta].rendererFactory,s=Ig(n,Ag(n,r,null,Mw(t),i,e,null,o.createRenderer(i,t),null,null,null));n[e.index]=s}function jR(n,e,t,i,r,o){let s=qo(n,e);BR(e[mi],s,o,n.value,t,i,r)}function BR(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let l=s==null?Nl(o):s(o,i||"",r);n.setAttribute(e,r,l,t)}}function VR(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let l=0;l<s.length;){let d=s[l++],m=s[l++],g=s[l++],y=s[l++];Cw(i,t,d,m,g,y)}}function UR(n,e,t){let i=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let s=n[o];for(let l=0;l<s.length;l+=3)if(s[l]===e){i.push(o,s[l+1],s[l+2],t[r+1]);break}}r+=2}return i}function Fw(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function Nw(n,e){let t=n.contentQueries;if(t!==null){let i=Fn(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let l=n.data[s];py(o),l.contentQueries(2,e[s],s)}}}finally{Fn(i)}}}function Ig(n,e){return n[bp]?n[YS][bs]=e:n[bp]=e,n[YS]=e,e}function D_(n,e,t){py(0);let i=Fn(null);try{e(n,t)}finally{Fn(i)}}function Pw(n){return n[qh]??=[]}function Ow(n){return n.cleanup??=[]}function qR(n,e,t){return(n===null||Fa(n))&&(t=uP(t[e.index])),t[mi]}function Rw(n,e){let t=n[bd],i=t?t.get(Na,null):null;i&&i.handleError(e)}function By(n,e,t,i,r){for(let o=0;o<t.length;){let s=t[o++],l=t[o++],d=t[o++],m=e[s],g=n.data[s];Cw(g,m,i,l,d,r)}}function Lw(n,e,t){let i=uC(e,n);UO(n[mi],i,t)}function $R(n,e){let t=Ru(e,n),i=t[fn];HR(i,t);let r=t[Xs];r!==null&&t[Uh]===null&&(t[Uh]=Ay(r,t[bd])),Vy(i,t,t[Es])}function HR(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Vy(n,e,t){fy(e);try{let i=n.viewQuery;i!==null&&D_(1,i,t);let r=n.template;r!==null&&Aw(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ma]?.finishViewCreation(n),n.staticContentQueries&&Nw(n,e),n.staticViewQueries&&D_(2,n.viewQuery,t);let o=n.components;o!==null&&zR(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[zt]&=-5,my()}}function zR(n,e){for(let t=0;t<e.length;t++)$R(n,e[t])}function GR(n,e,t,i){let r=Fn(null);try{let o=e.tView,l=n[zt]&4096?4096:16,d=Ag(n,o,t,l,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),m=n[e.index];d[Ol]=m;let g=n[Ma];return g!==null&&(d[Ma]=g.createEmbeddedView(o)),Vy(o,d,t),d}finally{Fn(r)}}function yx(n,e){return!e||e.firstChild===null||$C(n)}function WR(n,e,t,i=!0){let r=e[fn];if(GO(r,e,n,t),i){let s=w_(t,n),l=e[mi],d=vw(l,n[Rl]);d!==null&&HO(r,n[Ss],l,e,d,s)}let o=e[Uh];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Xh(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(Qs(o)),Ra(o)&&YR(o,i);let s=t.type;if(s&8)Xh(n,e,t.child,i);else if(s&32){let l=My(t,e),d;for(;d=l();)i.push(d)}else if(s&16){let l=_w(e,t);if(Array.isArray(l))i.push(...l);else{let d=Ll(e[Ks]);Xh(d[fn],d,l,i,!0)}}t=r?t.projectionNext:t.next}return i}function YR(n,e){for(let t=_o;t<n.length;t++){let i=n[t],r=i[fn].firstChild;r!==null&&Xh(i[fn],i,r,e)}n[Rl]!==n[Xs]&&e.push(n[Rl])}var kw=[];function KR(n){return n[vo]??QR(n)}function QR(n){let e=kw.pop()??Object.create(JR);return e.lView=n,e}function ZR(n){n.lView[vo]!==n&&(n.lView=null,kw.push(n))}var JR=Yt(Re({},dp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{gg(n.lView)},consumerOnSignalRead(){this.lView[vo]=this}});function XR(n){let e=n[vo]??Object.create(eL);return e.lView=n,e}var eL=Yt(Re({},dp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Ll(n.lView);for(;e&&!jw(e[fn]);)e=Ll(e);e&&uy(e)},consumerOnSignalRead(){this.lView[vo]=this}});function jw(n){return n.type!==2}function Bw(n){if(n[$h]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[$h])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[zt]&8192)}}var tL=100;function Vw(n,e=!0,t=0){let r=n[Ta].rendererFactory,o=!1;o||r.begin?.();try{nL(n,t)}catch(s){throw e&&Rw(n,s),s}finally{o||r.end?.()}}function nL(n,e){let t=gC();try{QS(!0),I_(n,e);let i=0;for(;hg(n);){if(i===tL)throw new ze(103,!1);i++,I_(n,1)}}finally{QS(t)}}function iL(n,e,t,i){let r=e[zt];if((r&256)===256)return;let o=!1,s=!1;fy(e);let l=!0,d=null,m=null;o||(jw(n)?(m=KR(e),d=Zm(m)):aS()===null?(l=!1,m=XR(e),d=Zm(m)):e[vo]&&(m4(e[vo]),e[vo]=null));try{dC(e),SP(n.bindingStartIndex),t!==null&&Aw(n,e,t,2,i);let g=(r&3)===3;if(!o)if(g){let _=n.preOrderCheckHooks;_!==null&&Nh(e,_,null)}else{let _=n.preOrderHooks;_!==null&&Ph(e,_,0,null),R4(e,0)}if(s||rL(e),Bw(e),Uw(e,0),n.contentQueries!==null&&Nw(n,e),!o)if(g){let _=n.contentCheckHooks;_!==null&&Nh(e,_)}else{let _=n.contentHooks;_!==null&&Ph(e,_,1),R4(e,1)}vR(n,e);let y=n.components;y!==null&&$w(e,y,0);let S=n.viewQuery;if(S!==null&&D_(2,S,i),!o)if(g){let _=n.viewCheckHooks;_!==null&&Nh(e,_)}else{let _=n.viewHooks;_!==null&&Ph(e,_,2),R4(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[O4]){for(let _ of e[O4])_();e[O4]=null}o||(e[zt]&=-73)}catch(g){throw o||gg(e),g}finally{m!==null&&(p4(m,d),l&&ZR(m)),my()}}function Uw(n,e){for(let t=GC(n);t!==null;t=WC(t))for(let i=_o;i<t.length;i++){let r=t[i];qw(r,e)}}function rL(n){for(let e=GC(n);e!==null;e=WC(e)){if(!(e[zt]&zh.HasTransplantedViews))continue;let t=e[Ed];for(let i=0;i<t.length;i++){let r=t[i];uy(r)}}}function oL(n,e,t){let i=Ru(e,n);qw(i,t)}function qw(n,e){ay(n)&&I_(n,e)}function I_(n,e){let i=n[fn],r=n[zt],o=n[vo],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&f4(o)),s||=!1,o&&(o.dirty=!1),n[zt]&=-9217,s)iL(i,n,i.template,n[Es]);else if(r&8192){Bw(n),Uw(n,1);let l=i.components;l!==null&&$w(n,l,1)}}function $w(n,e,t){for(let i=0;i<e.length;i++)oL(n,e[i],t)}function Uy(n,e){let t=gC()?64:1088;for(n[Ta].changeDetectionScheduler?.notify(e);n;){n[zt]|=t;let i=Ll(n);if(J4(n)&&!i)return n;n=i}return null}var Vl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[fn];return Xh(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i}get context(){return this._lView[Es]}get dirty(){return!!(this._lView[zt]&9280)||!!this._lView[vo]?.dirty}set context(e){this._lView[Es]=e}get destroyed(){return(this._lView[zt]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[br];if(Ra(e)){let t=e[Hh],i=t?t.indexOf(this):-1;i>-1&&(C_(e,i),Bh(t,i))}this._attachedToViewContainer=!1}hw(this._lView[fn],this._lView)}onDestroy(e){pC(this._lView,e)}markForCheck(){Uy(this._cdRefInjectingView||this._lView,4)}markForRefresh(){uy(this._cdRefInjectingView||this._lView)}detach(){this._lView[zt]&=-129}reattach(){e_(this._lView),this._lView[zt]|=128}detectChanges(){this._lView[zt]|=1024,Vw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=J4(this._lView),t=this._lView[Ol];t!==null&&!e&&Fy(t,this._lView),fw(this._lView[fn],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=e;let t=J4(this._lView),i=this._lView[Ol];i!==null&&!t&&mw(i,this._lView),e_(this._lView)}},Ul=(()=>{class n{static __NG_ELEMENT_ID__=uL}return n})(),sL=Ul,aL=class extends sL{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=GR(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Vl(r)}};function uL(){return Tg(pr(),Sn())}function Tg(n,e){return n.type&4?new aL(e,n,Dd(n,e)):null}var Wce=new RegExp(`^(\\d+)*(${uO}|${aO})*(.*)`);var lL=()=>null;function bx(n,e){return lL(n,e)}var T_=class{},eg=class{},M_=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Rr(e)}.`)}},Fu=class{static NULL=new M_},Nu=class{},Cs=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>cL()}return n})();function cL(){let n=Sn(),e=pr(),t=Ru(e.index,n);return(Du(t)?t:n)[mi]}var dL=(()=>{class n{static \u0275prov=$e({token:n,providedIn:"root",factory:()=>null})}return n})();function tg(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let l=e[s];if(typeof l=="number")o=l;else if(o==1)r=z4(r,l);else if(o==2){let d=l,m=e[++s];i=z4(i,d+": "+m+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var ng=class extends Fu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Iu(e);return new Cd(t,this.ngModule)}};function Ex(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,l=o?r[1]:Mu.None;e?t.push({propName:s,templateName:i,isSignal:(l&Mu.SignalBased)!==0}):t.push({propName:s,templateName:i})}return t}function pL(n){let e=n.toLowerCase();return e==="svg"?sP:e==="math"?aP:null}var Cd=class extends eg{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,t=e.inputTransforms,i=Ex(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return Ex(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=hR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=Fn(null);try{r=r||this.ngModule;let s=r instanceof Lr?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let l=s?new r_(e,s):e,d=l.get(Nu,null);if(d===null)throw new ze(407,!1);let m=l.get(dL,null),g=l.get(xd,null),y={rendererFactory:d,sanitizer:m,changeDetectionScheduler:g},S=d.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",A=i?bR(S,i,this.componentDef.encapsulation,l):pw(S,_,pL(_)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let L=null;A!==null&&(L=Ay(A,l,!0));let F=ky(0,null,null,1,0,null,null,null,null,null,null),k=Ag(null,F,null,w,null,null,y,S,l,null,L);fy(k);let W,te,le=null;try{let ge=this.componentDef,re,Y=null;ge.findHostDirectiveDefs?(re=[],Y=new Map,ge.findHostDirectiveDefs(ge,re,Y),re.push(ge)):re=[ge];let me=fL(k,A);le=mL(me,A,ge,re,k,y,S),te=lC(F,Uo),A&&vL(S,ge,A,i),t!==void 0&&_L(te,this.ngContentSelectors,t),W=gL(le,ge,re,Y,k,[yL]),Vy(F,k,null)}catch(ge){throw le!==null&&f_(le),f_(k),ge}finally{my()}return new F_(this.componentType,W,Dd(te,k),k,te)}finally{Fn(o)}}},F_=class extends T_{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new Vl(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;By(o[fn],o,r,e,t),this.previousInputValues.set(e,t);let s=Ru(this._tNode.index,o);Uy(s,1)}}get injector(){return new Fl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function fL(n,e){let t=n[fn],i=Uo;return n[i]=e,Tp(t,i,2,"#host",null)}function mL(n,e,t,i,r,o,s){let l=r[fn];hL(i,n,e,s);let d=null;e!==null&&(d=Ay(e,r[bd]));let m=o.rendererFactory.createRenderer(e,t),g=Ag(r,Dw(t),null,Mw(t),r[n.index],n,o,m,null,null,d);return l.firstCreatePass&&A_(l,n,i.length-1),Ig(r,g),r[n.index]=g}function hL(n,e,t,i){for(let r of n)e.mergedAttrs=Ep(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(tg(e,e.mergedAttrs,!0),t!==null&&bw(i,t,e))}function gL(n,e,t,i,r,o){let s=pr(),l=r[fn],d=qo(s,r);Iw(l,r,s,t,null,i);for(let g=0;g<t.length;g++){let y=s.directiveStart+g,S=Bl(r,l,y,s);Tu(S,r)}Tw(l,r,s),d&&Tu(d,r);let m=Bl(r,l,s.directiveStart+s.componentOffset,s);if(n[Es]=r[Es]=m,o!==null)for(let g of o)g(m,e);return Oy(l,s,r),m}function vL(n,e,t,i){if(i)i_(n,t,["ng-version","19.0.3"]);else{let{attrs:r,classes:o}=gR(e.selectors[0]);r&&i_(n,t,r),o&&o.length>0&&yw(n,t,o.join(" "))}}function _L(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}function yL(){let n=pr();yg(Sn()[fn],n)}var Ba=(()=>{class n{static __NG_ELEMENT_ID__=bL}return n})();function bL(){let n=pr();return zw(n,Sn())}var EL=Ba,Hw=class extends EL{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Dd(this._hostTNode,this._hostLView)}get injector(){return new Fl(this._hostTNode,this._hostLView)}get parentInjector(){let e=hy(this._hostTNode,this._hostLView);if(DC(e)){let t=Wh(e,this._hostLView),i=Gh(e),r=t[fn].data[i+8];return new Fl(r,t)}else return new Fl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Sx(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-_o}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=bx(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(l,r,yx(this._hostTNode,s)),l}createComponent(e,t,i,r,o){let s=e&&!nP(e),l;if(s)l=t;else{let A=t||{};l=A.index,i=A.injector,r=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let d=s?e:new Cd(Iu(e)),m=i||this.parentInjector;if(!o&&d.ngModule==null){let w=(s?m:this.parentInjector).get(Lr,null);w&&(o=w)}let g=Iu(d.componentType??{}),y=bx(this._lContainer,g?.id??null),S=y?.firstChild??null,_=d.create(m,r,S,o);return this.insertImpl(_.hostView,l,yx(this._hostTNode,y)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(cP(r)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let d=r[br],m=new Hw(d,d[Ss],d[br]);m.detach(m.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return WR(s,r,o,i),e.attachToViewContainerRef(),zx(B4(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Sx(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=C_(this._lContainer,t);i&&(Bh(B4(this._lContainer),t),hw(i[fn],i))}detach(e){let t=this._adjustIndex(e,-1),i=C_(this._lContainer,t);return i&&Bh(B4(this._lContainer),t)!=null?new Vl(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function Sx(n){return n[Hh]}function B4(n){return n[Hh]||(n[Hh]=[])}function zw(n,e){let t,i=e[n.index];return Ra(i)?t=i:(t=Fw(i,e,null,n),e[n.index]=t,Ig(e,t)),xL(t,e,n,i),new Hw(t,n,e)}function SL(n,e){let t=n[mi],i=t.createComment(""),r=qo(e,n),o=vw(t,r);return Jh(t,o,i,ZO(t,r),!1),i}var xL=AL,CL=()=>!1;function wL(n,e,t){return CL(n,e,t)}function AL(n,e,t,i){if(n[Rl])return;let r;t.type&8?r=Qs(i):r=SL(e,t),n[Rl]=r}var N_=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},P_=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),l=this.queries[s.indexInDeclarationView];r.push(l.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)qy(e,t).matches!==null&&this.queries[t].setDirty()}},O_=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=OL(e):this.predicate=e}},R_=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},L_=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,DL(t,o)),this.matchTNodeWithReadOption(e,t,Oh(t,e,o,!1,!1))}else i===Ul?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Oh(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Sr||r===Ba||r===Ul&&t.type&4)this.addMatch(t.index,-2);else{let o=Oh(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function DL(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function IL(n,e){return n.type&11?Dd(n,e):n.type&4?Tg(n,e):null}function TL(n,e,t,i){return t===-1?IL(e,n):t===-2?ML(n,e,i):Bl(n,n[fn],t,e)}function ML(n,e,t){if(t===Sr)return Dd(e,n);if(t===Ul)return Tg(e,n);if(t===Ba)return zw(e,n)}function Gw(n,e,t,i){let r=e[Ma].queries[i];if(r.matches===null){let o=n.data,s=t.matches,l=[];for(let d=0;s!==null&&d<s.length;d+=2){let m=s[d];if(m<0)l.push(null);else{let g=o[m];l.push(TL(e,g,s[d+1],t.metadata.read))}}r.matches=l}return r.matches}function k_(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=Gw(n,e,r,t);for(let l=0;l<o.length;l+=2){let d=o[l];if(d>0)i.push(s[l/2]);else{let m=o[l+1],g=e[-d];for(let y=_o;y<g.length;y++){let S=g[y];S[Ol]===S[br]&&k_(S[fn],S,m,i)}if(g[Ed]!==null){let y=g[Ed];for(let S=0;S<y.length;S++){let _=y[S];k_(_[fn],_,m,i)}}}}}return i}function FL(n,e){return n[Ma].queries[e].queryList}function NL(n,e,t){let i=new p_((t&4)===4);return xR(n,e,i,i.destroy),(e[Ma]??=new P_).queries.push(new N_(i))-1}function PL(n,e,t,i){let r=Ii();if(r.firstCreatePass){let o=pr();RL(r,new O_(e,t,i),o.index),LL(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return NL(r,Sn(),t)}function OL(n){return n.split(",").map(e=>e.trim())}function RL(n,e,t){n.queries===null&&(n.queries=new R_),n.queries.track(new L_(e,t))}function LL(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function qy(n,e){return n.queries.getByIndex(e)}function kL(n,e){let t=n[fn],i=qy(t,e);return i.crossesNgTemplate?k_(t,n,e,[]):Gw(t,n,i,e)}function jL(n){return typeof n=="function"&&n[mo]!==void 0}function ea(n,e){ju("NgSignals");let t=vS(n),i=t[mo];return e?.equal&&(i.equal=e.equal),t.set=r=>eh(i,r),t.update=r=>_S(i,r),t.asReadonly=BL.bind(t),t}function BL(){let n=this[mo];if(n.readonlyFn===void 0){let e=()=>this();e[mo]=n,n.readonlyFn=e}return n.readonlyFn}function Ww(n){return jL(n)&&typeof n.set=="function"}var Pu=class{},Sp=class{};var j_=class extends Pu{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ng(this);constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t;let o=Yx(e);this._bootstrapComponents=dw(o.bootstrap),this._r3Injector=LC(e,t,[{provide:Pu,useValue:this},{provide:Fu,useValue:this.componentFactoryResolver},...i],Rr(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},B_=class extends Sp{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new j_(this.moduleType,e,[])}};var ig=class extends Pu{injector;componentFactoryResolver=new ng(this);instance=null;constructor(e){super();let t=new yp([...e.providers,{provide:Pu,useValue:this},{provide:Fu,useValue:this.componentFactoryResolver}],e.parent||ry(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Mg(n,e,t=null){return new ig({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var VL=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=Jx(!1,t.type),r=i.length>0?Mg([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$e({token:n,providedIn:"environment",factory:()=>new n(Ge(Lr))})}return n})();function Ae(n){return Cp(()=>{let e=Yw(n),t=Yt(Re({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===HC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(VL).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Zs.Emulated,styles:n.styles||eo,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ju("NgStandalone"),Kw(t);let i=n.dependencies;return t.directiveDefs=Cx(i,!1),t.pipeDefs=Cx(i,!0),t.id=$L(t),t})}function UL(n){return Iu(n)||Kx(n)}function qL(n){return n!==null}function xr(n){return Cp(()=>({type:n.type,bootstrap:n.bootstrap||eo,declarations:n.declarations||eo,imports:n.imports||eo,exports:n.exports||eo,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function xx(n,e){if(n==null)return vd;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,l=Mu.None;Array.isArray(r)?(l=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=l!==Mu.None?[i,l]:i,e[o]=s):t[o]=i}return t}function Rn(n){return Cp(()=>{let e=Yw(n);return Kw(e),e})}function $y(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Yw(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||vd,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||eo,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xx(n.inputs,e),outputs:xx(n.outputs),debugInfo:null}}function Kw(n){n.features?.forEach(e=>e(n))}function Cx(n,e){if(!n)return null;let t=e?Qx:UL;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(qL)}function $L(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function HL(n){return Object.getPrototypeOf(n.prototype).constructor}function tr(n){let e=HL(n.type),t=!0,i=[n];for(;e;){let r;if(Fa(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ze(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=Ih(n.inputs),s.inputTransforms=Ih(n.inputTransforms),s.declaredInputs=Ih(n.declaredInputs),s.outputs=Ih(n.outputs);let l=r.hostBindings;l&&KL(n,l);let d=r.viewQuery,m=r.contentQueries;if(d&&WL(n,d),m&&YL(n,m),zL(n,r),S8(n.outputs,r.outputs),Fa(r)&&r.data.animation){let g=n.data;g.animation=(g.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let l=o[s];l&&l.ngInherit&&l(n),l===tr&&(t=!1)}}e=Object.getPrototypeOf(e)}GL(i)}function zL(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function GL(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ep(r.hostAttrs,t=Ep(t,r.hostAttrs))}}function Ih(n){return n===vd?{}:n===eo?[]:n}function WL(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function YL(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function KL(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function Hy(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}function Qw(n){return ZL(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function QL(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function ZL(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Zw(n,e,t){return n[e]=t}function Js(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function Jw(n,e,t,i){let r=Js(n,e,t);return Js(n,e+1,i)||r}function JL(n){return(n.flags&32)===32}function XL(n,e,t,i,r,o,s,l,d){let m=e.consts,g=Tp(e,n,4,s||null,l||null);jy(e,t,g,Sd(m,d)),yg(e,g);let y=g.tView=ky(2,g,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,m,null);return e.queries!==null&&(e.queries.template(e,g),y.queries=e.queries.embeddedTView(g)),g}function ek(n,e,t,i,r,o,s,l,d,m){let g=t+Uo,y=e.firstCreatePass?XL(g,e,n,i,r,o,s,l,d):e.data[g];$l(y,!1);let S=tk(e,n,y,t);vg()&&Cg(e,n,S,y),Tu(S,n);let _=Fw(S,n,S,y);return n[g]=_,Ig(n,_),wL(_,y,n),mg(y)&&Ry(e,n,y),d!=null&&Ly(n,y,m),y}function D(n,e,t,i,r,o,s,l){let d=Sn(),m=Ii(),g=Sd(m.consts,o);return ek(d,m,n,e,t,i,r,g,s,l),D}var tk=nk;function nk(n,e,t,i){return _g(!0),e[mi].createComment("")}var Fg=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var zy=new mt(""),Mp=new mt(""),Ng=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(t,i,r){this._ngZone=t,this.registry=i,Gy||(ik(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(t)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static \u0275fac=function(i){return new(i||n)(Ge(Nn),Ge(Pg),Ge(Mp))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),Pg=(()=>{class n{_applications=new Map;registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Gy?.findTestabilityInTree(this,t,i)??null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function ik(n){Gy=n}var Gy;function Hl(n){return!!n&&typeof n.then=="function"}function Xw(n){return!!n&&typeof n.subscribe=="function"}var Og=new mt("");var eA=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=Ve(Og,{optional:!0})??[];injector=Ve(kr);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=to(this.injector,r);if(Hl(o))t.push(o);else if(Xw(o)){let s=new Promise((l,d)=>{o.subscribe({complete:l,error:d})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rk=(()=>{class n{static \u0275prov=$e({token:n,providedIn:"root",factory:()=>new V_})}return n})(),V_=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}},Fp=new mt("");function ok(){gS(()=>{throw new ze(600,!1)})}function sk(n){return n.isBoundToModule}var ak=10;function uk(n,e,t){try{let i=t();return Hl(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var bo=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Ve(JP);afterRenderManager=Ve(JC);zonelessEnabled=Ve(bg);rootEffectScheduler=Ve(rk);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Zn;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Ve(ku).hasPendingTasks.pipe(ln(t=>!t));constructor(){Ve(Eg,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=Ve(Lr);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){let r=t instanceof eg;if(!this._injector.get(eA).done){let S=!r&&Zx(t),_=!1;throw new ze(405,_)}let s;r?s=t:s=this._injector.get(Fu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let l=sk(s)?void 0:this._injector.get(Pu),d=i||s.selector,m=s.create(kr.NULL,[],d,l),g=m.location.nativeElement,y=m.injector.get(zy,null);return y?.registerApplication(g),m.onDestroy(()=>{this.detachView(m.hostView),Rh(this.components,m),y?.unregisterApplication(g)}),this._loadComponent(m),m}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let i=this.tracingSnapshot;this.tracingSnapshot=null,i.run(Cy.CHANGE_DETECTION,this._tick),i.dispose();return}if(this._runningTick)throw new ze(101,!1);let t=Fn(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Fn(t),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Nu,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let t=0;for(;this.dirtyFlags!==0&&t++<ak;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)lk(i,r,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>hg(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Rh(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Fp,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Rh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ze(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function lk(n,e,t,i){if(!t&&!hg(n))return;Vw(n,e,t&&!i?0:1)}function Go(n,e,t,i){let r=Sn(),o=Ap();if(Js(r,o,e)){let s=Ii(),l=Dp();jR(l,r,n,e,t,i)}return Go}function tA(n,e,t,i){return Js(n,Ap(),t)?e+Nl(t)+i:zo}function ck(n,e,t,i,r,o){let s=EP(),l=Jw(n,s,t,r);return dy(2),l?e+Nl(t)+i+Nl(r)+o:zo}function Th(n,e){return n<<17|e<<2}function ql(n){return n>>17&32767}function dk(n){return(n&2)==2}function pk(n,e){return n&131071|e<<17}function U_(n){return n|2}function wd(n){return(n&131068)>>2}function V4(n,e){return n&-131069|e<<2}function fk(n){return(n&1)===1}function q_(n){return n|1}function mk(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,l=ql(s),d=wd(s);n[i]=t;let m=!1,g;if(Array.isArray(t)){let y=t;g=y[1],(g===null||wp(y,g)>0)&&(m=!0)}else g=t;if(r)if(d!==0){let S=ql(n[l+1]);n[i+1]=Th(S,l),S!==0&&(n[S+1]=V4(n[S+1],i)),n[l+1]=pk(n[l+1],i)}else n[i+1]=Th(l,0),l!==0&&(n[l+1]=V4(n[l+1],i)),l=i;else n[i+1]=Th(d,0),l===0?l=i:n[d+1]=V4(n[d+1],i),d=i;m&&(n[i+1]=U_(n[i+1])),wx(n,g,i,!0),wx(n,g,i,!1),hk(e,g,n,i,o),s=Th(l,d),o?e.classBindings=s:e.styleBindings=s}function hk(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&wp(o,e)>=0&&(t[i+1]=q_(t[i+1]))}function wx(n,e,t,i){let r=n[t+1],o=e===null,s=i?ql(r):wd(r),l=!1;for(;s!==0&&(l===!1||o);){let d=n[s],m=n[s+1];gk(d,e)&&(l=!0,n[s+1]=i?q_(m):U_(m)),s=i?ql(m):wd(m)}l&&(n[t+1]=i?U_(r):q_(r))}function gk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?wp(n,e)>=0:!1}var ys={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vk(n){return n.substring(ys.key,ys.keyEnd)}function _k(n){return yk(n),nA(n,iA(n,0,ys.textEnd))}function nA(n,e){let t=ys.textEnd;return t===e?-1:(e=ys.keyEnd=bk(n,ys.key=e,t),iA(n,e,t))}function yk(n){ys.key=0,ys.keyEnd=0,ys.value=0,ys.valueEnd=0,ys.textEnd=n.length}function iA(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function bk(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function E(n,e,t){let i=Sn(),r=Ap();if(Js(i,r,e)){let o=Ii(),s=Dp();Dg(o,s,i,n,e,i[mi],t,!1)}return E}function $_(n,e,t,i,r){let o=e.inputs,s=r?"class":"style";By(n,t,o[s],s,i)}function zl(n,e,t){return rA(n,e,t,!1),zl}function Rg(n,e){return rA(n,e,null,!0),Rg}function Va(n){Sk(Ik,Ek,n,!0)}function Ek(n,e){for(let t=_k(e);t>=0;t=nA(e,t))ty(n,vk(e),!0)}function rA(n,e,t,i){let r=Sn(),o=Ii(),s=dy(2);if(o.firstUpdatePass&&sA(o,n,s,i),e!==zo&&Js(r,s,e)){let l=o.data[Lu()];aA(o,l,r,r[mi],n,r[s+1]=Mk(e,t),i,s)}}function Sk(n,e,t,i){let r=Ii(),o=dy(2);r.firstUpdatePass&&sA(r,null,o,i);let s=Sn();if(t!==zo&&Js(s,o,t)){let l=r.data[Lu()];if(uA(l,i)&&!oA(r,o)){let d=i?l.classesWithoutHost:l.stylesWithoutHost;d!==null&&(t=z4(d,t||"")),$_(r,l,s,t,i)}else Tk(r,l,s,s[mi],s[o+1],s[o+1]=Dk(n,e,t),i,o)}}function oA(n,e){return e>=n.expandoStartIndex}function sA(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[Lu()],s=oA(n,t);uA(o,i)&&e===null&&!s&&(e=!1),e=xk(r,o,e,i),mk(r,o,e,t,s,i)}}function xk(n,e,t,i){let r=vC(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=U4(null,n,e,t,i),t=xp(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=U4(r,n,e,t,i),o===null){let d=Ck(n,e,i);d!==void 0&&Array.isArray(d)&&(d=U4(null,n,e,d[1],i),d=xp(d,e.attrs,i),wk(n,e,i,d))}else o=Ak(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function Ck(n,e,t){let i=t?e.classBindings:e.styleBindings;if(wd(i)!==0)return n[ql(i)]}function wk(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[ql(r)]=i}function Ak(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=xp(i,s,t)}return xp(i,e.attrs,t)}function U4(n,e,t,i,r){let o=null,s=t.directiveEnd,l=t.directiveStylingLast;for(l===-1?l=t.directiveStart:l++;l<s&&(o=e[l],i=xp(i,o.hostAttrs,r),o!==n);)l++;return n!==null&&(t.directiveStylingLast=l),i}function xp(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ty(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Dk(n,e,t){if(t==null||t==="")return eo;let i=[],r=Ho(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function Ik(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&ty(n,i,t)}function Tk(n,e,t,i,r,o,s,l){r===zo&&(r=eo);let d=0,m=0,g=0<r.length?r[0]:null,y=0<o.length?o[0]:null;for(;g!==null||y!==null;){let S=d<r.length?r[d+1]:void 0,_=m<o.length?o[m+1]:void 0,A=null,w;g===y?(d+=2,m+=2,S!==_&&(A=y,w=_)):y===null||g!==null&&g<y?(d+=2,A=g):(m+=2,A=y,w=_),A!==null&&aA(n,e,t,i,A,w,s,l),g=d<r.length?r[d]:null,y=m<o.length?o[m]:null}}function aA(n,e,t,i,r,o,s,l){if(!(e.type&3))return;let d=n.data,m=d[l+1],g=fk(m)?Ax(d,e,t,r,wd(m),s):void 0;if(!rg(g)){rg(o)||dk(m)&&(o=Ax(d,null,t,r,l,s));let y=uC(Lu(),t);rR(i,s,y,r,o)}}function Ax(n,e,t,i,r,o){let s=e===null,l;for(;r>0;){let d=n[r],m=Array.isArray(d),g=m?d[1]:d,y=g===null,S=t[r+1];S===zo&&(S=y?eo:void 0);let _=y?N4(S,i):g===i?S:void 0;if(m&&!rg(_)&&(_=N4(d,i)),rg(_)&&(l=_,s))return l;let A=n[r+1];r=s?ql(A):wd(A)}if(e!==null){let d=o?e.residualClasses:e.residualStyles;d!=null&&(l=N4(d,i))}return l}function rg(n){return n!==void 0}function Mk(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Rr(Ho(n)))),n}function uA(n,e){return(n.flags&(e?8:16))!==0}function Fk(n,e,t,i,r,o){let s=e.consts,l=Sd(s,r),d=Tp(e,n,2,i,l);return jy(e,t,d,Sd(s,o)),d.attrs!==null&&tg(d,d.attrs,!1),d.mergedAttrs!==null&&tg(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function u(n,e,t,i){let r=Sn(),o=Ii(),s=Uo+n,l=r[mi],d=o.firstCreatePass?Fk(s,o,r,e,t,i):o.data[s],m=Nk(o,r,d,l,e,n);r[s]=m;let g=mg(d);return $l(d,!0),bw(l,m,d),!JL(d)&&vg()&&Cg(o,r,m,d),fP()===0&&Tu(m,r),mP(),g&&(Ry(o,r,d),Oy(o,d,r)),i!==null&&Ly(r,d),u}function a(){let n=pr();ly()?hC():(n=n.parent,$l(n,!1));let e=n;vP(e)&&_P(),hP();let t=Ii();return t.firstCreatePass&&(yg(t,n),sy(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&NP(e)&&$_(t,e,Sn(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&PP(e)&&$_(t,e,Sn(),e.stylesWithoutHost,!1),a}function M(n,e,t,i){return u(n,e,t,i),a(),M}var Nk=(n,e,t,i,r,o)=>(_g(!0),pw(i,r,IP()));function Pk(n,e,t,i,r){let o=e.consts,s=Sd(o,i),l=Tp(e,n,8,"ng-container",s);s!==null&&tg(l,s,!0);let d=Sd(o,r);return jy(e,t,l,d),e.queries!==null&&e.queries.elementStart(e,l),l}function no(n,e,t){let i=Sn(),r=Ii(),o=n+Uo,s=r.firstCreatePass?Pk(o,r,i,e,t):r.data[o];$l(s,!0);let l=Ok(r,i,s,n);return i[o]=l,vg()&&Cg(r,i,l,s),Tu(l,i),mg(s)&&(Ry(r,i,s),Oy(r,s,i)),t!=null&&Ly(i,s),no}function io(){let n=pr(),e=Ii();return ly()?hC():(n=n.parent,$l(n,!1)),e.firstCreatePass&&(yg(e,n),sy(n)&&e.queries.elementEnd(n)),io}var Ok=(n,e,t,i)=>(_g(!0),qO(e[mi],""));function ht(){return Sn()}function Wy(n,e,t){let i=Sn(),r=Ap();if(Js(i,r,e)){let o=Ii(),s=Dp(),l=vC(o.data),d=qR(l,s,i);Dg(o,s,i,n,e,d,t,!0)}return Wy}var Ml=void 0;function Rk(n){let e=n,t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&i===0?1:5}var Lk=["en",[["a","p"],["AM","PM"],Ml],[["AM","PM"],Ml,Ml],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ml,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ml,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ml,"{1} 'at' {0}",Ml],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Rk],q4={};function Eo(n){let e=kk(n),t=Dx(e);if(t)return t;let i=e.split("-")[0];if(t=Dx(i),t)return t;if(i==="en")return Lk;throw new ze(701,!1)}function Dx(n){return n in q4||(q4[n]=yr.ng&&yr.ng.common&&yr.ng.common.locales&&yr.ng.common.locales[n]),q4[n]}var bi=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(bi||{});function kk(n){return n.toLowerCase().replace(/_/g,"-")}var og="en-US";var jk=og;function Bk(n){typeof n=="string"&&(jk=n.toLowerCase().replace(/_/g,"-"))}var Vk=(n,e,t)=>{};function Z(n,e,t,i){let r=Sn(),o=Ii(),s=pr();return lA(o,r,r[mi],s,n,e,i),Z}function Uk(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let l=e[qh],d=r[o+2];return l.length>d?l[d]:null}typeof s=="string"&&(o+=2)}return null}function lA(n,e,t,i,r,o,s){let l=mg(i),m=n.firstCreatePass&&Ow(n),g=e[Es],y=Pw(e),S=!0;if(i.type&3||s){let w=qo(i,e),L=s?s(w):w,F=y.length,k=s?te=>s(Qs(te[i.index])):i.index,W=null;if(!s&&l&&(W=Uk(n,e,r,i.index)),W!==null){let te=W.__ngLastListenerFn__||W;te.__ngNextListenerFn__=o,W.__ngLastListenerFn__=o,S=!1}else{o=Tx(i,e,g,o),Vk(w,r,o);let te=t.listen(L,r,o);y.push(o,te),m&&m.push(r,k,F,F+1)}}else o=Tx(i,e,g,o);let _=i.outputs,A;if(S&&_!==null&&(A=_[r])){let w=A.length;if(w)for(let L=0;L<w;L+=2){let F=A[L],k=A[L+1],le=e[F][k].subscribe(o),ge=y.length;y.push(o,le),m&&m.push(r,i.index,ge,-(ge+1))}}}function Ix(n,e,t,i){let r=Fn(null);try{return Ws(6,e,t),t(i)!==!1}catch(o){return Rw(n,o),!1}finally{Ws(7,e,t),Fn(r)}}function Tx(n,e,t,i){return function r(o){if(o===Function)return i;let s=n.componentOffset>-1?Ru(n.index,e):e;Uy(s,5);let l=Ix(e,t,i,o),d=r.__ngNextListenerFn__;for(;d;)l=Ix(e,t,d,o)&&l,d=d.__ngNextListenerFn__;return l}}function q(n=1){return DP(n)}function Np(n,e,t){return Id(n,"",e,"",t),Np}function Id(n,e,t,i,r){let o=Sn(),s=tA(o,e,t,i);if(s!==zo){let l=Ii(),d=Dp();Dg(l,d,o,n,s,o[mi],r,!1)}return Id}function cA(n,e,t,i){PL(n,e,t,i)}function dA(n){let e=Sn(),t=Ii(),i=_C();py(i+1);let r=qy(t,i);if(n.dirty&&lP(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=kL(e,i);n.reset(o,tO),n.notifyOnChanges()}return!0}return!1}function pA(){return FL(Sn(),_C())}function qk(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function Pp(n){let e=bP();return cC(e,Uo+n)}function c(n,e=""){let t=Sn(),i=Ii(),r=n+Uo,o=i.firstCreatePass?Tp(i,r,1,e,null):i.data[r],s=$k(i,t,o,e,n);t[r]=s,vg()&&Cg(i,t,s,o),$l(o,!1)}var $k=(n,e,t,i,r)=>(_g(!0),VO(e[mi],i));function C(n){return Se("",n,""),C}function Se(n,e,t){let i=Sn(),r=tA(i,n,e,t);return r!==zo&&Lw(i,Lu(),r),Se}function Op(n,e,t,i,r){let o=Sn(),s=ck(o,n,e,t,i,r);return s!==zo&&Lw(o,Lu(),s),Op}function It(n,e,t){Ww(e)&&(e=e());let i=Sn(),r=Ap();if(Js(i,r,e)){let o=Ii(),s=Dp();Dg(o,s,i,n,e,i[mi],t,!1)}return It}function Pt(n,e){let t=Ww(n);return t&&n.set(e),t}function Tt(n,e){let t=Sn(),i=Ii(),r=pr();return lA(i,t,t[mi],r,n,e),Tt}function Hk(n,e,t){let i=Ii();if(i.firstCreatePass){let r=Fa(n);H_(t,i.data,i.blueprint,r,!0),H_(e,i.data,i.blueprint,r,!1)}}function H_(n,e,t,i,r){if(n=Or(n),Array.isArray(n))for(let o=0;o<n.length;o++)H_(n[o],e,t,i,r);else{let o=Ii(),s=Sn(),l=pr(),d=yd(n)?n:Or(n.provide),m=tC(n),g=l.providerIndexes&1048575,y=l.directiveStart,S=l.providerIndexes>>20;if(yd(n)||!n.multi){let _=new jl(m,r,O),A=H4(d,e,r?g:g+S,y);A===-1?(s_(Kh(l,s),o,d),$4(o,n,e.length),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(_),s.push(_)):(t[A]=_,s[A]=_)}else{let _=H4(d,e,g+S,y),A=H4(d,e,g,g+S),w=_>=0&&t[_],L=A>=0&&t[A];if(r&&!L||!r&&!w){s_(Kh(l,s),o,d);let F=Wk(r?Gk:zk,t.length,r,i,m);!r&&L&&(t[A].providerFactory=F),$4(o,n,e.length,0),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=fA(t[r?A:_],m,!r&&i);$4(o,n,_>-1?_:A,F)}!r&&i&&L&&t[A].componentProviders++}}}function $4(n,e,t,i){let r=yd(e),o=Y8(e);if(r||o){let d=(o?Or(e.useClass):e).prototype.ngOnDestroy;if(d){let m=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let g=m.indexOf(t);g===-1?m.push(t,[i,d]):m[g+1].push(i,d)}else m.push(t,d)}}}function fA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function H4(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function zk(n,e,t,i){return z_(this.multi,[])}function Gk(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,l=Bl(t,t[fn],this.providerFactory.index,i);o=l.slice(0,s),z_(r,o);for(let d=s;d<l.length;d++)o.push(l[d])}else o=[],z_(r,o);return o}function z_(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function Wk(n,e,t,i,r){let o=new jl(n,t,O);return o.multi=[],o.index=e,o.componentProviders=0,fA(o,r,i&&!t),o}function So(n,e=[]){return t=>{t.providersResolver=(i,r)=>Hk(i,r?r(n):n,e)}}function mn(n,e,t,i){return Yk(Sn(),cy(),n,e,t,i)}function Td(n,e,t,i,r){return hA(Sn(),cy(),n,e,t,i,r)}function mA(n,e){let t=n[e];return t===zo?void 0:t}function Yk(n,e,t,i,r,o){let s=e+t;return Js(n,s,r)?Zw(n,s+1,o?i.call(o,r):i(r)):mA(n,s+1)}function hA(n,e,t,i,r,o,s){let l=e+t;return Jw(n,l,r,o)?Zw(n,l+2,s?i.call(s,r,o):i(r,o)):mA(n,l+2)}function _n(n,e){let t=Ii(),i,r=n+Uo;t.firstCreatePass?(i=Kk(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=Pl(i.type,!0)),s,l=Xr(O);try{let d=Yh(!1),m=o();return Yh(d),qk(t,Sn(),r,m),m}finally{Xr(l)}}function Kk(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function yn(n,e,t,i){let r=n+Uo,o=Sn(),s=cC(o,r);return Qk(o,r)?hA(o,cy(),e,s.transform,t,i,s):s.transform(t,i)}function Qk(n,e){return n[fn].data[e].pure}function Lg(n,e){return Tg(n,e)}var G_=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},kg=(()=>{class n{compileModuleSync(t){return new B_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=Yx(t),o=dw(r.declarations).reduce((s,l)=>{let d=Iu(l);return d&&s.push(new Cd(d)),s},[]);return new G_(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zk=(()=>{class n{zone=Ve(Nn);changeDetectionScheduler=Ve(xd);applicationRef=Ve(bo);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jk=new mt("",{factory:()=>!1});function gA({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Nn(Yt(Re({},_A()),{scheduleInRootZone:t})),[{provide:Nn,useFactory:n},{provide:_d,multi:!0,useFactory:()=>{let i=Ve(Zk,{optional:!0});return()=>i.initialize()}},{provide:_d,multi:!0,useFactory:()=>{let i=Ve(Xk);return()=>{i.initialize()}}},e===!0?{provide:jC,useValue:!0}:[],{provide:BC,useValue:t??kC}]}function vA(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=gA({ngZoneFactory:()=>{let r=_A(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&ju("NgZone_CoalesceEvent"),new Nn(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Ou([{provide:Jk,useValue:!0},{provide:bg,useValue:!1},i])}function _A(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Xk=(()=>{class n{subscription=new ki;initialized=!1;zone=Ve(Nn);pendingTasks=Ve(ku);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Nn.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Nn.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var e9=(()=>{class n{appRef=Ve(bo);taskService=Ve(ku);ngZone=Ve(Nn);zonelessEnabled=Ve(bg);tracing=Ve(Eg,{optional:!0});disableScheduling=Ve(jC,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ki;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Ve(BC,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof d_||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 13:{this.appRef.dirtyFlags|=16,i=!0;break}case 14:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{i=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?nx:VC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,nx(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function t9(){return typeof $localize<"u"&&$localize.locale||og}var Rp=new mt("",{providedIn:"root",factory:()=>Ve(Rp,vn.Optional|vn.SkipSelf)||t9()});var W_=new mt("");function Mh(n){return!n.moduleRef}function n9(n){let e=Mh(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Nn);return t.run(()=>{Mh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Na,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),Mh(n)){let o=()=>e.destroy(),s=n.platformInjector.get(W_);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(W_);s.add(o),n.moduleRef.onDestroy(()=>{Rh(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return uk(i,t,()=>{let o=e.get(eA);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Rp,og);if(Bk(s||og),Mh(n)){let l=e.get(bo);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return i9(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function i9(n,e){let t=n.injector.get(bo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ze(-403,!1);e.push(n)}var Lh=null;function r9(n=[],e){return kr.create({name:e,providers:[{provide:dg,useValue:"platform"},{provide:W_,useValue:new Set([()=>Lh=null])},...n]})}function o9(n=[]){if(Lh)return Lh;let e=r9(n);return Lh=e,ok(),s9(e),e}function s9(n){let e=n.get(Ey,null);to(n,()=>{e?.forEach(t=>t())})}var Wo=(()=>{class n{static __NG_ELEMENT_ID__=a9}return n})();function a9(n){return u9(pr(),Sn(),(n&16)===16)}function u9(n,e,t){if(fg(n)&&!t){let i=Ru(n.index,e);return new Vl(i,i)}else if(n.type&175){let i=e[Ks];return new Vl(i,e)}return null}var Y_=class{constructor(){}supports(e){return Qw(e)}create(e){return new K_(e)}},l9=(n,e)=>e,K_=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||l9}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<Mx(i,r,o)?t:i,l=Mx(s,r,o),d=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let m=l-r,g=d-r;if(m!=g){for(let S=0;S<m;S++){let _=S<o.length?o[S]:o[S]=0,A=_+S;g<=A&&A<m&&(o[S]=_+1)}let y=s.previousIndex;o[y]=g-m}}l!==d&&e(s,l,d)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Qw(e))throw new ze(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)o=e[l],s=this._trackByFn(l,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,l),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,l)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,QL(e,l=>{s=this._trackByFn(r,l),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,l,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,l,s,r)),Object.is(t.item,l)||this._addIdentityChange(t,l)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Q_(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new sg),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new sg),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Q_=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Z_=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},sg=class{map=new Map;put(e){let t=e.trackById,i=this.map.get(t);i||(i=new Z_,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Mx(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function Fx(){return new Yy([new Y_])}var Yy=(()=>{class n{factories;static \u0275prov=$e({token:n,providedIn:"root",factory:Fx});constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||Fx()),deps:[[n,new X_,new cg]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new ze(901,!1)}}return n})();var yA=(()=>{class n{constructor(t){}static \u0275fac=function(i){return new(i||n)(Ge(bo))};static \u0275mod=xr({type:n});static \u0275inj=Er({})}return n})();function bA(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=o9(i),o=[gA({}),{provide:xd,useExisting:e9},...t||[]],s=new ig({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return n9({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}function Bu(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Lp(n,e){ju("NgSignals");let t=fS(n);return e?.equal&&(t[mo].equal=e.equal),t}function Ua(n){let e=Fn(null);try{return n()}finally{Fn(e)}}var Nx=class{[mo];constructor(e){this[mo]=e}destroy(){this[mo].destroy()}};function EA(n){let e=Iu(n);if(!e)return null;let t=new Cd(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var TA=null;function ta(){return TA}function MA(n){TA??=n}var Gg=class{};var Ei=new mt(""),sb=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:()=>Ve(c9),providedIn:"platform"})}return n})(),FA=new mt(""),c9=(()=>{class n extends sb{_location;_history;_doc=Ve(Ei);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ta().getBaseHref(this._doc)}onPopState(t){let i=ta().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=ta().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ab(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function SA(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function $a(n){return n&&n[0]!=="?"?"?"+n:n}var Ga=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:()=>Ve(ub),providedIn:"root"})}return n})(),NA=new mt(""),ub=(()=>{class n extends Ga{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Ve(Ei).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ab(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+$a(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+$a(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+$a(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(Ge(sb),Ge(NA,8))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PA=(()=>{class n extends Ga{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=ab(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+$a(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+$a(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(Ge(sb),Ge(NA,8))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),Fd=(()=>{class n{_subject=new Zn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=f9(SA(xA(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+$a(i))}normalize(t){return n.stripTrailingSlash(p9(this._basePath,xA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$a(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$a(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=$a;static joinWithSlash=ab;static stripTrailingSlash=SA;static \u0275fac=function(i){return new(i||n)(Ge(Ga))};static \u0275prov=$e({token:n,factory:()=>d9(),providedIn:"root"})}return n})();function d9(){return new Fd(Ge(Ga))}function p9(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function xA(n){return n.replace(/\/index.html$/,"")}function f9(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var OA=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(OA||{});var Br=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Br||{}),ti=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ti||{}),xo=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(xo||{}),Co={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function m9(n){return Eo(n)[bi.LocaleId]}function h9(n,e,t){let i=Eo(n),r=[i[bi.DayPeriodsFormat],i[bi.DayPeriodsStandalone]],o=Yo(r,e);return Yo(o,t)}function g9(n,e,t){let i=Eo(n),r=[i[bi.DaysFormat],i[bi.DaysStandalone]],o=Yo(r,e);return Yo(o,t)}function v9(n,e,t){let i=Eo(n),r=[i[bi.MonthsFormat],i[bi.MonthsStandalone]],o=Yo(r,e);return Yo(o,t)}function _9(n,e){let i=Eo(n)[bi.Eras];return Yo(i,e)}function jg(n,e){let t=Eo(n);return Yo(t[bi.DateFormat],e)}function Bg(n,e){let t=Eo(n);return Yo(t[bi.TimeFormat],e)}function Vg(n,e){let i=Eo(n)[bi.DateTimeFormat];return Yo(i,e)}function Ha(n,e){let t=Eo(n),i=t[bi.NumberSymbols][e];if(typeof i>"u"){if(e===Co.CurrencyDecimal)return t[bi.NumberSymbols][Co.Decimal];if(e===Co.CurrencyGroup)return t[bi.NumberSymbols][Co.Group]}return i}function y9(n,e){return Eo(n)[bi.NumberFormats][e]}function RA(n){if(!n[bi.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[bi.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function b9(n){let e=Eo(n);return RA(e),(e[bi.ExtraData][2]||[]).map(i=>typeof i=="string"?Ky(i):[Ky(i[0]),Ky(i[1])])}function E9(n,e,t){let i=Eo(n);RA(i);let r=[i[bi.ExtraData][0],i[bi.ExtraData][1]],o=Yo(r,e)||[];return Yo(o,t)||[]}function Yo(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Ky(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var S9=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ug={},x9=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,za=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(za||{}),Vn=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Vn||{}),Bn=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Bn||{});function C9(n,e,t,i){let r=P9(n);e=qa(t,e)||e;let s=[],l;for(;e;)if(l=x9.exec(e),l){s=s.concat(l.slice(1));let g=s.pop();if(!g)break;e=g}else{s.push(e);break}let d=r.getTimezoneOffset();i&&(d=kA(i,d),r=N9(r,i,!0));let m="";return s.forEach(g=>{let y=M9(g);m+=y?y(r,t,d):g==="''"?"'":g.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),m}function Wg(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function qa(n,e){let t=m9(n);if(Ug[t]??={},Ug[t][e])return Ug[t][e];let i="";switch(e){case"shortDate":i=jg(n,xo.Short);break;case"mediumDate":i=jg(n,xo.Medium);break;case"longDate":i=jg(n,xo.Long);break;case"fullDate":i=jg(n,xo.Full);break;case"shortTime":i=Bg(n,xo.Short);break;case"mediumTime":i=Bg(n,xo.Medium);break;case"longTime":i=Bg(n,xo.Long);break;case"fullTime":i=Bg(n,xo.Full);break;case"short":let r=qa(n,"shortTime"),o=qa(n,"shortDate");i=qg(Vg(n,xo.Short),[r,o]);break;case"medium":let s=qa(n,"mediumTime"),l=qa(n,"mediumDate");i=qg(Vg(n,xo.Medium),[s,l]);break;case"long":let d=qa(n,"longTime"),m=qa(n,"longDate");i=qg(Vg(n,xo.Long),[d,m]);break;case"full":let g=qa(n,"fullTime"),y=qa(n,"fullDate");i=qg(Vg(n,xo.Full),[g,y]);break}return i&&(Ug[t][e]=i),i}function qg(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function ws(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function w9(n,e){return ws(n,3).substring(0,e)}function Ui(n,e,t=0,i=!1,r=!1){return function(o,s){let l=A9(n,o);if((t>0||l>-t)&&(l+=t),n===Vn.Hours)l===0&&t===-12&&(l=12);else if(n===Vn.FractionalSeconds)return w9(l,e);let d=Ha(s,Co.MinusSign);return ws(l,e,d,i,r)}}function A9(n,e){switch(n){case Vn.FullYear:return e.getFullYear();case Vn.Month:return e.getMonth();case Vn.Date:return e.getDate();case Vn.Hours:return e.getHours();case Vn.Minutes:return e.getMinutes();case Vn.Seconds:return e.getSeconds();case Vn.FractionalSeconds:return e.getMilliseconds();case Vn.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function ai(n,e,t=Br.Format,i=!1){return function(r,o){return D9(r,o,n,e,t,i)}}function D9(n,e,t,i,r,o){switch(t){case Bn.Months:return v9(e,r,i)[n.getMonth()];case Bn.Days:return g9(e,r,i)[n.getDay()];case Bn.DayPeriods:let s=n.getHours(),l=n.getMinutes();if(o){let m=b9(e),g=E9(e,r,i),y=m.findIndex(S=>{if(Array.isArray(S)){let[_,A]=S,w=s>=_.hours&&l>=_.minutes,L=s<A.hours||s===A.hours&&l<A.minutes;if(_.hours<A.hours){if(w&&L)return!0}else if(w||L)return!0}else if(S.hours===s&&S.minutes===l)return!0;return!1});if(y!==-1)return g[y]}return h9(e,r,i)[s<12?0:1];case Bn.Eras:return _9(e,i)[n.getFullYear()<=0?0:1];default:let d=t;throw new Error(`unexpected translation type ${d}`)}}function $g(n){return function(e,t,i){let r=-1*i,o=Ha(t,Co.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case za.Short:return(r>=0?"+":"")+ws(s,2,o)+ws(Math.abs(r%60),2,o);case za.ShortGMT:return"GMT"+(r>=0?"+":"")+ws(s,1,o);case za.Long:return"GMT"+(r>=0?"+":"")+ws(s,2,o)+":"+ws(Math.abs(r%60),2,o);case za.Extended:return i===0?"Z":(r>=0?"+":"")+ws(s,2,o)+":"+ws(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var I9=0,zg=4;function T9(n){let e=Wg(n,I9,1).getDay();return Wg(n,0,1+(e<=zg?zg:zg+7)-e)}function LA(n){let e=n.getDay(),t=e===0?-3:zg-e;return Wg(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Qy(n,e=!1){return function(t,i){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=LA(t),s=T9(o.getFullYear()),l=o.getTime()-s.getTime();r=1+Math.round(l/6048e5)}return ws(r,n,Ha(i,Co.MinusSign))}}function Hg(n,e=!1){return function(t,i){let o=LA(t).getFullYear();return ws(o,n,Ha(i,Co.MinusSign),e)}}var Zy={};function M9(n){if(Zy[n])return Zy[n];let e;switch(n){case"G":case"GG":case"GGG":e=ai(Bn.Eras,ti.Abbreviated);break;case"GGGG":e=ai(Bn.Eras,ti.Wide);break;case"GGGGG":e=ai(Bn.Eras,ti.Narrow);break;case"y":e=Ui(Vn.FullYear,1,0,!1,!0);break;case"yy":e=Ui(Vn.FullYear,2,0,!0,!0);break;case"yyy":e=Ui(Vn.FullYear,3,0,!1,!0);break;case"yyyy":e=Ui(Vn.FullYear,4,0,!1,!0);break;case"Y":e=Hg(1);break;case"YY":e=Hg(2,!0);break;case"YYY":e=Hg(3);break;case"YYYY":e=Hg(4);break;case"M":case"L":e=Ui(Vn.Month,1,1);break;case"MM":case"LL":e=Ui(Vn.Month,2,1);break;case"MMM":e=ai(Bn.Months,ti.Abbreviated);break;case"MMMM":e=ai(Bn.Months,ti.Wide);break;case"MMMMM":e=ai(Bn.Months,ti.Narrow);break;case"LLL":e=ai(Bn.Months,ti.Abbreviated,Br.Standalone);break;case"LLLL":e=ai(Bn.Months,ti.Wide,Br.Standalone);break;case"LLLLL":e=ai(Bn.Months,ti.Narrow,Br.Standalone);break;case"w":e=Qy(1);break;case"ww":e=Qy(2);break;case"W":e=Qy(1,!0);break;case"d":e=Ui(Vn.Date,1);break;case"dd":e=Ui(Vn.Date,2);break;case"c":case"cc":e=Ui(Vn.Day,1);break;case"ccc":e=ai(Bn.Days,ti.Abbreviated,Br.Standalone);break;case"cccc":e=ai(Bn.Days,ti.Wide,Br.Standalone);break;case"ccccc":e=ai(Bn.Days,ti.Narrow,Br.Standalone);break;case"cccccc":e=ai(Bn.Days,ti.Short,Br.Standalone);break;case"E":case"EE":case"EEE":e=ai(Bn.Days,ti.Abbreviated);break;case"EEEE":e=ai(Bn.Days,ti.Wide);break;case"EEEEE":e=ai(Bn.Days,ti.Narrow);break;case"EEEEEE":e=ai(Bn.Days,ti.Short);break;case"a":case"aa":case"aaa":e=ai(Bn.DayPeriods,ti.Abbreviated);break;case"aaaa":e=ai(Bn.DayPeriods,ti.Wide);break;case"aaaaa":e=ai(Bn.DayPeriods,ti.Narrow);break;case"b":case"bb":case"bbb":e=ai(Bn.DayPeriods,ti.Abbreviated,Br.Standalone,!0);break;case"bbbb":e=ai(Bn.DayPeriods,ti.Wide,Br.Standalone,!0);break;case"bbbbb":e=ai(Bn.DayPeriods,ti.Narrow,Br.Standalone,!0);break;case"B":case"BB":case"BBB":e=ai(Bn.DayPeriods,ti.Abbreviated,Br.Format,!0);break;case"BBBB":e=ai(Bn.DayPeriods,ti.Wide,Br.Format,!0);break;case"BBBBB":e=ai(Bn.DayPeriods,ti.Narrow,Br.Format,!0);break;case"h":e=Ui(Vn.Hours,1,-12);break;case"hh":e=Ui(Vn.Hours,2,-12);break;case"H":e=Ui(Vn.Hours,1);break;case"HH":e=Ui(Vn.Hours,2);break;case"m":e=Ui(Vn.Minutes,1);break;case"mm":e=Ui(Vn.Minutes,2);break;case"s":e=Ui(Vn.Seconds,1);break;case"ss":e=Ui(Vn.Seconds,2);break;case"S":e=Ui(Vn.FractionalSeconds,1);break;case"SS":e=Ui(Vn.FractionalSeconds,2);break;case"SSS":e=Ui(Vn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=$g(za.Short);break;case"ZZZZZ":e=$g(za.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$g(za.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=$g(za.Long);break;default:return null}return Zy[n]=e,e}function kA(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function F9(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function N9(n,e,t){let i=t?-1:1,r=n.getTimezoneOffset(),o=kA(e,r);return F9(n,i*(o-r))}function P9(n){if(CA(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(l=>+l);return Wg(r,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(S9))return O9(i)}let e=new Date(n);if(!CA(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function O9(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,l=Number(n[5]||0)-i,d=Number(n[6]||0),m=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,l,d,m),e}function CA(n){return n instanceof Date&&!isNaN(n.valueOf())}var R9=/^(\d+)?\.((\d+)(-(\d+))?)?$/,wA=22,Yg=".",kp="0",L9=";",k9=",",Jy="#";function j9(n,e,t,i,r,o,s=!1){let l="",d=!1;if(!isFinite(n))l=Ha(t,Co.Infinity);else{let m=q9(n);s&&(m=U9(m));let g=e.minInt,y=e.minFrac,S=e.maxFrac;if(o){let k=o.match(R9);if(k===null)throw new Error(`${o} is not a valid digit info`);let W=k[1],te=k[3],le=k[5];W!=null&&(g=Xy(W)),te!=null&&(y=Xy(te)),le!=null?S=Xy(le):te!=null&&y>S&&(S=y)}$9(m,y,S);let _=m.digits,A=m.integerLen,w=m.exponent,L=[];for(d=_.every(k=>!k);A<g;A++)_.unshift(0);for(;A<0;A++)_.unshift(0);A>0?L=_.splice(A,_.length):(L=_,_=[0]);let F=[];for(_.length>=e.lgSize&&F.unshift(_.splice(-e.lgSize,_.length).join(""));_.length>e.gSize;)F.unshift(_.splice(-e.gSize,_.length).join(""));_.length&&F.unshift(_.join("")),l=F.join(Ha(t,i)),L.length&&(l+=Ha(t,r)+L.join("")),w&&(l+=Ha(t,Co.Exponential)+"+"+w)}return n<0&&!d?l=e.negPre+l+e.negSuf:l=e.posPre+l+e.posSuf,l}function B9(n,e,t){let i=y9(e,OA.Decimal),r=V9(i,Ha(e,Co.MinusSign));return j9(n,r,e,Co.Group,Co.Decimal,t)}function V9(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(L9),r=i[0],o=i[1],s=r.indexOf(Yg)!==-1?r.split(Yg):[r.substring(0,r.lastIndexOf(kp)+1),r.substring(r.lastIndexOf(kp)+1)],l=s[0],d=s[1]||"";t.posPre=l.substring(0,l.indexOf(Jy));for(let g=0;g<d.length;g++){let y=d.charAt(g);y===kp?t.minFrac=t.maxFrac=g+1:y===Jy?t.maxFrac=g+1:t.posSuf+=y}let m=l.split(k9);if(t.gSize=m[1]?m[1].length:0,t.lgSize=m[2]||m[1]?(m[2]||m[1]).length:0,o){let g=r.length-t.posPre.length-t.posSuf.length,y=o.indexOf(Jy);t.negPre=o.substring(0,y).replace(/'/g,""),t.negSuf=o.slice(y+g).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function U9(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function q9(n){let e=Math.abs(n)+"",t=0,i,r,o,s,l;for((r=e.indexOf(Yg))>-1&&(e=e.replace(Yg,"")),(o=e.search(/e/i))>0?(r<0&&(r=o),r+=+e.slice(o+1),e=e.substring(0,o)):r<0&&(r=e.length),o=0;e.charAt(o)===kp;o++);if(o===(l=e.length))i=[0],r=1;else{for(l--;e.charAt(l)===kp;)l--;for(r-=o,i=[],s=0;o<=l;o++,s++)i[s]=Number(e.charAt(o))}return r>wA&&(i=i.splice(0,wA-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}function $9(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen,o=Math.min(Math.max(e,r),t),s=o+n.integerLen,l=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let y=s;y<i.length;y++)i[y]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let y=1;y<s;y++)i[y]=0}if(l>=5)if(s-1<0){for(let y=0;y>s;y--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let d=o!==0,m=e+n.integerLen,g=i.reduceRight(function(y,S,_,A){return S=S+y,A[_]=S<10?S:S-10,d&&(A[_]===0&&_>=m?A.pop():d=!1),S>=10?1:0},0);g&&(i.unshift(g),n.integerLen++)}function Xy(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Kg(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var eb=/\s+/,AA=[],jA=(()=>{class n{_ngEl;_renderer;initialClasses=AA;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(eb):AA}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(eb):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(eb).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(O(Sr),O(Cs))};static \u0275dir=Rn({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var tb=class{$implicit;ngForOf;index;count;constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},He=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new tb(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let l=i.get(o);i.move(l,s),DA(l,r)}});for(let r=0,o=i.length;r<o;r++){let l=i.get(r).context;l.index=r,l.count=o,l.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);DA(o,r)})}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(O(Ba),O(Ul),O(Yy))};static \u0275dir=Rn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function DA(n,e){n.context.$implicit=e.item}var tt=(()=>{class n{_viewContainer;_context=new nb;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,i){this._viewContainer=t,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){IA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){IA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(O(Ba),O(Ul))};static \u0275dir=Rn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),nb=class{$implicit=null;ngIf=null};function IA(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Rr(e)}'.`)}var BA=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||n)(O(Ba))};static \u0275dir=Rn({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[xs]})}return n})();function VA(n,e){return new ze(2100,!1)}var H9="mediumDate",z9=new mt(""),G9=new mt(""),Qg=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??H9,l=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return C9(t,s,o||this.locale,l)}catch(s){throw VA(n,s.message)}}static \u0275fac=function(i){return new(i||n)(O(Rp,16),O(z9,24),O(G9,24))};static \u0275pipe=$y({name:"date",type:n,pure:!0})}return n})();var nr=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,i,r){if(!W9(t))return null;r||=this._locale;try{let o=Y9(t);return B9(o,r,i)}catch(o){throw VA(n,o.message)}}static \u0275fac=function(i){return new(i||n)(O(Rp,16))};static \u0275pipe=$y({name:"number",type:n,pure:!0})}return n})();function W9(n){return!(n==null||n===""||n!==n)}function Y9(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var Ne=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xr({type:n});static \u0275inj=Er({})}return n})(),lb="browser",K9="server";function Q9(n){return n===lb}function Zg(n){return n===K9}var UA=(()=>{class n{static \u0275prov=$e({token:n,providedIn:"root",factory:()=>Q9(Ve(La))?new ib(Ve(Ei),window):new rb})}return n})(),ib=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=Z9(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function Z9(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var rb=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Md=class{};var Bp=class{},Xg=class{},Le=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(l=>o.indexOf(l)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var db=class{encodeKey(e){return qA(e)}encodeValue(e){return qA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function J9(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,l]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],d=t.get(s)||[];d.push(l),t.set(s,d)}),t}var X9=/%(\d[a-f0-9])/gi,ej={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qA(n){return encodeURIComponent(n).replace(X9,(e,t)=>ej[t]??e)}function Jg(n){return`${n}`}var Vr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new db,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=J9(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(Jg):[Jg(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Jg(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Jg(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var pb=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function tj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function $A(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function HA(n){return typeof Blob<"u"&&n instanceof Blob}function zA(n){return typeof FormData<"u"&&n instanceof FormData}function nj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var jp=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,i,r){this.url=t,this.method=e.toUpperCase();let o;if(tj(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Le,this.context??=new pb,!this.params)this.params=new Vr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let l=t.indexOf("?"),d=l===-1?"?":l<t.length-1?"&":"";this.urlWithParams=t+d+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||$A(this.body)||HA(this.body)||zA(this.body)||nj(this.body)?this.body:this.body instanceof Vr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||zA(this.body)?null:HA(this.body)?this.body.type||null:$A(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Vr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,l=e.withCredentials??this.withCredentials,d=e.reportProgress??this.reportProgress,m=e.headers||this.headers,g=e.params||this.params,y=e.context??this.context;return e.setHeaders!==void 0&&(m=Object.keys(e.setHeaders).reduce((S,_)=>S.set(_,e.setHeaders[_]),m)),e.setParams&&(g=Object.keys(e.setParams).reduce((S,_)=>S.set(_,e.setParams[_]),g)),new n(t,i,s,{params:g,headers:m,context:y,reportProgress:d,responseType:r,withCredentials:l,transferCache:o})}},Uu=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Uu||{}),Vp=class{headers;status;statusText;url;ok;type;constructor(e,t=200,i="OK"){this.headers=e.headers||new Le,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},e6=class n extends Vp{constructor(e={}){super(e)}type=Uu.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Up=class n extends Vp{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Uu.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Vu=class extends Vp{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},KA=200,ij=204;function cb(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var ni=(()=>{class n{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof jp)o=t;else{let d;r.headers instanceof Le?d=r.headers:d=new Le(r.headers);let m;r.params&&(r.params instanceof Vr?m=r.params:m=new Vr({fromObject:r.params})),o=new jp(t,i,r.body!==void 0?r.body:null,{headers:d,context:r.context,params:m,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=jt(o).pipe(Aa(d=>this.handler.handle(d)));if(t instanceof jp||r.observe==="events")return s;let l=s.pipe(Zr(d=>d instanceof Up));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(ln(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return l.pipe(ln(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return l.pipe(ln(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return l.pipe(ln(d=>d.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Vr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,cb(r,i))}post(t,i,r={}){return this.request("POST",t,cb(r,i))}put(t,i,r={}){return this.request("PUT",t,cb(r,i))}static \u0275fac=function(i){return new(i||n)(Ge(Bp))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),rj=/^\)\]\}',?\n/,oj="X-Request-URL";function GA(n){if(n.url)return n.url;let e=oj.toLocaleLowerCase();return n.headers.get(e)}var sj=(()=>{class n{fetchImpl=Ve(fb,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t));ngZone=Ve(Nn);handle(t){return new In(i=>{let r=new AbortController;return this.doRequest(t,r.signal,i).then(mb,o=>i.error(new Vu({error:o}))),()=>r.abort()})}doRequest(t,i,r){return lp(this,null,function*(){let o=this.createRequestInit(t),s;try{let _=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,Re({signal:i},o)));aj(_),r.next({type:Uu.Sent}),s=yield _}catch(_){r.error(new Vu({error:_,status:_.status??0,statusText:_.statusText,url:t.urlWithParams,headers:_.headers}));return}let l=new Le(s.headers),d=s.statusText,m=GA(s)??t.urlWithParams,g=s.status,y=null;if(t.reportProgress&&r.next(new e6({headers:l,status:g,statusText:d,url:m})),s.body){let _=s.headers.get("content-length"),A=[],w=s.body.getReader(),L=0,F,k,W=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>lp(this,null,function*(){for(;;){let{done:le,value:ge}=yield w.read();if(le)break;if(A.push(ge),L+=ge.length,t.reportProgress){k=t.responseType==="text"?(k??"")+(F??=new TextDecoder).decode(ge,{stream:!0}):void 0;let re=()=>r.next({type:Uu.DownloadProgress,total:_?+_:void 0,loaded:L,partialText:k});W?W.run(re):re()}}}));let te=this.concatChunks(A,L);try{let le=s.headers.get("Content-Type")??"";y=this.parseBody(t,te,le)}catch(le){r.error(new Vu({error:le,headers:new Le(s.headers),status:s.status,statusText:s.statusText,url:GA(s)??t.urlWithParams}));return}}g===0&&(g=y?KA:0),g>=200&&g<300?(r.next(new Up({body:y,headers:l,status:g,statusText:d,url:m})),r.complete()):r.error(new Vu({error:y,headers:l,status:g,statusText:d,url:m}))})}parseBody(t,i,r){switch(t.responseType){case"json":let o=new TextDecoder().decode(i).replace(rj,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(t){let i={},r=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>i[o]=s.join(",")),t.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:i,credentials:r}}concatChunks(t,i){let r=new Uint8Array(i),o=0;for(let s of t)r.set(s,o),o+=s.length;return r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),fb=class{};function mb(){}function aj(n){n.then(mb,mb)}function uj(n,e){return e(n)}function lj(n,e,t){return(i,r)=>to(t,()=>e(i,o=>n(o,r)))}var QA=new mt(""),cj=new mt(""),dj=new mt("",{providedIn:"root",factory:()=>!0});var WA=(()=>{class n extends Bp{backend;injector;chain=null;pendingTasks=Ve(ku);contributeToStability=Ve(dj);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(QA),...this.injector.get(cj,[])]));this.chain=i.reduceRight((r,o)=>lj(r,o,this.injector),uj)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Tl(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(Ge(Xg),Ge(Lr))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})();var pj=/^\)\]\}',?\n/;function fj(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var YA=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new ze(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?si(i.\u0275loadImpl()):jt(null)).pipe(Jr(()=>new In(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,L)=>s.setRequestHeader(w,L.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let w=t.detectContentTypeHeader();w!==null&&s.setRequestHeader("Content-Type",w)}if(t.responseType){let w=t.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let l=t.serializeBody(),d=null,m=()=>{if(d!==null)return d;let w=s.statusText||"OK",L=new Le(s.getAllResponseHeaders()),F=fj(s)||t.url;return d=new e6({headers:L,status:s.status,statusText:w,url:F}),d},g=()=>{let{headers:w,status:L,statusText:F,url:k}=m(),W=null;L!==ij&&(W=typeof s.response>"u"?s.responseText:s.response),L===0&&(L=W?KA:0);let te=L>=200&&L<300;if(t.responseType==="json"&&typeof W=="string"){let le=W;W=W.replace(pj,"");try{W=W!==""?JSON.parse(W):null}catch(ge){W=le,te&&(te=!1,W={error:ge,text:W})}}te?(o.next(new Up({body:W,headers:w,status:L,statusText:F,url:k||void 0})),o.complete()):o.error(new Vu({error:W,headers:w,status:L,statusText:F,url:k||void 0}))},y=w=>{let{url:L}=m(),F=new Vu({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:L||void 0});o.error(F)},S=!1,_=w=>{S||(o.next(m()),S=!0);let L={type:Uu.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(L.total=w.total),t.responseType==="text"&&s.responseText&&(L.partialText=s.responseText),o.next(L)},A=w=>{let L={type:Uu.UploadProgress,loaded:w.loaded};w.lengthComputable&&(L.total=w.total),o.next(L)};return s.addEventListener("load",g),s.addEventListener("error",y),s.addEventListener("timeout",y),s.addEventListener("abort",y),t.reportProgress&&(s.addEventListener("progress",_),l!==null&&s.upload&&s.upload.addEventListener("progress",A)),s.send(l),o.next({type:Uu.Sent}),()=>{s.removeEventListener("error",y),s.removeEventListener("abort",y),s.removeEventListener("load",g),s.removeEventListener("timeout",y),t.reportProgress&&(s.removeEventListener("progress",_),l!==null&&s.upload&&s.upload.removeEventListener("progress",A)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(Ge(Md))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),ZA=new mt(""),mj="XSRF-TOKEN",hj=new mt("",{providedIn:"root",factory:()=>mj}),gj="X-XSRF-TOKEN",vj=new mt("",{providedIn:"root",factory:()=>gj}),t6=class{},_j=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Kg(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||n)(Ge(Ei),Ge(La),Ge(hj))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})();function yj(n,e){let t=n.url.toLowerCase();if(!Ve(ZA)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=Ve(t6).getToken(),r=Ve(vj);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}function JA(...n){let e=[ni,YA,WA,{provide:Bp,useExisting:WA},{provide:Xg,useFactory:()=>Ve(sj,{optional:!0})??Ve(YA)},{provide:QA,useValue:yj,multi:!0},{provide:ZA,useValue:!0},{provide:t6,useClass:_j}];for(let t of n)e.push(...t.\u0275providers);return Ou(e)}var gb=class extends Gg{supportsDOMEvents=!0},vb=class n extends gb{static makeCurrent(){MA(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=bj();return t==null?null:Ej(t)}resetBaseElement(){qp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Kg(document.cookie,e)}},qp=null;function bj(){return qp=qp||document.querySelector("base"),qp?qp.getAttribute("href"):null}function Ej(n){return new URL(n,document.baseURI).pathname}var _b=class{addToWindow(e){yr.getAngularTestability=(i,r=!0)=>{let o=e.findTestabilityInTree(i,r);if(o==null)throw new ze(5103,!1);return o},yr.getAllAngularTestabilities=()=>e.getAllTestabilities(),yr.getAllAngularRootElements=()=>e.getAllRootElements();let t=i=>{let r=yr.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(l=>{l.whenStable(s)})};yr.frameworkStabilizers||(yr.frameworkStabilizers=[]),yr.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,i){if(t==null)return null;let r=e.getTestability(t);return r??(i?ta().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},Sj=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),yb=new mt(""),iD=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new ze(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(Ge(yb),Ge(Nn))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),n6=class{_doc;constructor(e){this._doc=e}manager},bb="ng-app-id";function XA(n){for(let e of n)e.remove()}function eD(n,e){let t=e.createElement("style");return t.textContent=n,t}function xj(n,e,t){let i=n.head?.querySelectorAll(`style[${bb}="${e}"]`);if(i)for(let r of i)r.textContent&&(r.removeAttribute(bb),t.set(r.textContent,{usage:0,elements:[r]}))}function Eb(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var rD=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.isServer=Zg(o),xj(t,i,this.inline),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,eD);i?.forEach(r=>this.addUsage(r,this.external,Eb))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(XA(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])XA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,eD(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,Eb(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(bb,this.appId),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(Ge(Ei),Ge(by),Ge(xy,8),Ge(La))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),hb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},xb=/%COMP%/g,oD="%COMP%",Cj=`_nghost-${oD}`,wj=`_ngcontent-${oD}`,Aj=!0,Dj=new mt("",{providedIn:"root",factory:()=>Aj});function Ij(n){return wj.replace(xb,n)}function Tj(n){return Cj.replace(xb,n)}function sD(n,e){return e.map(t=>t.replace(xb,n))}var i6=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,l,d,m=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=l,this.ngZone=d,this.nonce=m,this.platformIsServer=Zg(l),this.defaultRenderer=new $p(t,s,d,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Zs.ShadowDom&&(i=Yt(Re({},i),{encapsulation:Zs.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof r6?r.applyToHost(t):r instanceof Hp&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,l=this.ngZone,d=this.eventManager,m=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case Zs.Emulated:o=new r6(d,m,i,this.appId,g,s,l,y);break;case Zs.ShadowDom:return new Sb(d,m,t,i,s,l,this.nonce,y);default:o=new Hp(d,m,i,g,s,l,y);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(i){return new(i||n)(Ge(iD),Ge(rD),Ge(by),Ge(Dj),Ge(Ei),Ge(La),Ge(Nn),Ge(xy))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),$p=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(hb[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(tD(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(tD(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new ze(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=hb[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=hb[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Oa.DashCase|Oa.Important)?e.style.setProperty(t,i,r&Oa.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Oa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=ta().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function tD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Sb=class extends $p{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,o,s,l,d){super(e,o,s,d),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=sD(r.id,r.styles);for(let y of m){let S=document.createElement("style");l&&S.setAttribute("nonce",l),S.textContent=y,this.shadowRoot.appendChild(S)}let g=r.getExternalStyles?.();if(g)for(let y of g){let S=Eb(y,o);l&&S.setAttribute("nonce",l),this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Hp=class extends $p{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,o,s,l,d){super(e,o,s,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=d?sD(d,i.styles):i.styles,this.styleUrls=i.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},r6=class extends Hp{contentAttr;hostAttr;constructor(e,t,i,r,o,s,l,d){let m=r+"-"+i.id;super(e,t,i,o,s,l,d,m),this.contentAttr=Ij(m),this.hostAttr=Tj(m)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},Mj=(()=>{class n extends n6{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static \u0275fac=function(i){return new(i||n)(Ge(Ei))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),nD=["alt","control","meta","shift"],Fj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Pj=(()=>{class n extends n6{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r){let o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ta().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),s="code."),nD.forEach(m=>{let g=i.indexOf(m);g>-1&&(i.splice(g,1),s+=m+".")}),s+=o,i.length!=0||o.length===0)return null;let d={};return d.domEventName=r,d.fullKey=s,d}static matchEventFullKeyCode(t,i){let r=Fj[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),nD.forEach(s=>{if(s!==r){let l=Nj[s];l(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(Ge(Ei))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})();function aD(n,e){return bA(Re({rootComponent:n},Oj(e)))}function Oj(n){return{appProviders:[...uD,...n?.providers??[]],platformProviders:jj}}function Rj(){vb.makeCurrent()}function Lj(){return new Na}function kj(){return KC(document),document}var jj=[{provide:La,useValue:lb},{provide:Ey,useValue:Rj,multi:!0},{provide:Ei,useFactory:kj,deps:[]}];var Bj=new mt(""),Vj=[{provide:Mp,useClass:_b,deps:[]},{provide:zy,useClass:Ng,deps:[Nn,Pg,Mp]},{provide:Ng,useClass:Ng,deps:[Nn,Pg,Mp]}],uD=[{provide:dg,useValue:"root"},{provide:Na,useFactory:Lj,deps:[]},{provide:yb,useClass:Mj,multi:!0,deps:[Ei,Nn,La]},{provide:yb,useClass:Pj,multi:!0,deps:[Ei]},i6,rD,iD,{provide:Nu,useExisting:i6},{provide:Md,useClass:Sj,deps:[]},[]],lD=(()=>{class n{constructor(t){}static \u0275fac=function(i){return new(i||n)(Ge(Bj,12))};static \u0275mod=xr({type:n});static \u0275inj=Er({providers:[...uD,...Vj],imports:[Ne,yA]})}return n})();var cD=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(Ge(Ei))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Cb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=Ge(Uj),r},providedIn:"root"})}return n})(),Uj=(()=>{class n extends Cb{_doc;constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case yo.NONE:return i;case yo.HTML:return ka(i,"HTML")?Ho(i):Dy(this._doc,String(i)).toString();case yo.STYLE:return ka(i,"Style")?Ho(i):i;case yo.SCRIPT:if(ka(i,"Script"))return Ho(i);throw new ze(5200,!1);case yo.URL:return ka(i,"URL")?Ho(i):xg(String(i));case yo.RESOURCE_URL:if(ka(i,"ResourceURL"))return Ho(i);throw new ze(5201,!1);default:throw new ze(5202,!1)}}bypassSecurityTrustHtml(t){return ew(t)}bypassSecurityTrustStyle(t){return tw(t)}bypassSecurityTrustScript(t){return nw(t)}bypassSecurityTrustUrl(t){return iw(t)}bypassSecurityTrustResourceUrl(t){return rw(t)}static \u0275fac=function(i){return new(i||n)(Ge(Ei))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var hn="primary",sf=Symbol("RouteTitle"),Tb=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function kd(n){return new Tb(n)}function qj(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],l=n[o];if(s[0]===":")r[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function $j(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!na(n[t],e[t]))return!1;return!0}function na(n,e){let t=n?Mb(n):void 0,i=e?Mb(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!SD(n[r],e[r]))return!1;return!0}function Mb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function SD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function xD(n){return n.length>0?n[n.length-1]:null}function $u(n){return w4(n)?n:Hl(n)?si(Promise.resolve(n)):jt(n)}var Hj={exact:wD,subset:AD},CD={exact:zj,subset:Gj,ignored:()=>!0};function pD(n,e,t){return Hj[t.paths](n.root,e.root,t.matrixParams)&&CD[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function zj(n,e){return na(n,e)}function wD(n,e,t){if(!Wl(n.segments,e.segments)||!a6(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!wD(n.children[i],e.children[i],t))return!1;return!0}function Gj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>SD(n[t],e[t]))}function AD(n,e,t){return DD(n,e,e.segments,t)}function DD(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!Wl(r,t)||e.hasChildren()||!a6(r,t,i))}else if(n.segments.length===t.length){if(!Wl(n.segments,t)||!a6(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!AD(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Wl(n.segments,r)||!a6(n.segments,r,i)||!n.children[hn]?!1:DD(n.children[hn],e,o,i)}}function a6(n,e,t){return e.every((i,r)=>CD[t](n[r].parameters,i.parameters))}var Ya=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Hn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=kd(this.queryParams),this._queryParamMap}toString(){return Kj.serialize(this)}},Hn=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return u6(this)}},Gl=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=kd(this.parameters),this._parameterMap}toString(){return TD(this)}};function Wj(n,e){return Wl(n,e)&&n.every((t,i)=>na(t.parameters,e[i].parameters))}function Wl(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function Yj(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===hn&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==hn&&(t=t.concat(e(r,i)))}),t}var af=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:()=>new jd,providedIn:"root"})}return n})(),jd=class{parse(e){let t=new Nb(e);return new Ya(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${zp(e.root,!0)}`,i=Jj(e.queryParams),r=typeof e.fragment=="string"?`#${Qj(e.fragment)}`:"";return`${t}${i}${r}`}},Kj=new jd;function u6(n){return n.segments.map(e=>TD(e)).join("/")}function zp(n,e){if(!n.hasChildren())return u6(n);if(e){let t=n.children[hn]?zp(n.children[hn],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==hn&&i.push(`${r}:${zp(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=Yj(n,(i,r)=>r===hn?[zp(n.children[hn],!1)]:[`${r}:${zp(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[hn]!=null?`${u6(n)}/${t[0]}`:`${u6(n)}/(${t.join("//")})`}}function ID(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function o6(n){return ID(n).replace(/%3B/gi,";")}function Qj(n){return encodeURI(n)}function Fb(n){return ID(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function l6(n){return decodeURIComponent(n)}function fD(n){return l6(n.replace(/\+/g,"%20"))}function TD(n){return`${Fb(n.path)}${Zj(n.parameters)}`}function Zj(n){return Object.entries(n).map(([e,t])=>`;${Fb(e)}=${Fb(t)}`).join("")}function Jj(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${o6(t)}=${o6(r)}`).join("&"):`${o6(t)}=${o6(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Xj=/^[^\/()?;#]+/;function wb(n){let e=n.match(Xj);return e?e[0]:""}var eB=/^[^\/()?;=#]+/;function tB(n){let e=n.match(eB);return e?e[0]:""}var nB=/^[^=?&#]+/;function iB(n){let e=n.match(nB);return e?e[0]:""}var rB=/^[^&#]+/;function oB(n){let e=n.match(rB);return e?e[0]:""}var Nb=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[hn]=new Hn(e,t)),i}parseSegment(){let e=wb(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ze(4009,!1);return this.capture(e),new Gl(l6(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=tB(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=wb(this.remaining);r&&(i=r,this.capture(i))}e[l6(t)]=l6(i)}parseQueryParam(e){let t=iB(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=oB(this.remaining);s&&(i=s,this.capture(i))}let r=fD(t),o=fD(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=wb(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new ze(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=hn);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[hn]:new Hn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ze(4011,!1)}};function MD(n){return n.segments.length>0?new Hn([],{[hn]:n}):n}function FD(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=FD(r);if(i===hn&&o.segments.length===0&&o.hasChildren())for(let[s,l]of Object.entries(o.children))e[s]=l;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new Hn(n.segments,e);return sB(t)}function sB(n){if(n.numberOfChildren===1&&n.children[hn]){let e=n.children[hn];return new Hn(n.segments.concat(e.segments),e.children)}return n}function Yl(n){return n instanceof Ya}function aB(n,e,t=null,i=null){let r=ND(n);return PD(r,e,t,i)}function ND(n){let e;function t(o){let s={};for(let d of o.children){let m=t(d);s[d.outlet]=m}let l=new Hn(o.url,s);return o===n&&(e=l),l}let i=t(n.root),r=MD(i);return e??r}function PD(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Ab(r,r,r,t,i);let o=uB(e);if(o.toRoot())return Ab(r,r,new Hn([],{}),t,i);let s=lB(o,r,n),l=s.processChildren?Yp(s.segmentGroup,s.index,o.commands):RD(s.segmentGroup,s.index,o.commands);return Ab(r,s.segmentGroup,l,t,i)}function c6(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Zp(n){return typeof n=="object"&&n!=null&&n.outlets}function Ab(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([d,m])=>{o[d]=Array.isArray(m)?m.map(g=>`${g}`):`${m}`});let s;n===e?s=t:s=OD(n,e,t);let l=MD(FD(s));return new Ya(l,o,r)}function OD(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=OD(o,e,t)}),new Hn(n.segments,i)}var d6=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&c6(i[0]))throw new ze(4003,!1);let r=i.find(Zp);if(r&&r!==xD(i))throw new ze(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new d6(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,m])=>{l[d]=typeof m=="string"?m.split("/"):m}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?t=!0:l===".."?e++:l!=""&&r.push(l))}),r):[...r,o]},[]);return new d6(t,e,i)}var Od=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function lB(n,e,t){if(n.isAbsolute)return new Od(e,!0,0);if(!t)return new Od(e,!1,NaN);if(t.parent===null)return new Od(t,!0,0);let i=c6(n.commands[0])?0:1,r=t.segments.length-1+i;return cB(t,r,n.numberOfDoubleDots)}function cB(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new ze(4005,!1);r=i.segments.length}return new Od(i,!1,r-o)}function dB(n){return Zp(n[0])?n[0].outlets:{[hn]:n}}function RD(n,e,t){if(n??=new Hn([],{}),n.segments.length===0&&n.hasChildren())return Yp(n,e,t);let i=pB(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Hn(n.segments.slice(0,i.pathIndex),{});return o.children[hn]=new Hn(n.segments.slice(i.pathIndex),n.children),Yp(o,0,r)}else return i.match&&r.length===0?new Hn(n.segments,{}):i.match&&!n.hasChildren()?Pb(n,e,t):i.match?Yp(n,0,r):Pb(n,e,t)}function Yp(n,e,t){if(t.length===0)return new Hn(n.segments,{});{let i=dB(t),r={};if(Object.keys(i).some(o=>o!==hn)&&n.children[hn]&&n.numberOfChildren===1&&n.children[hn].segments.length===0){let o=Yp(n.children[hn],e,t);return new Hn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=RD(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Hn(n.segments,r)}}function pB(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],l=t[i];if(Zp(l))break;let d=`${l}`,m=i<t.length-1?t[i+1]:null;if(r>0&&d===void 0)break;if(d&&m&&typeof m=="object"&&m.outlets===void 0){if(!hD(d,m,s))return o;i+=2}else{if(!hD(d,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Pb(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(Zp(o)){let d=fB(o.outlets);return new Hn(i,d)}if(r===0&&c6(t[0])){let d=n.segments[e];i.push(new Gl(d.path,mD(t[0]))),r++;continue}let s=Zp(o)?o.outlets[hn]:`${o}`,l=r<t.length-1?t[r+1]:null;s&&l&&c6(l)?(i.push(new Gl(s,mD(l))),r+=2):(i.push(new Gl(s,{})),r++)}return new Hn(i,{})}function fB(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=Pb(new Hn([],{}),0,i))}),e}function mD(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function hD(n,e,t){return n==t.path&&na(e,t.parameters)}var Kp="imperative",ir=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ir||{}),Ko=class{id;url;constructor(e,t){this.id=e,this.url=t}},Bd=class extends Ko{type=ir.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ds=class extends Ko{urlAfterRedirects;type=ir.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Do=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Do||{}),p6=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(p6||{}),Wa=class extends Ko{reason;code;type=ir.NavigationCancel;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},qu=class extends Ko{reason;code;type=ir.NavigationSkipped;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}},Jp=class extends Ko{error;target;type=ir.NavigationError;constructor(e,t,i,r){super(e,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},f6=class extends Ko{urlAfterRedirects;state;type=ir.RoutesRecognized;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ob=class extends Ko{urlAfterRedirects;state;type=ir.GuardsCheckStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rb=class extends Ko{urlAfterRedirects;state;shouldActivate;type=ir.GuardsCheckEnd;constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Lb=class extends Ko{urlAfterRedirects;state;type=ir.ResolveStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kb=class extends Ko{urlAfterRedirects;state;type=ir.ResolveEnd;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jb=class{route;type=ir.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Bb=class{route;type=ir.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vb=class{snapshot;type=ir.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ub=class{snapshot;type=ir.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qb=class{snapshot;type=ir.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$b=class{snapshot;type=ir.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},m6=class{routerEvent;position;anchor;type=ir.Scroll;constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Xp=class{},Vd=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function mB(n,e){return n.providers&&!n._injector&&(n._injector=Mg(n.providers,e,`Route: ${n.path}`)),n._injector??e}function As(n){return n.outlet||hn}function hB(n,e){let t=n.filter(i=>As(i)===e);return t.push(...n.filter(i=>As(i)!==e)),t}function uf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Hb=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return uf(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new lf(this.rootInjector)}},lf=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Hb(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(Ge(Lr))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),h6=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=zb(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=zb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Gb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Gb(e,this._root).map(t=>t.value)}};function zb(n,e){if(n===e.value)return e;for(let t of e.children){let i=zb(n,t);if(i)return i}return null}function Gb(n,e){if(n===e.value)return[e];for(let t of e.children){let i=Gb(n,t);if(i.length)return i.unshift(e),i}return[]}var Ao=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Pd(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var g6=class extends h6{snapshot;constructor(e,t){super(e),this.snapshot=t,t3(this,e)}toString(){return this.snapshot.toString()}};function LD(n){let e=gB(n),t=new Ki([new Gl("",{})]),i=new Ki({}),r=new Ki({}),o=new Ki({}),s=new Ki(""),l=new ft(t,i,o,s,r,hn,n,e.root);return l.snapshot=e.root,new g6(new Ao(l,[]),e)}function gB(n){let e={},t={},i={},r="",o=new Rd([],e,i,r,t,hn,n,null,{});return new _6("",new Ao(o,[]))}var ft=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,r,o,s,l,d){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(ln(m=>m[sf]))??jt(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ln(e=>kd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ln(e=>kd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function v6(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:Re(Re({},e.params),n.params),data:Re(Re({},e.data),n.data),resolve:Re(Re(Re(Re({},n.data),e.data),r?.data),n._resolvedData)}:i={params:Re({},n.params),data:Re({},n.data),resolve:Re(Re({},n.data),n._resolvedData??{})},r&&jD(r)&&(i.resolve[sf]=r.title),i}var Rd=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[sf]}constructor(e,t,i,r,o,s,l,d,m){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=l,this.routeConfig=d,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=kd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=kd(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},_6=class extends h6{url;constructor(e,t){super(t),this.url=e,t3(this,t)}toString(){return kD(this._root)}};function t3(n,e){e.value._routerState=n,e.children.forEach(t=>t3(n,t))}function kD(n){let e=n.children.length>0?` { ${n.children.map(kD).join(", ")} } `:"";return`${n.value}${e}`}function Db(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,na(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),na(e.params,t.params)||n.paramsSubject.next(t.params),$j(e.url,t.url)||n.urlSubject.next(t.url),na(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Wb(n,e){let t=na(n.params,e.params)&&Wj(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||Wb(n.parent,e.parent))}function jD(n){return typeof n.title=="string"||n.title===null}var vB=new mt(""),cf=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=hn;activateEvents=new Vi;deactivateEvents=new Vi;attachEvents=new Vi;detachEvents=new Vi;routerOutletData=qC(void 0);parentContexts=Ve(lf);location=Ve(Ba);changeDetector=Ve(Wo);inputBinder=Ve(S6,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ze(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ze(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ze(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new ze(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new Yb(t,l,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:d,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Rn({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[xs]})}return n})(),Yb=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,i,r){this.route=e,this.childContexts=t,this.parent=i,this.outletData=r}get(e,t){return e===ft?this.route:e===lf?this.childContexts:e===vB?this.outletData:this.parent.get(e,t)}},S6=new mt(""),gD=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=mp([i.queryParams,i.params,i.data]).pipe(Jr(([o,s,l],d)=>(l=Re(Re(Re({},o),s),l),d===0?jt(l):Promise.resolve(l)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let s=EA(i.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:l}of s.inputs)t.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(t,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})();function _B(n,e,t){let i=ef(n,e._root,t?t._root:void 0);return new g6(i,e)}function ef(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=yB(n,e,t);return new Ao(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(l=>ef(n,l)),s}}let i=bB(e.value),r=e.children.map(o=>ef(n,o));return new Ao(i,r)}}function yB(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ef(n,i,r);return ef(n,i)})}function bB(n){return new ft(new Ki(n.url),new Ki(n.params),new Ki(n.queryParams),new Ki(n.fragment),new Ki(n.data),n.outlet,n.component,n)}var tf=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},BD="ngNavigationCancelingError";function y6(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Yl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=VD(!1,Do.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function VD(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[BD]=!0,t.cancellationCode=e,t}function EB(n){return UD(n)&&Yl(n.url)}function UD(n){return!!n&&n[BD]}var SB=(n,e,t,i)=>ln(r=>(new Kb(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),Kb=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Db(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Pd(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Pd(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Pd(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Pd(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new $b(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ub(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(Db(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),Db(l.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},b6=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ld=class{component;route;constructor(e,t){this.component=e,this.route=t}};function xB(n,e,t){let i=n._root,r=e?e._root:null;return Gp(i,r,t,[i.value])}function CB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function qd(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!jx(n)?n:e.get(n):i}function Gp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Pd(e);return n.children.forEach(s=>{wB(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,l])=>Qp(l,t.getContext(s),r)),r}function wB(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,l=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let d=AB(s,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new b6(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Gp(n,e,l?l.children:null,i,r):Gp(n,e,t,i,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new Ld(l.outlet.component,s))}else s&&Qp(e,l,r),r.canActivateChecks.push(new b6(i)),o.component?Gp(n,null,l?l.children:null,i,r):Gp(n,null,t,i,r);return r}function AB(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Wl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Wl(n.url,e.url)||!na(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wb(n,e)||!na(n.queryParams,e.queryParams);case"paramsChange":default:return!Wb(n,e)}}function Qp(n,e,t){let i=Pd(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?Qp(s,e.children.getContext(o),t):Qp(s,null,t):Qp(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ld(e.outlet.component,r)):t.canDeactivateChecks.push(new Ld(null,r)):t.canDeactivateChecks.push(new Ld(null,r))}function df(n){return typeof n=="function"}function DB(n){return typeof n=="boolean"}function IB(n){return n&&df(n.canLoad)}function TB(n){return n&&df(n.canActivate)}function MB(n){return n&&df(n.canActivateChild)}function FB(n){return n&&df(n.canDeactivate)}function NB(n){return n&&df(n.canMatch)}function qD(n){return n instanceof wa||n?.name==="EmptyError"}var s6=Symbol("INITIAL_VALUE");function Ud(){return Jr(n=>mp(n.map(e=>e.pipe(Da(1),M4(s6)))).pipe(ln(e=>{for(let t of e)if(t!==!0){if(t===s6)return s6;if(t===!1||PB(t))return t}return!0}),Zr(e=>e!==s6),Da(1)))}function PB(n){return Yl(n)||n instanceof tf}function OB(n,e){return Bi(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?jt(Yt(Re({},t),{guardsResult:!0})):RB(s,i,r,n).pipe(Bi(l=>l&&DB(l)?LB(i,o,n,e):jt(l)),ln(l=>Yt(Re({},t),{guardsResult:l})))})}function RB(n,e,t,i){return si(n).pipe(Bi(r=>UB(r.component,r.route,t,e,i)),Ia(r=>r!==!0,!0))}function LB(n,e,t,i){return si(e).pipe(Aa(r=>ld(jB(r.route.parent,i),kB(r.route,i),VB(n,r.path,t),BB(n,r.route,t))),Ia(r=>r!==!0,!0))}function kB(n,e){return n!==null&&e&&e(new qb(n)),jt(!0)}function jB(n,e){return n!==null&&e&&e(new Vb(n)),jt(!0)}function BB(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return jt(!0);let r=i.map(o=>Sh(()=>{let s=uf(e)??t,l=qd(o,s),d=TB(l)?l.canActivate(e,n):to(s,()=>l(e,n));return $u(d).pipe(Ia())}));return jt(r).pipe(Ud())}function VB(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>CB(s)).filter(s=>s!==null).map(s=>Sh(()=>{let l=s.guards.map(d=>{let m=uf(s.node)??t,g=qd(d,m),y=MB(g)?g.canActivateChild(i,n):to(m,()=>g(i,n));return $u(y).pipe(Ia())});return jt(l).pipe(Ud())}));return jt(o).pipe(Ud())}function UB(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return jt(!0);let s=o.map(l=>{let d=uf(e)??r,m=qd(l,d),g=FB(m)?m.canDeactivate(n,e,t,i):to(d,()=>m(n,e,t,i));return $u(g).pipe(Ia())});return jt(s).pipe(Ud())}function qB(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return jt(!0);let o=r.map(s=>{let l=qd(s,n),d=IB(l)?l.canLoad(e,t):to(n,()=>l(e,t));return $u(d)});return jt(o).pipe(Ud(),$D(i))}function $D(n){return E4(er(e=>{if(typeof e!="boolean")throw y6(n,e)}),ln(e=>e===!0))}function $B(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return jt(!0);let o=r.map(s=>{let l=qd(s,n),d=NB(l)?l.canMatch(e,t):to(n,()=>l(e,t));return $u(d)});return jt(o).pipe(Ud(),$D(i))}var nf=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},rf=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Nd(n){return ud(new nf(n))}function HB(n){return ud(new ze(4e3,!1))}function zB(n){return ud(VD(!1,Do.GuardRejected))}var Qb=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return jt(i);if(r.numberOfChildren>1||!r.children[hn])return HB(`${e.redirectTo}`);r=r.children[hn]}}applyRedirectCommands(e,t,i,r,o){if(typeof t!="string"){let l=t,{queryParams:d,fragment:m,routeConfig:g,url:y,outlet:S,params:_,data:A,title:w}=r,L=to(o,()=>l({params:_,data:A,queryParams:d,fragment:m,routeConfig:g,url:y,outlet:S,title:w}));if(L instanceof Ya)throw new rf(L);t=L}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new rf(s);return s}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new Ya(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let l=o.substring(1);i[r]=t[l]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([l,d])=>{s[l]=this.createSegmentGroup(e,d,i,r)}),new Hn(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new ze(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},Zb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GB(n,e,t,i,r){let o=HD(n,e,t);return o.matched?(i=mB(e,i),$B(i,e,t,r).pipe(ln(s=>s===!0?o:Re({},Zb)))):jt(o)}function HD(n,e,t){if(e.path==="**")return WB(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?Re({},Zb):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||qj)(t,n,e);if(!r)return Re({},Zb);let o={};Object.entries(r.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let s=r.consumed.length>0?Re(Re({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function WB(n){return{matched:!0,parameters:n.length>0?xD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function vD(n,e,t,i){return t.length>0&&QB(n,t,i)?{segmentGroup:new Hn(e,KB(i,new Hn(t,n.children))),slicedSegments:[]}:t.length===0&&ZB(n,t,i)?{segmentGroup:new Hn(n.segments,YB(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Hn(n.segments,n.children),slicedSegments:t}}function YB(n,e,t,i){let r={};for(let o of t)if(x6(n,e,o)&&!i[As(o)]){let s=new Hn([],{});r[As(o)]=s}return Re(Re({},i),r)}function KB(n,e){let t={};t[hn]=e;for(let i of n)if(i.path===""&&As(i)!==hn){let r=new Hn([],{});t[As(i)]=r}return t}function QB(n,e,t){return t.some(i=>x6(n,e,i)&&As(i)!==hn)}function ZB(n,e,t){return t.some(i=>x6(n,e,i))}function x6(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function JB(n,e,t){return e.length===0&&!n.children[t]}var Jb=class{};function XB(n,e,t,i,r,o,s="emptyOnly"){return new Xb(n,e,t,i,r,s,o).recognize()}var eV=31,Xb=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,r,o,s,l){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new Qb(this.urlSerializer,this.urlTree)}noMatchError(e){return new ze(4002,`'${e.segmentGroup}'`)}recognize(){let e=vD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ln(({children:t,rootSnapshot:i})=>{let r=new Ao(i,t),o=new _6("",r),s=aB(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Rd([],Object.freeze({}),Object.freeze(Re({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),hn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,hn,t).pipe(ln(i=>({children:i,rootSnapshot:t})),xu(i=>{if(i instanceof rf)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof nf?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(ln(s=>s instanceof Ao?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return si(o).pipe(Aa(s=>{let l=i.children[s],d=hB(t,s);return this.processSegmentGroup(e,d,l,s,r)}),T4((s,l)=>(s.push(...l),s)),Cu(null),I4(),Bi(s=>{if(s===null)return Nd(i);let l=zD(s);return tV(l),jt(l)}))}processSegment(e,t,i,r,o,s,l){return si(t).pipe(Aa(d=>this.processSegmentAgainstRoute(d._injector??e,t,d,i,r,o,s,l).pipe(xu(m=>{if(m instanceof nf)return jt(null);throw m}))),Ia(d=>!!d),xu(d=>{if(qD(d))return JB(i,r,o)?jt(new Jb):Nd(i);throw d}))}processSegmentAgainstRoute(e,t,i,r,o,s,l,d){return As(i)!==s&&(s===hn||!x6(r,o,i))?Nd(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,d):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,d):Nd(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,l){let{matched:d,parameters:m,consumedSegments:g,positionalParamSegments:y,remainingSegments:S}=HD(t,r,o);if(!d)return Nd(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eV&&(this.allowRedirects=!1));let _=new Rd(o,m,Object.freeze(Re({},this.urlTree.queryParams)),this.urlTree.fragment,_D(r),As(r),r.component??r._loadedComponent??null,r,yD(r)),A=v6(_,l,this.paramsInheritanceStrategy);_.params=Object.freeze(A.params),_.data=Object.freeze(A.data);let w=this.applyRedirects.applyRedirectCommands(g,r.redirectTo,y,_,e);return this.applyRedirects.lineralizeSegments(r,w).pipe(Bi(L=>this.processSegment(e,i,t,L.concat(S),s,!1,l)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let l=GB(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),l.pipe(Jr(d=>d.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Jr(({routes:m})=>{let g=i._loadedInjector??e,{parameters:y,consumedSegments:S,remainingSegments:_}=d,A=new Rd(S,y,Object.freeze(Re({},this.urlTree.queryParams)),this.urlTree.fragment,_D(i),As(i),i.component??i._loadedComponent??null,i,yD(i)),w=v6(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(w.params),A.data=Object.freeze(w.data);let{segmentGroup:L,slicedSegments:F}=vD(t,S,_,m);if(F.length===0&&L.hasChildren())return this.processChildren(g,m,L,A).pipe(ln(W=>new Ao(A,W)));if(m.length===0&&F.length===0)return jt(new Ao(A,[]));let k=As(i)===o;return this.processSegment(g,m,L,F,k?hn:o,!0,A).pipe(ln(W=>new Ao(A,W instanceof Ao?[W]:[])))}))):Nd(t)))}getChildConfig(e,t,i){return t.children?jt({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?jt({routes:t._loadedRoutes,injector:t._loadedInjector}):qB(e,t,i,this.urlSerializer).pipe(Bi(r=>r?this.configLoader.loadChildren(e,t).pipe(er(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):zB(t))):jt({routes:[],injector:e})}};function tV(n){n.sort((e,t)=>e.value.outlet===hn?-1:t.value.outlet===hn?1:e.value.outlet.localeCompare(t.value.outlet))}function nV(n){let e=n.value.routeConfig;return e&&e.path===""}function zD(n){let e=[],t=new Set;for(let i of n){if(!nV(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=zD(i.children);e.push(new Ao(i.value,r))}return e.filter(i=>!t.has(i))}function _D(n){return n.data||{}}function yD(n){return n.resolve||{}}function iV(n,e,t,i,r,o){return Bi(s=>XB(n,e,t,i,s.extractedUrl,r,o).pipe(ln(({state:l,tree:d})=>Yt(Re({},s),{targetSnapshot:l,urlAfterRedirects:d}))))}function rV(n,e){return Bi(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return jt(t);let o=new Set(r.map(d=>d.route)),s=new Set;for(let d of o)if(!s.has(d))for(let m of GD(d))s.add(m);let l=0;return si(s).pipe(Aa(d=>o.has(d)?oV(d,i,n,e):(d.data=v6(d,d.parent,n).resolve,jt(void 0))),er(()=>l++),cd(1),Bi(d=>l===s.size?jt(t):go))})}function GD(n){let e=n.children.map(t=>GD(t)).flat();return[n,...e]}function oV(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!jD(r)&&(o[sf]=r.title),sV(o,n,e,i).pipe(ln(s=>(n._resolvedData=s,n.data=v6(n,n.parent,t).resolve,null)))}function sV(n,e,t,i){let r=Mb(n);if(r.length===0)return jt({});let o={};return si(r).pipe(Bi(s=>aV(n[s],e,t,i).pipe(Ia(),er(l=>{if(l instanceof tf)throw y6(new jd,l);o[s]=l}))),cd(1),D4(o),xu(s=>qD(s)?go:ud(s)))}function aV(n,e,t,i){let r=uf(e)??i,o=qd(n,r),s=o.resolve?o.resolve(e,t):to(r,()=>o(e,t));return $u(s)}function Ib(n){return Jr(e=>{let t=n(e);return t?si(t).pipe(ln(()=>e)):jt(e)})}var WD=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===hn);return i}getResolvedTitleForRoute(t){return t.data[sf]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:()=>Ve(uV),providedIn:"root"})}return n})(),uV=(()=>{class n extends WD{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(Ge(cD))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pf=new mt("",{providedIn:"root",factory:()=>({})}),lV=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ae({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,r){i&1&&M(0,"router-outlet")},dependencies:[cf],encapsulation:2})}return n})();function n3(n){let e=n.children&&n.children.map(n3),t=e?Yt(Re({},n),{children:e}):Re({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==hn&&(t.component=lV),t}var of=new mt(""),i3=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Ve(kg);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return jt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=$u(t.loadComponent()).pipe(ln(YD),er(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Tl(()=>{this.componentLoaders.delete(t)})),r=new ad(i,()=>new Zn).pipe(sd());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return jt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=cV(i,this.compiler,t,this.onLoadEndListener).pipe(Tl(()=>{this.childrenLoaders.delete(i)})),s=new ad(o,()=>new Zn).pipe(sd());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cV(n,e,t,i){return $u(n.loadChildren()).pipe(ln(YD),Bi(r=>r instanceof Sp||Array.isArray(r)?jt(r):si(e.compileModuleAsync(r))),ln(r=>{i&&i(n);let o,s,l=!1;return Array.isArray(r)?(s=r,l=!0):(o=r.create(t).injector,s=o.get(of,[],{optional:!0,self:!0}).flat()),{routes:s.map(n3),injector:o}}))}function dV(n){return n&&typeof n=="object"&&"default"in n}function YD(n){return dV(n)?n.default:n}var r3=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:()=>Ve(pV),providedIn:"root"})}return n})(),pV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KD=new mt(""),QD=new mt("");function fV(n,e,t){let i=n.get(QD),r=n.get(Ei);return n.get(Nn).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(m=>setTimeout(m));let o,s=new Promise(m=>{o=m}),l=r.startViewTransition(()=>(o(),mV(n))),{onViewTransitionCreated:d}=i;return d&&to(n,()=>d({transition:l,from:e,to:t})),s})}function mV(n){return new Promise(e=>{wy({read:()=>setTimeout(e)},{injector:n})})}var ZD=new mt(""),o3=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Zn;transitionAbortSubject=new Zn;configLoader=Ve(i3);environmentInjector=Ve(Lr);urlSerializer=Ve(af);rootContexts=Ve(lf);location=Ve(Fd);inputBindingEnabled=Ve(S6,{optional:!0})!==null;titleStrategy=Ve(WD);options=Ve(pf,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Ve(r3);createViewTransition=Ve(KD,{optional:!0});navigationErrorHandler=Ve(ZD,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>jt(void 0);rootComponentType=null;constructor(){let t=r=>this.events.next(new jb(r)),i=r=>this.events.next(new Bb(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(Yt(Re(Re({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,r){return this.transitions=new Ki({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Kp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zr(o=>o.id!==0),ln(o=>Yt(Re({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Jr(o=>{let s=!1,l=!1;return jt(o).pipe(Jr(d=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Do.SupersededByNewNavigation),go;this.currentTransition=o,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,targetBrowserUrl:typeof d.extras.browserUrl=="string"?this.urlSerializer.parse(d.extras.browserUrl):d.extras.browserUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Yt(Re({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=d.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!m&&g!=="reload"){let y="";return this.events.next(new qu(d.id,this.urlSerializer.serialize(d.rawUrl),y,p6.IgnoredSameUrlNavigation)),d.resolve(!1),go}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return jt(d).pipe(Jr(y=>{let S=this.transitions?.getValue();return this.events.next(new Bd(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),S!==this.transitions?.getValue()?go:Promise.resolve(y)}),iV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),er(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Yt(Re({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let S=new f6(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(S)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:y,extractedUrl:S,source:_,restoredState:A,extras:w}=d,L=new Bd(y,this.urlSerializer.serialize(S),_,A);this.events.next(L);let F=LD(this.rootComponentType).snapshot;return this.currentTransition=o=Yt(Re({},d),{targetSnapshot:F,urlAfterRedirects:S,extras:Yt(Re({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=S,jt(o)}else{let y="";return this.events.next(new qu(d.id,this.urlSerializer.serialize(d.extractedUrl),y,p6.IgnoredByUrlHandlingStrategy)),d.resolve(!1),go}}),er(d=>{let m=new Ob(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),ln(d=>(this.currentTransition=o=Yt(Re({},d),{guards:xB(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),o)),OB(this.environmentInjector,d=>this.events.next(d)),er(d=>{if(o.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw y6(this.urlSerializer,d.guardsResult);let m=new Rb(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),Zr(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",Do.GuardRejected),!1)),Ib(d=>{if(d.guards.canActivateChecks.length)return jt(d).pipe(er(m=>{let g=new Lb(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}),Jr(m=>{let g=!1;return jt(m).pipe(rV(this.paramsInheritanceStrategy,this.environmentInjector),er({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(m,"",Do.NoDataFromResolver)}}))}),er(m=>{let g=new kb(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}))}),Ib(d=>{let m=g=>{let y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe(er(S=>{g.component=S}),ln(()=>{})));for(let S of g.children)y.push(...m(S));return y};return mp(m(d.targetSnapshot.root)).pipe(Cu(null),Da(1))}),Ib(()=>this.afterPreactivation()),Jr(()=>{let{currentSnapshot:d,targetSnapshot:m}=o,g=this.createViewTransition?.(this.environmentInjector,d.root,m.root);return g?si(g).pipe(ln(()=>o)):jt(o)}),ln(d=>{let m=_B(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=o=Yt(Re({},d),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,o}),er(()=>{this.events.next(new Xp)}),SB(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Da(1),er({next:d=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ds(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{s=!0}}),F4(this.transitionAbortSubject.pipe(er(d=>{throw d}))),Tl(()=>{!s&&!l&&this.cancelNavigationTransition(o,"",Do.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xu(d=>{if(l=!0,UD(d))this.events.next(new Wa(o.id,this.urlSerializer.serialize(o.extractedUrl),d.message,d.cancellationCode)),EB(d)?this.events.next(new Vd(d.url,d.navigationBehaviorOptions)):o.resolve(!1);else{let m=new Jp(o.id,this.urlSerializer.serialize(o.extractedUrl),d,o.targetSnapshot??void 0);try{let g=to(this.environmentInjector,()=>this.navigationErrorHandler?.(m));if(g instanceof tf){let{message:y,cancellationCode:S}=y6(this.urlSerializer,g);this.events.next(new Wa(o.id,this.urlSerializer.serialize(o.extractedUrl),y,S)),this.events.next(new Vd(g.redirectTo,g.navigationBehaviorOptions))}else throw this.events.next(m),d}catch(g){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(g)}}return go}))}))}cancelNavigationTransition(t,i,r){let o=new Wa(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hV(n){return n!==Kp}var gV=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:()=>Ve(vV),providedIn:"root"})}return n})(),e3=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},vV=(()=>{class n extends e3{static \u0275fac=(()=>{let t;return function(r){return(t||(t=$o(n)))(r||n)}})();static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JD=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:()=>Ve(_V),providedIn:"root"})}return n})(),_V=(()=>{class n extends JD{location=Ve(Fd);urlSerializer=Ve(af);options=Ve(pf,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=Ve(r3);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ya;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=LD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Bd)this.stateMemento=this.createStateMemento();else if(t instanceof qu)this.rawUrlTree=i.initialUrl;else if(t instanceof f6){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else t instanceof Xp?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof Wa&&(t.code===Do.GuardRejected||t.code===Do.NoDataFromResolver)?this.restoreHistory(i):t instanceof Jp?this.restoreHistory(i,!0):t instanceof Ds&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let r=t instanceof Ya?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=Re(Re({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=Re(Re({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$o(n)))(r||n)}})();static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Wp||{});function XD(n,e){n.events.pipe(Zr(t=>t instanceof Ds||t instanceof Wa||t instanceof Jp||t instanceof qu),ln(t=>t instanceof Ds||t instanceof qu?Wp.COMPLETE:(t instanceof Wa?t.code===Do.Redirect||t.code===Do.SupersededByNewNavigation:!1)?Wp.REDIRECTING:Wp.FAILED),Zr(t=>t!==Wp.REDIRECTING),Da(1)).subscribe(()=>{e()})}var yV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Me=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Ve(Fg);stateManager=Ve(JD);options=Ve(pf,{optional:!0})||{};pendingTasks=Ve(ku);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Ve(o3);urlSerializer=Ve(af);location=Ve(Fd);urlHandlingStrategy=Ve(r3);_events=new Zn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Ve(gV);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Ve(of,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Ve(S6,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ki;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Wa&&i.code!==Do.Redirect&&i.code!==Do.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ds)this.navigated=!0;else if(i instanceof Vd){let s=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),d=Re({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||hV(r.source)},s);this.scheduleNavigation(l,Kp,null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}SV(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Kp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let d=Re({},r);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let l=this.parseUrl(t);this.scheduleNavigation(l,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(n3),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:l,preserveFragment:d}=i,m=d?this.currentUrlTree.fragment:s,g=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":g=Re(Re({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let y;try{let S=r?r.snapshot:this.routerState.snapshot.root;y=ND(S)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),y=this.currentUrlTree.root}return PD(y,t,g,m??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Yl(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Kp,null,i)}navigate(t,i={skipLocationChange:!1}){return EV(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=Re({},yV):i===!1?r=Re({},bV):r=i,Yl(t))return pD(this.currentUrlTree,t,r);let o=this.parseUrl(t);return pD(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let l,d,m;s?(l=s.resolve,d=s.reject,m=s.promise):m=new Promise((y,S)=>{l=y,d=S});let g=this.pendingTasks.add();return XD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:l,reject:d,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(y=>Promise.reject(y))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function EV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ze(4008,!1)}function SV(n){return!(n instanceof Xp)&&!(n instanceof Vd)}var Ct=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Zn;constructor(t,i,r,o,s,l){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=l;let d=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=t.events.subscribe(m=>{m instanceof Ds&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Yl(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let l=this.urlTree;if(l===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:cw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Yl(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(O(Me),O(ft),gy("tabindex"),O(Cs),O(Sr),O(Ga))};static \u0275dir=Rn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&Z("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Go("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Bu],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Bu],replaceUrl:[2,"replaceUrl","replaceUrl",Bu],routerLink:"routerLink"},features:[Hy,xs]})}return n})(),qi=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Vi;constructor(t,i,r,o,s){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(l=>{l instanceof Ds&&this.update()})}ngAfterContentInit(){jt(this.links.changes,jt(null)).pipe(Su()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=si(t).pipe(Su()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=xV(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(i){return new(i||n)(O(Me),O(Sr),O(Cs),O(Wo),O(Ct,8))};static \u0275dir=Rn({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&cA(o,Ct,5),i&2){let s;dA(s=pA())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[xs]})}return n})();function xV(n){return!!n.paths}var E6=class{};var CV=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Zr(t=>t instanceof Ds),Aa(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Mg(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,l=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(l,o.children??o._loadedRoutes))}return si(r).pipe(Su())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=jt(null);let o=r.pipe(Bi(s=>s===null?jt(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return si([o,s]).pipe(Su())}else return o})}static \u0275fac=function(i){return new(i||n)(Ge(Me),Ge(kg),Ge(Lr),Ge(E6),Ge(i3))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eI=new mt(""),wV=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Bd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ds?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof qu&&t.code===p6.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof m6&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new m6(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){xw()};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})();function tI(n,...e){return Ou([{provide:of,multi:!0,useValue:n},[],{provide:ft,useFactory:nI,deps:[Me]},{provide:Fp,multi:!0,useFactory:iI},e.map(t=>t.\u0275providers)])}function nI(n){return n.routerState.root}function ff(n,e){return{\u0275kind:n,\u0275providers:e}}function iI(){let n=Ve(kr);return e=>{let t=n.get(bo);if(e!==t.components[0])return;let i=n.get(Me),r=n.get(rI);n.get(s3)===1&&i.initialNavigation(),n.get(oI,null,vn.Optional)?.setUpPreloading(),n.get(eI,null,vn.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var rI=new mt("",{factory:()=>new Zn}),s3=new mt("",{providedIn:"root",factory:()=>1});function AV(){return ff(2,[{provide:s3,useValue:0},{provide:Og,multi:!0,deps:[kr],useFactory:e=>{let t=e.get(FA,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(Me),o=e.get(rI);XD(r,()=>{i(!0)}),e.get(o3).afterPreactivation=()=>(i(!0),o.closed?jt(void 0):o),r.initialNavigation()}))}}])}function DV(){return ff(3,[{provide:Og,multi:!0,useFactory:()=>{let e=Ve(Me);return()=>{e.setUpLocationChangeListener()}}},{provide:s3,useValue:2}])}var oI=new mt("");function IV(n){return ff(0,[{provide:oI,useExisting:CV},{provide:E6,useExisting:n}])}function TV(){return ff(8,[gD,{provide:S6,useExisting:gD}])}function MV(n){let e=[{provide:KD,useValue:fV},{provide:QD,useValue:Re({skipNextTransition:!!n?.skipInitialTransition},n)}];return ff(9,e)}var bD=new mt("ROUTER_FORROOT_GUARD"),FV=[Fd,{provide:af,useClass:jd},Me,lf,{provide:ft,useFactory:nI,deps:[Me]},i3,[]],wt=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[FV,[],{provide:of,multi:!0,useValue:t},{provide:bD,useFactory:RV,deps:[[Me,new cg,new X_]]},i?.errorHandler?{provide:ZD,useValue:i.errorHandler}:[],{provide:pf,useValue:i||{}},i?.useHash?PV():OV(),NV(),i?.preloadingStrategy?IV(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?LV(i):[],i?.bindToComponentInputs?TV().\u0275providers:[],i?.enableViewTransitions?MV().\u0275providers:[],kV()]}}static forChild(t){return{ngModule:n,providers:[{provide:of,multi:!0,useValue:t}]}}static \u0275fac=function(i){return new(i||n)(Ge(bD,8))};static \u0275mod=xr({type:n});static \u0275inj=Er({})}return n})();function NV(){return{provide:eI,useFactory:()=>{let n=Ve(UA),e=Ve(Nn),t=Ve(pf),i=Ve(o3),r=Ve(af);return t.scrollOffset&&n.setOffset(t.scrollOffset),new wV(r,i,n,e,t)}}}function PV(){return{provide:Ga,useClass:PA}}function OV(){return{provide:Ga,useClass:ub}}function RV(n){return"guarded"}function LV(n){return[n.initialNavigation==="disabled"?DV().\u0275providers:[],n.initialNavigation==="enabledBlocking"?AV().\u0275providers:[]]}var ED=new mt("");function kV(){return[{provide:ED,useFactory:iI},{provide:Fp,multi:!0,useExisting:ED}]}var cn=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(cn||{}),ia="*";function sI(n,e){return{type:cn.Trigger,name:n,definitions:e,options:{}}}function a3(n,e=null){return{type:cn.Animate,styles:e,timings:n}}function aI(n,e=null){return{type:cn.Sequence,steps:n,options:e}}function Kl(n){return{type:cn.Style,styles:n,offset:null}}function C6(n,e,t){return{type:cn.State,name:n,styles:e,options:t}}function u3(n,e,t=null){return{type:cn.Transition,expr:n,animation:e,options:t}}var Hu=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},mf=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,l)=>Math.max(s,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},w6="!";function uI(n){return new ze(3e3,!1)}function jV(){return new ze(3100,!1)}function BV(){return new ze(3101,!1)}function VV(n){return new ze(3001,!1)}function UV(n){return new ze(3003,!1)}function qV(n){return new ze(3004,!1)}function $V(n,e){return new ze(3005,!1)}function HV(){return new ze(3006,!1)}function zV(){return new ze(3007,!1)}function GV(n,e){return new ze(3008,!1)}function WV(n){return new ze(3002,!1)}function YV(n,e,t,i,r){return new ze(3010,!1)}function KV(){return new ze(3011,!1)}function QV(){return new ze(3012,!1)}function ZV(){return new ze(3200,!1)}function JV(){return new ze(3202,!1)}function XV(){return new ze(3013,!1)}function eU(n){return new ze(3014,!1)}function tU(n){return new ze(3015,!1)}function nU(n){return new ze(3016,!1)}function iU(n,e){return new ze(3404,!1)}function rU(n){return new ze(3502,!1)}function oU(n){return new ze(3503,!1)}function sU(){return new ze(3300,!1)}function aU(n){return new ze(3504,!1)}function uU(n){return new ze(3301,!1)}function lU(n,e){return new ze(3302,!1)}function cU(n){return new ze(3303,!1)}function dU(n,e){return new ze(3400,!1)}function pU(n){return new ze(3401,!1)}function fU(n){return new ze(3402,!1)}function mU(n,e){return new ze(3505,!1)}function zu(n){switch(n.length){case 0:return new Hu;case 1:return n[0];default:return new mf(n)}}function SI(n,e,t=new Map,i=new Map){let r=[],o=[],s=-1,l=null;if(e.forEach(d=>{let m=d.get("offset"),g=m==s,y=g&&l||new Map;d.forEach((S,_)=>{let A=_,w=S;if(_!=="offset")switch(A=n.normalizePropertyName(A,r),w){case w6:w=t.get(_);break;case ia:w=i.get(_);break;default:w=n.normalizeStyleValue(_,A,w,r);break}y.set(A,w)}),g||o.push(y),l=y,s=m}),r.length)throw rU(r);return o}function M3(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&l3(t,"start",n)));break;case"done":n.onDone(()=>i(t&&l3(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&l3(t,"destroy",n)));break}}function l3(n,e,t){let i=t.totalTime,r=!!t.disabled,o=F3(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),s=n._data;return s!=null&&(o._data=s),o}function F3(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function To(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function lI(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var hU=typeof document>"u"?null:document.documentElement;function N3(n){let e=n.parentNode||n.host||null;return e===hU?null:e}function gU(n){return n.substring(1,6)=="ebkit"}var Ql=null,cI=!1;function vU(n){Ql||(Ql=_U()||{},cI=Ql.style?"WebkitAppearance"in Ql.style:!1);let e=!0;return Ql.style&&!gU(n)&&(e=n in Ql.style,!e&&cI&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ql.style)),e}function _U(){return typeof document<"u"?document.body:null}function xI(n,e){for(;e;){if(e===n)return!0;e=N3(e)}return!1}function CI(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var P3=(()=>{class n{validateStyleProperty(t){return vU(t)}containsElement(t,i){return xI(t,i)}getParentElement(t){return N3(t)}query(t,i,r){return CI(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,l=[],d){return new Hu(r,o)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})(),Xl=class{static NOOP=new P3},ec=class{};var yU=1e3,wI="{{",bU="}}",AI="ng-enter",h3="ng-leave",A6="ng-trigger",F6=".ng-trigger",dI="ng-animating",g3=".ng-animating";function Ka(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:v3(parseFloat(e[1]),e[2])}function v3(n,e){switch(e){case"s":return n*yU;default:return n}}function N6(n,e,t){return n.hasOwnProperty("duration")?n:EU(n,e,t)}function EU(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof n=="string"){let l=n.match(i);if(l===null)return e.push(uI(n)),{duration:0,delay:0,easing:""};r=v3(parseFloat(l[1]),l[2]);let d=l[3];d!=null&&(o=v3(parseFloat(d),l[4]));let m=l[5];m&&(s=m)}else r=n;if(!t){let l=!1,d=e.length;r<0&&(e.push(jV()),l=!0),o<0&&(e.push(BV()),l=!0),l&&e.splice(d,0,uI(n))}return{duration:r,delay:o,easing:s}}function SU(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function ra(n,e,t){e.forEach((i,r)=>{let o=O3(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Jl(n,e){e.forEach((t,i)=>{let r=O3(i);n.style[r]=""})}function hf(n){return Array.isArray(n)?n.length==1?n[0]:aI(n):n}function xU(n,e,t){let i=e.params||{},r=DI(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(VV(o))})}var _3=new RegExp(`${wI}\\s*(.+?)\\s*${bU}`,"g");function DI(n){let e=[];if(typeof n=="string"){let t;for(;t=_3.exec(n);)e.push(t[1]);_3.lastIndex=0}return e}function vf(n,e,t){let i=`${n}`,r=i.replace(_3,(o,s)=>{let l=e[s];return l==null&&(t.push(UV(s)),l=""),l.toString()});return r==i?n:r}var CU=/-+([a-z0-9])/g;function O3(n){return n.replace(CU,(...e)=>e[1].toUpperCase())}function wU(n,e){return n===0||e===0}function AU(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(l=>s.set(l,R3(n,l)))}}return e}function Io(n,e,t){switch(e.type){case cn.Trigger:return n.visitTrigger(e,t);case cn.State:return n.visitState(e,t);case cn.Transition:return n.visitTransition(e,t);case cn.Sequence:return n.visitSequence(e,t);case cn.Group:return n.visitGroup(e,t);case cn.Animate:return n.visitAnimate(e,t);case cn.Keyframes:return n.visitKeyframes(e,t);case cn.Style:return n.visitStyle(e,t);case cn.Reference:return n.visitReference(e,t);case cn.AnimateChild:return n.visitAnimateChild(e,t);case cn.AnimateRef:return n.visitAnimateRef(e,t);case cn.Query:return n.visitQuery(e,t);case cn.Stagger:return n.visitStagger(e,t);default:throw qV(e.type)}}function R3(n,e){return window.getComputedStyle(n)[e]}var DU=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),P6=class extends ec{normalizePropertyName(e,t){return O3(e)}normalizeStyleValue(e,t,i,r){let o="",s=i.toString().trim();if(DU.has(t)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&r.push($V(e,i))}return s+o}};var O6="*";function IU(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>TU(i,t,e)):t.push(n),t}function TU(n,e,t){if(n[0]==":"){let d=MU(n,t);if(typeof d=="function"){e.push(d);return}n=d}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(tU(n)),e;let r=i[1],o=i[2],s=i[3];e.push(pI(r,s));let l=r==O6&&s==O6;o[0]=="<"&&!l&&e.push(pI(s,r))}function MU(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(nU(n)),"* => *"}}var D6=new Set(["true","1"]),I6=new Set(["false","0"]);function pI(n,e){let t=D6.has(n)||I6.has(n),i=D6.has(e)||I6.has(e);return(r,o)=>{let s=n==O6||n==r,l=e==O6||e==o;return!s&&t&&typeof r=="boolean"&&(s=r?D6.has(n):I6.has(n)),!l&&i&&typeof o=="boolean"&&(l=o?D6.has(e):I6.has(e)),s&&l}}var II=":self",FU=new RegExp(`s*${II}s*,?`,"g");function TI(n,e,t,i){return new y3(n).build(e,t,i)}var fI="",y3=class{_driver;constructor(e){this._driver=e}build(e,t,i){let r=new b3(t);return this._resetContextStyleTimingState(r),Io(this,hf(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=fI,e.collectedStyles=new Map,e.collectedStyles.set(fI,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(HV()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),l.type==cn.State){let d=l,m=d.name;m.toString().split(/\s*,\s*/).forEach(g=>{d.name=g,o.push(this.visitState(d,t))}),d.name=m}else if(l.type==cn.Transition){let d=this.visitTransition(l,t);i+=d.queryCount,r+=d.depCount,s.push(d)}else t.errors.push(zV())}),{type:cn.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(d=>{DI(d).forEach(m=>{s.hasOwnProperty(m)||o.add(m)})})}),o.size&&t.errors.push(GV(e.name,[...o.values()]))}return{type:cn.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=Io(this,hf(e.animation),t),r=IU(e.expr,t.errors);return{type:cn.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Zl(e.options)}}visitSequence(e,t){return{type:cn.Sequence,steps:e.steps.map(i=>Io(this,i,t)),options:Zl(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,o=e.steps.map(s=>{t.currentTime=i;let l=Io(this,s,t);return r=Math.max(r,t.currentTime),l});return t.currentTime=r,{type:cn.Group,steps:o,options:Zl(e.options)}}visitAnimate(e,t){let i=RU(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Kl({});if(o.type==cn.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,l=!1;if(!s){l=!0;let m={};i.easing&&(m.easing=i.easing),s=Kl(m)}t.currentTime+=i.duration+i.delay;let d=this.visitStyle(s,t);d.isEmptyStep=l,r=d}return t.currentAnimateTimings=null,{type:cn.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of r)typeof l=="string"?l===ia?i.push(l):t.errors.push(WV(l)):i.push(new Map(Object.entries(l)));let o=!1,s=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(s=l.get("easing"),l.delete("easing")),!o)){for(let d of l.values())if(d.toString().indexOf(wI)>=0){o=!0;break}}}),{type:cn.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((l,d)=>{let m=t.collectedStyles.get(t.currentQuerySelector),g=m.get(d),y=!0;g&&(o!=r&&o>=g.startTime&&r<=g.endTime&&(t.errors.push(YV(d,g.startTime,g.endTime,o,r)),y=!1),o=g.startTime),y&&m.set(d,{startTime:o,endTime:r}),t.options&&xU(l,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:cn.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(KV()),i;let r=1,o=0,s=[],l=!1,d=!1,m=0,g=e.steps.map(F=>{let k=this._makeStyleAst(F,t),W=k.offset!=null?k.offset:OU(k.styles),te=0;return W!=null&&(o++,te=k.offset=W),d=d||te<0||te>1,l=l||te<m,m=te,s.push(te),k});d&&t.errors.push(QV()),l&&t.errors.push(ZV());let y=e.steps.length,S=0;o>0&&o<y?t.errors.push(JV()):o==0&&(S=r/(y-1));let _=y-1,A=t.currentTime,w=t.currentAnimateTimings,L=w.duration;return g.forEach((F,k)=>{let W=S>0?k==_?1:S*k:s[k],te=W*L;t.currentTime=A+w.delay+te,w.duration=te,this._validateStyleAst(F,t),F.offset=W,i.styles.push(F)}),i}visitReference(e,t){return{type:cn.Reference,animation:Io(this,hf(e.animation),t),options:Zl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:cn.AnimateChild,options:Zl(e.options)}}visitAnimateRef(e,t){return{type:cn.AnimateRef,animation:this.visitReference(e.animation,t),options:Zl(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=NU(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,To(t.collectedStyles,t.currentQuerySelector,new Map);let l=Io(this,hf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:cn.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:l,originalSelector:e.selector,options:Zl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(XV());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:N6(e.timings,t.errors,!0);return{type:cn.Stagger,animation:Io(this,hf(e.animation),t),timings:i,options:null}}};function NU(n){let e=!!n.split(/\s*,\s*/).find(t=>t==II);return e&&(n=n.replace(FU,"")),n=n.replace(/@\*/g,F6).replace(/@\w+/g,t=>F6+"-"+t.slice(1)).replace(/:animating/g,g3),[n,e]}function PU(n){return n?Re({},n):null}var b3=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function OU(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function RU(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=N6(n,e).duration;return c3(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=c3(0,0,"");return o.dynamic=!0,o.strValue=t,o}let r=N6(t,e);return c3(r.duration,r.delay,r.easing)}function Zl(n){return n?(n=Re({},n),n.params&&(n.params=PU(n.params))):n={},n}function c3(n,e,t){return{duration:n,delay:e,easing:t}}function L3(n,e,t,i,r,o,s=null,l=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:l}}var _f=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},LU=1,kU=":enter",jU=new RegExp(kU,"g"),BU=":leave",VU=new RegExp(BU,"g");function MI(n,e,t,i,r,o=new Map,s=new Map,l,d,m=[]){return new E3().buildKeyframes(n,e,t,i,r,o,s,l,d,m)}var E3=class{buildKeyframes(e,t,i,r,o,s,l,d,m,g=[]){m=m||new _f;let y=new S3(e,t,m,r,o,g,[]);y.options=d;let S=d.delay?Ka(d.delay):0;y.currentTimeline.delayNextStep(S),y.currentTimeline.setStyles([s],null,y.errors,d),Io(this,i,y);let _=y.timelines.filter(A=>A.containsAnimation());if(_.length&&l.size){let A;for(let w=_.length-1;w>=0;w--){let L=_[w];if(L.element===t){A=L;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([l],null,y.errors,d)}return _.length?_.map(A=>A.buildKeyframes()):[L3(t,[],[],[],0,S,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:Ka(vf(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime,s=i.duration!=null?Ka(i.duration):null,l=i.delay!=null?Ka(i.delay):null;return s!==0&&e.forEach(d=>{let m=t.appendInstructionToTimeline(d,s,l);o=Math.max(o,m.duration+m.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Io(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==cn.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=R6);let s=Ka(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Io(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Ka(e.options.delay):0;e.steps.forEach(s=>{let l=t.createSubContext(e.options);o&&l.delayNextStep(o),Io(this,s,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?vf(i,t.params,t.errors):i;return N6(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==cn.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,l=t.createSubContext().currentTimeline;l.easing=i.easing,e.styles.forEach(d=>{let m=d.offset||0;l.forwardTime(m*o),l.setStyles(d.styles,d.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Ka(r.delay):0;o&&(t.previousNode.type===cn.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=R6);let s=i,l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=l.length;let d=null;l.forEach((m,g)=>{t.currentQueryIndex=g;let y=t.createSubContext(e.options,m);o&&y.delayNextStep(o),m===t.element&&(d=y.currentTimeline),Io(this,e.animation,y),y.currentTimeline.applyStylesToKeyframe();let S=y.currentTimeline.currentTime;s=Math.max(s,S)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),d&&(t.currentTimeline.mergeTimelineCollectedStyles(d),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),l=s*(t.currentQueryTotal-1),d=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":d=l-d;break;case"full":d=i.currentStaggerTime;break}let g=t.currentTimeline;d&&g.delayNextStep(d);let y=g.currentTime;Io(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-y+(r.startTime-i.currentTimeline.startTime)}},R6={},S3=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=R6;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,i,r,o,s,l,d){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=l,this.currentTimeline=d||new L6(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Ka(i.duration)),i.delay!=null&&(r.delay=Ka(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(l=>{(!t||!s.hasOwnProperty(l))&&(s[l]=vf(o[l],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,o=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=R6,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new x3(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let l=[];if(r&&l.push(this.element),e.length>0){e=e.replace(jU,"."+this._enterClassName),e=e.replace(VU,"."+this._leaveClassName);let d=i!=1,m=this._driver.query(this.element,e,d);i!==0&&(m=i<0?m.slice(m.length+i,m.length):m.slice(0,i)),l.push(...m)}return!o&&l.length==0&&s.push(eU(t)),l}},L6=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=LU,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ia),this._currentKeyframe.set(t,ia);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let o=r&&r.params||{},s=UU(e,this._globalTimelineStyles);for(let[l,d]of s){let m=vf(d,o,i);this._pendingStyles.set(l,m),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??ia),this._updateStyle(l,m)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((l,d)=>{let m=new Map([...this._backFill,...l]);m.forEach((g,y)=>{g===w6?e.add(y):g===ia&&t.add(y)}),i||m.set("offset",d/this.duration),r.push(m)});let o=[...e.values()],s=[...t.values()];if(i){let l=r[0],d=new Map(l);l.set("offset",0),d.set("offset",1),r=[l,d]}return L3(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},x3=class extends L6{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,i,r,o,s,l=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=i+t,l=t/s,d=new Map(e[0]);d.set("offset",0),o.push(d);let m=new Map(e[0]);m.set("offset",mI(l)),o.push(m);let g=e.length-1;for(let y=1;y<=g;y++){let S=new Map(e[y]),_=S.get("offset"),A=t+_*i;S.set("offset",mI(A/s)),o.push(S)}i=s,t=0,r="",e=o}return L3(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function mI(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function UU(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let o of i)t.set(o,ia)}else for(let[o,s]of r)t.set(o,s)}),t}function hI(n,e,t,i,r,o,s,l,d,m,g,y,S){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:l,queriedElements:d,preStyleProps:m,postStyleProps:g,totalTime:y,errors:S}}var d3={},k6=class{_triggerName;ast;_stateStyles;constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return qU(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,l,d,m,g){let y=[],S=this.ast.options&&this.ast.options.params||d3,_=l&&l.params||d3,A=this.buildStyles(i,_,y),w=d&&d.params||d3,L=this.buildStyles(r,w,y),F=new Set,k=new Map,W=new Map,te=r==="void",le={params:FI(w,S),delay:this.ast.options?.delay},ge=g?[]:MI(e,t,this.ast.animation,o,s,A,L,le,m,y),re=0;return ge.forEach(Y=>{re=Math.max(Y.duration+Y.delay,re)}),y.length?hI(t,this._triggerName,i,r,te,A,L,[],[],k,W,re,y):(ge.forEach(Y=>{let me=Y.element,xe=To(k,me,new Set);Y.preStyleProps.forEach(U=>xe.add(U));let V=To(W,me,new Set);Y.postStyleProps.forEach(U=>V.add(U)),me!==t&&F.add(me)}),hI(t,this._triggerName,i,r,te,A,L,ge,[...F.values()],k,W,re))}};function qU(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}function FI(n,e){let t=Re({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var C3=class{styles;defaultParams;normalizer;constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=FI(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,l)=>{s&&(s=vf(s,r,t));let d=this.normalizer.normalizePropertyName(l,t);s=this.normalizer.normalizeStyleValue(l,d,s,t),i.set(l,s)})}),i}};function $U(n,e,t){return new w3(n,e,t)}var w3=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,t.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new C3(r.style,o,i))}),gI(this.states,"true","1"),gI(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new k6(e,r,this.states))}),this.fallbackTransition=HU(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function HU(n,e,t){let i=[(s,l)=>!0],r={type:cn.Sequence,steps:[],options:null},o={type:cn.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new k6(n,o,e)}function gI(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var zU=new _f,A3=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i}register(e,t){let i=[],r=[],o=TI(this._driver,t,i,r);if(i.length)throw oU(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,i){let r=e.element,o=SI(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],o=this._animations.get(e),s,l=new Map;if(o?(s=MI(this._driver,t,o,AI,h3,new Map,new Map,i,zU,r),s.forEach(g=>{let y=To(l,g.element,new Map);g.postStyleProps.forEach(S=>y.set(S,null))})):(r.push(sU()),s=[]),r.length)throw aU(r);l.forEach((g,y)=>{g.forEach((S,_)=>{g.set(_,this._driver.computeStyle(y,_,ia))})});let d=s.map(g=>{let y=l.get(g.element);return this._buildPlayer(g,new Map,y)}),m=zu(d);return this._playersById.set(e,m),m.onDestroy(()=>this.destroy(e)),this.players.push(m),m}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw uU(e);return t}listen(e,t,i,r){let o=F3(t,"","","");return M3(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},vI="ng-animate-queued",GU=".ng-animate-queued",p3="ng-animate-disabled",WU=".ng-animate-disabled",YU="ng-star-inserted",KU=".ng-star-inserted",QU=[],NI={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ZU={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Is="__ng_removed",yf=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=XU(r),i){let o=e,{value:s}=o,l=o4(o,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},gf="void",f3=new yf(gf),D3=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this._hostClassName="ng-tns-"+e,Qo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw lU(i,t);if(i==null||i.length==0)throw cU(t);if(!eq(i))throw dU(i,t);let o=To(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);let l=To(this._engine.statesByElement,e,new Map);return l.has(t)||(Qo(e,A6),Qo(e,A6+"-"+t),l.set(t,f3)),()=>{this._engine.afterFlush(()=>{let d=o.indexOf(s);d>=0&&o.splice(d,1),this._triggers.has(t)||l.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw pU(e);return t}trigger(e,t,i,r=!0){let o=this._getTrigger(t),s=new bf(this.id,t,e),l=this._engine.statesByElement.get(e);l||(Qo(e,A6),Qo(e,A6+"-"+t),this._engine.statesByElement.set(e,l=new Map));let d=l.get(t),m=new yf(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&m.absorbOptions(d.options),l.set(t,m),d||(d=f3),!(m.value===gf)&&d.value===m.value){if(!iq(d.params,m.params)){let w=[],L=o.matchStyles(d.value,d.params,w),F=o.matchStyles(m.value,m.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Jl(e,L),ra(e,F)})}return}let S=To(this._engine.playersByElement,e,[]);S.forEach(w=>{w.namespaceId==this.id&&w.triggerName==t&&w.queued&&w.destroy()});let _=o.matchTransition(d.value,m.value,e,m.params),A=!1;if(!_){if(!r)return;_=o.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:_,fromState:d,toState:m,player:s,isFallbackTransition:A}),A||(Qo(e,vI),s.onStart(()=>{$d(e,vI)})),s.onDone(()=>{let w=this.players.indexOf(s);w>=0&&this.players.splice(w,1);let L=this._engine.playersByElement.get(e);if(L){let F=L.indexOf(s);F>=0&&L.splice(F,1)}}),this.players.push(s),S.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,F6,!0);i.forEach(r=>{if(r[Is])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let l=[];if(o.forEach((d,m)=>{if(s.set(m,d.value),this._triggers.has(m)){let g=this.trigger(e,m,gf,r);g&&l.push(g)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&zu(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let d=this._triggers.get(s).fallbackTransition,m=i.get(s)||f3,g=new yf(gf),y=new bf(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:d,fromState:m,toState:g,player:y,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Is];(!o||o===NI)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Qo(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(l=>{if(l.name==i.triggerName){let d=F3(o,i.triggerName,i.fromState.value,i.toState.value);d._data=e,M3(i.player,l.phase,d,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},I3=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new D3(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,l=this.driver.getParentElement(t);for(;l;){let d=r.get(l);if(d){let m=i.indexOf(d);i.splice(m+1,0,e),s=!0;break}l=this.driver.getParentElement(l)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}}return t}trigger(e,t,i,r){if(T6(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!T6(t))return;let o=t[Is];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Qo(e,p3)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),$d(e,p3))}removeNode(e,t,i){if(T6(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Is]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return T6(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,F6,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,g3,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return zu(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Is];if(t&&t.setForRemoval){if(e[Is]=NI,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(p3)&&this.markElementAsDisabled(e,!1),this.driver.query(e,WU,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Qo(r,YU)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?zu(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw fU(e)}_flushAnimations(e,t){let i=new _f,r=[],o=new Map,s=[],l=new Map,d=new Map,m=new Map,g=new Set;this.disabledNodes.forEach(X=>{g.add(X);let ue=this.driver.query(X,GU,!0);for(let ie=0;ie<ue.length;ie++)g.add(ue[ie])});let y=this.bodyNode,S=Array.from(this.statesByElement.keys()),_=bI(S,this.collectedEnterElements),A=new Map,w=0;_.forEach((X,ue)=>{let ie=AI+w++;A.set(ue,ie),X.forEach(ve=>Qo(ve,ie))});let L=[],F=new Set,k=new Set;for(let X=0;X<this.collectedLeaveElements.length;X++){let ue=this.collectedLeaveElements[X],ie=ue[Is];ie&&ie.setForRemoval&&(L.push(ue),F.add(ue),ie.hasAnimation?this.driver.query(ue,KU,!0).forEach(ve=>F.add(ve)):k.add(ue))}let W=new Map,te=bI(S,Array.from(F));te.forEach((X,ue)=>{let ie=h3+w++;W.set(ue,ie),X.forEach(ve=>Qo(ve,ie))}),e.push(()=>{_.forEach((X,ue)=>{let ie=A.get(ue);X.forEach(ve=>$d(ve,ie))}),te.forEach((X,ue)=>{let ie=W.get(ue);X.forEach(ve=>$d(ve,ie))}),L.forEach(X=>{this.processLeaveNode(X)})});let le=[],ge=[];for(let X=this._namespaceList.length-1;X>=0;X--)this._namespaceList[X].drainQueuedTransitions(t).forEach(ie=>{let ve=ie.player,we=ie.element;if(le.push(ve),this.collectedEnterElements.length){let fe=we[Is];if(fe&&fe.setForMove){if(fe.previousTriggersValues&&fe.previousTriggersValues.has(ie.triggerName)){let _e=fe.previousTriggersValues.get(ie.triggerName),ye=this.statesByElement.get(ie.element);if(ye&&ye.has(ie.triggerName)){let Ye=ye.get(ie.triggerName);Ye.value=_e,ye.set(ie.triggerName,Ye)}}ve.destroy();return}}let Je=!y||!this.driver.containsElement(y,we),N=W.get(we),H=A.get(we),z=this._buildInstruction(ie,i,H,N,Je);if(z.errors&&z.errors.length){ge.push(z);return}if(Je){ve.onStart(()=>Jl(we,z.fromStyles)),ve.onDestroy(()=>ra(we,z.toStyles)),r.push(ve);return}if(ie.isFallbackTransition){ve.onStart(()=>Jl(we,z.fromStyles)),ve.onDestroy(()=>ra(we,z.toStyles)),r.push(ve);return}let ee=[];z.timelines.forEach(fe=>{fe.stretchStartingKeyframe=!0,this.disabledNodes.has(fe.element)||ee.push(fe)}),z.timelines=ee,i.append(we,z.timelines);let de={instruction:z,player:ve,element:we};s.push(de),z.queriedElements.forEach(fe=>To(l,fe,[]).push(ve)),z.preStyleProps.forEach((fe,_e)=>{if(fe.size){let ye=d.get(_e);ye||d.set(_e,ye=new Set),fe.forEach((Ye,Ue)=>ye.add(Ue))}}),z.postStyleProps.forEach((fe,_e)=>{let ye=m.get(_e);ye||m.set(_e,ye=new Set),fe.forEach((Ye,Ue)=>ye.add(Ue))})});if(ge.length){let X=[];ge.forEach(ue=>{X.push(mU(ue.triggerName,ue.errors))}),le.forEach(ue=>ue.destroy()),this.reportError(X)}let re=new Map,Y=new Map;s.forEach(X=>{let ue=X.element;i.has(ue)&&(Y.set(ue,ue),this._beforeAnimationBuild(X.player.namespaceId,X.instruction,re))}),r.forEach(X=>{let ue=X.element;this._getPreviousPlayers(ue,!1,X.namespaceId,X.triggerName,null).forEach(ve=>{To(re,ue,[]).push(ve),ve.destroy()})});let me=L.filter(X=>EI(X,d,m)),xe=new Map;yI(xe,this.driver,k,m,ia).forEach(X=>{EI(X,d,m)&&me.push(X)});let U=new Map;_.forEach((X,ue)=>{yI(U,this.driver,new Set(X),d,w6)}),me.forEach(X=>{let ue=xe.get(X),ie=U.get(X);xe.set(X,new Map([...ue?.entries()??[],...ie?.entries()??[]]))});let J=[],Q=[],Ce={};s.forEach(X=>{let{element:ue,player:ie,instruction:ve}=X;if(i.has(ue)){if(g.has(ue)){ie.onDestroy(()=>ra(ue,ve.toStyles)),ie.disabled=!0,ie.overrideTotalTime(ve.totalTime),r.push(ie);return}let we=Ce;if(Y.size>1){let N=ue,H=[];for(;N=N.parentNode;){let z=Y.get(N);if(z){we=z;break}H.push(N)}H.forEach(z=>Y.set(z,we))}let Je=this._buildAnimation(ie.namespaceId,ve,re,o,U,xe);if(ie.setRealPlayer(Je),we===Ce)J.push(ie);else{let N=this.playersByElement.get(we);N&&N.length&&(ie.parentPlayer=zu(N)),r.push(ie)}}else Jl(ue,ve.fromStyles),ie.onDestroy(()=>ra(ue,ve.toStyles)),Q.push(ie),g.has(ue)&&r.push(ie)}),Q.forEach(X=>{let ue=o.get(X.element);if(ue&&ue.length){let ie=zu(ue);X.setRealPlayer(ie)}}),r.forEach(X=>{X.parentPlayer?X.syncPlayerEvents(X.parentPlayer):X.destroy()});for(let X=0;X<L.length;X++){let ue=L[X],ie=ue[Is];if($d(ue,h3),ie&&ie.hasAnimation)continue;let ve=[];if(l.size){let Je=l.get(ue);Je&&Je.length&&ve.push(...Je);let N=this.driver.query(ue,g3,!0);for(let H=0;H<N.length;H++){let z=l.get(N[H]);z&&z.length&&ve.push(...z)}}let we=ve.filter(Je=>!Je.destroyed);we.length?tq(this,ue,we):this.processLeaveNode(ue)}return L.length=0,J.forEach(X=>{this.players.push(X),X.onDone(()=>{X.destroy();let ue=this.players.indexOf(X);this.players.splice(ue,1)}),X.play()}),J}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){let l=this.playersByQueriedElement.get(e);l&&(s=l)}else{let l=this.playersByElement.get(e);if(l){let d=!o||o==gf;l.forEach(m=>{m.queued||!d&&m.triggerName!=r||s.push(m)})}}return(i||r)&&(s=s.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),s}_beforeAnimationBuild(e,t,i){let r=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:r;for(let d of t.timelines){let m=d.element,g=m!==o,y=To(i,m,[]);this._getPreviousPlayers(m,g,s,l,t.toState).forEach(_=>{let A=_.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),_.destroy(),y.push(_)})}Jl(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){let l=t.triggerName,d=t.element,m=[],g=new Set,y=new Set,S=t.timelines.map(A=>{let w=A.element;g.add(w);let L=w[Is];if(L&&L.removedBeforeQueried)return new Hu(A.duration,A.delay);let F=w!==d,k=nq((i.get(w)||QU).map(re=>re.getRealPlayer())).filter(re=>{let Y=re;return Y.element?Y.element===w:!1}),W=o.get(w),te=s.get(w),le=SI(this._normalizer,A.keyframes,W,te),ge=this._buildPlayer(A,le,k);if(A.subTimeline&&r&&y.add(w),F){let re=new bf(e,l,w);re.setRealPlayer(ge),m.push(re)}return ge});m.forEach(A=>{To(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>JU(this.playersByQueriedElement,A.element,A))}),g.forEach(A=>Qo(A,dI));let _=zu(S);return _.onDestroy(()=>{g.forEach(A=>$d(A,dI)),ra(d,t.toStyles)}),y.forEach(A=>{To(r,A,[]).push(_)}),_}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Hu(e.duration,e.delay)}},bf=class{namespaceId;triggerName;element;_player=new Hu;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>M3(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){To(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function JU(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function XU(n){return n??null}function T6(n){return n&&n.nodeType===1}function eq(n){return n=="start"||n=="done"}function _I(n,e){let t=n.style.display;return n.style.display=e??"none",t}function yI(n,e,t,i,r){let o=[];t.forEach(d=>o.push(_I(d)));let s=[];i.forEach((d,m)=>{let g=new Map;d.forEach(y=>{let S=e.computeStyle(m,y,r);g.set(y,S),(!S||S.length==0)&&(m[Is]=ZU,s.push(m))}),n.set(m,g)});let l=0;return t.forEach(d=>_I(d,o[l++])),s}function bI(n,e){let t=new Map;if(n.forEach(l=>t.set(l,[])),e.length==0)return t;let i=1,r=new Set(e),o=new Map;function s(l){if(!l)return i;let d=o.get(l);if(d)return d;let m=l.parentNode;return t.has(m)?d=m:r.has(m)?d=i:d=s(m),o.set(l,d),d}return e.forEach(l=>{let d=s(l);d!==i&&t.get(d).push(l)}),t}function Qo(n,e){n.classList?.add(e)}function $d(n,e){n.classList?.remove(e)}function tq(n,e,t){zu(t).onDone(()=>n.processLeaveNode(e))}function nq(n){let e=[];return PI(n,e),e}function PI(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof mf?PI(i.players,e):e.push(i)}}function iq(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function EI(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}var Hd=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,i){this._driver=t,this._normalizer=i,this._transitionEngine=new I3(e.body,t,i),this._timelineEngine=new A3(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){let s=e+"-"+r,l=this._triggerCache[s];if(!l){let d=[],m=[],g=TI(this._driver,o,d,m);if(d.length)throw iU(r,d);m.length&&void 0,l=$U(r,g,this._normalizer),this._triggerCache[s]=l}this._transitionEngine.registerTrigger(t,r,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[o,s]=lI(i),l=r;this._timelineEngine.command(o,t,s,l)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if(i.charAt(0)=="@"){let[s,l]=lI(i);return this._timelineEngine.listen(s,t,l,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function rq(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=m3(e[0]),e.length>1&&(i=m3(e[e.length-1]))):e instanceof Map&&(t=m3(e)),t||i?new oq(n,t,i):null}var oq=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ra(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ra(this._element,this._initialStyles),this._endStyles&&(ra(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Jl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Jl(this._element,this._endStyles),this._endStyles=null),ra(this._element,this._initialStyles),this._state=3)}}return n})();function m3(n){let e=null;return n.forEach((t,i)=>{sq(i)&&(e=e||new Map,e.set(i,t))}),e}function sq(n){return n==="display"||n==="position"}var j6=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:R3(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},B6=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return xI(e,t)}getParentElement(e){return N3(e)}query(e,t,i){return CI(e,t,i)}computeStyle(e,t,i){return R3(e,t)}animate(e,t,i,r,o,s=[]){let l=r==0?"both":"forwards",d={duration:i,delay:r,fill:l};o&&(d.easing=o);let m=new Map,g=s.filter(_=>_ instanceof j6);wU(i,r)&&g.forEach(_=>{_.currentSnapshot.forEach((A,w)=>m.set(w,A))});let y=SU(t).map(_=>new Map(_));y=AU(e,y,m);let S=rq(e,y);return new j6(e,y,d,S)}};var M6="@",OI="@.disabled",V6=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==M6&&t==OI?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},T3=class extends V6{factory;constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==M6?t.charAt(1)=="."&&t==OI?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==M6){let r=aq(e),o=t.slice(1),s="";return o.charAt(0)!=M6&&([o,s]=uq(o)),this.engine.listen(this.namespaceId,r,o,s,l=>{let d=l._data||-1;this.factory.scheduleListenerCallback(d,i,l)})}return this.delegate.listen(e,t,i)}};function aq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function uq(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var U6=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,t.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let m=this._rendererCache,g=m.get(r);if(!g){let y=()=>m.delete(r);g=new V6(i,r,this.engine,y),m.set(r,g)}return g}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let l=m=>{Array.isArray(m)?m.forEach(l):this.engine.registerTrigger(o,s,e,m.name,m)};return t.data.animation.forEach(l),new T3(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,l]=o;s(l)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var cq=(()=>{class n extends Hd{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(Ge(Ei),Ge(Xl),Ge(ec))};static \u0275prov=$e({token:n,factory:n.\u0275fac})}return n})();function dq(){return new P6}function pq(n,e,t){return new U6(n,e,t)}var LI=[{provide:ec,useFactory:dq},{provide:Hd,useClass:cq},{provide:Nu,useFactory:pq,deps:[i6,Hd,Nn]}],RI=[{provide:Xl,useFactory:()=>new B6},{provide:Sy,useValue:"BrowserAnimations"},...LI],fq=[{provide:Xl,useClass:P3},{provide:Sy,useValue:"NoopAnimations"},...LI],kI=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?fq:RI}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=xr({type:n});static \u0275inj=Er({providers:RI,imports:[lD]})}return n})();var jI=["toast-component",""];function mq(n,e){if(n&1){let t=ht();u(0,"button",5),Z("click",function(){rt(t);let r=q();return ot(r.remove())}),u(1,"span",6),c(2,"\xD7"),a()()}}function hq(n,e){if(n&1&&(no(0),c(1),io()),n&2){let t=q(2);f(),Se("[",t.duplicatesCount+1,"]")}}function gq(n,e){if(n&1&&(u(0,"div"),c(1),D(2,hq,2,1,"ng-container",4),a()),n&2){let t=q();Va(t.options.titleClass),Go("aria-label",t.title),f(),Se(" ",t.title," "),f(),E("ngIf",t.duplicatesCount)}}function vq(n,e){if(n&1&&M(0,"div",7),n&2){let t=q();Va(t.options.messageClass),E("innerHTML",t.message,Iy)}}function _q(n,e){if(n&1&&(u(0,"div",8),c(1),a()),n&2){let t=q();Va(t.options.messageClass),Go("aria-label",t.message),f(),Se(" ",t.message," ")}}function yq(n,e){if(n&1&&(u(0,"div"),M(1,"div",9),a()),n&2){let t=q();f(),zl("width",t.width()+"%")}}function bq(n,e){if(n&1){let t=ht();u(0,"button",5),Z("click",function(){rt(t);let r=q();return ot(r.remove())}),u(1,"span",6),c(2,"\xD7"),a()()}}function Eq(n,e){if(n&1&&(no(0),c(1),io()),n&2){let t=q(2);f(),Se("[",t.duplicatesCount+1,"]")}}function Sq(n,e){if(n&1&&(u(0,"div"),c(1),D(2,Eq,2,1,"ng-container",4),a()),n&2){let t=q();Va(t.options.titleClass),Go("aria-label",t.title),f(),Se(" ",t.title," "),f(),E("ngIf",t.duplicatesCount)}}function xq(n,e){if(n&1&&M(0,"div",7),n&2){let t=q();Va(t.options.messageClass),E("innerHTML",t.message,Iy)}}function Cq(n,e){if(n&1&&(u(0,"div",8),c(1),a()),n&2){let t=q();Va(t.options.messageClass),Go("aria-label",t.message),f(),Se(" ",t.message," ")}}function wq(n,e){if(n&1&&(u(0,"div"),M(1,"div",9),a()),n&2){let t=q();f(),zl("width",t.width()+"%")}}var k3=class{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},j3=class{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},B3=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Zn;_activate=new Zn;_manualClose=new Zn;_resetTimeout=new Zn;_countDuplicate=new Zn;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}},zd=class{toastId;config;message;title;toastType;toastRef;_onTap=new Zn;_onAction=new Zn;constructor(e,t,i,r,o,s){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=o,this.toastRef=s,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},BI={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},VI=new mt("ToastConfig"),V3=class extends j3{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){let i=this._componentFactoryResolver.resolveComponentFactory(e.component),r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},Aq=(()=>{class n{_document=Ve(Ei);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),U3=class{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}},Dq=(()=>{class n{_overlayContainer=Ve(Aq);_componentFactoryResolver=Ve(Fu);_appRef=Ve(bo);_document=Ve(Ei);_paneElements=new Map;create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new V3(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new U3(this._createPortalHost(t))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qe=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,i,r,o,s){this.overlay=i,this._injector=r,this.sanitizer=o,this.ngZone=s,this.toastrConfig=Re(Re({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Re(Re({},t.default.iconClasses),t.config.iconClasses))}show(t,i,r={},o=""){return this._preBuildNotification(o,t,i,this.applyConfig(r))}success(t,i,r={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,t,i,this.applyConfig(r))}error(t,i,r={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,t,i,this.applyConfig(r))}info(t,i,r={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,t,i,this.applyConfig(r))}warning(t,i,r={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,t,i,this.applyConfig(r))}clear(t){for(let i of this.toasts)if(t!==void 0){if(i.toastId===t){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(t){let i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,o){let{includeTitleDuplicates:s}=this.toastrConfig;for(let l of this.toasts){let d=s&&l.title===t;if((!s||d)&&l.message===i)return l.toastRef.onDuplicate(r,o),l}return null}applyConfig(t={}){return Re(Re({},this.toastrConfig),t)}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,o)):this._buildNotification(t,i,r,o)}_buildNotification(t,i,r,o){if(!o.toastComponent)throw new Error("toastComponent required");let s=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&s!==null)return s;this.previousToastMessage=i;let l=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(l=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let d=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let m=i;i&&o.enableHtml&&(m=this.sanitizer.sanitize(yo.HTML,i));let g=new B3(d),y=new zd(this.index,o,m,r,t,g),S=[{provide:zd,useValue:y}],_=kr.create({providers:S,parent:this._injector}),A=new k3(o.toastComponent,_),w=d.attach(A,o.newestOnTop);g.componentInstance=w.instance;let L={toastId:this.index,title:r||"",message:i||"",toastRef:g,onShown:g.afterActivate(),onHidden:g.afterClosed(),onTap:y.onTap(),onAction:y.onAction(),portal:w};return l||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{L.toastRef.activate()})),this.toasts.push(L),L}static \u0275fac=function(i){return new(i||n)(Ge(VI),Ge(Dq),Ge(kr),Ge(Cb),Ge(Nn))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Iq=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=ea(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=ea({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(t=>Yt(Re({},t),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let t=new Date().getTime(),i=this.hideTime-t;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(t=>Yt(Re({},t),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(t=>Yt(Re({},t),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(i){return new(i||n)(O(Qe),O(zd),O(Nn))};static \u0275cmp=Ae({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&Z("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(Wy("@flyInOut",r._state),Va(r.toastClasses),zl("display",r.displayStyle))},attrs:jI,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&D(0,mq,3,0,"button",0)(1,gq,3,5,"div",1)(2,vq,1,3,"div",2)(3,_q,2,4,"div",3)(4,yq,2,2,"div",4),i&2&&(E("ngIf",r.options.closeButton),f(),E("ngIf",r.title),f(),E("ngIf",r.message&&r.options.enableHtml),f(),E("ngIf",r.message&&!r.options.enableHtml),f(),E("ngIf",r.options.progressBar))},dependencies:[tt],encapsulation:2,data:{animation:[sI("flyInOut",[C6("inactive",Kl({opacity:0})),C6("active",Kl({opacity:1})),C6("removed",Kl({opacity:0})),u3("inactive => active",a3("{{ easeTime }}ms {{ easing }}")),u3("active => removed",a3("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),Tq=Yt(Re({},BI),{toastComponent:Iq}),Mq=(n={})=>Ou([{provide:VI,useValue:{default:Tq,config:n}}]),UI=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[Mq(t)]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=xr({type:n});static \u0275inj=Er({})}return n})();var Fq=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=ea(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=ea("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let t=new Date().getTime(),i=this.hideTime-t;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||n)(O(Qe),O(zd),O(bo))};static \u0275cmp=Ae({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&Z("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(Va(r.toastClasses),zl("display",r.displayStyle))},attrs:jI,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&D(0,bq,3,0,"button",0)(1,Sq,3,5,"div",1)(2,xq,1,3,"div",2)(3,Cq,2,4,"div",3)(4,wq,2,2,"div",4),i&2&&(E("ngIf",r.options.closeButton),f(),E("ngIf",r.title),f(),E("ngIf",r.message&&r.options.enableHtml),f(),E("ngIf",r.message&&!r.options.enableHtml),f(),E("ngIf",r.options.progressBar))},dependencies:[tt],encapsulation:2,changeDetection:0})}return n})(),O0e=Yt(Re({},BI),{toastComponent:Fq});var ZI=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(O(Cs),O(Sr))};static \u0275dir=Rn({type:n})}return n})(),Q6=(()=>{class n extends ZI{static \u0275fac=(()=>{let t;return function(r){return(t||(t=$o(n)))(r||n)}})();static \u0275dir=Rn({type:n,features:[tr]})}return n})(),Kd=new mt("");var Nq={provide:Kd,useExisting:jr(()=>Ze),multi:!0};function Pq(){let n=ta()?ta().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Oq=new mt(""),Ze=(()=>{class n extends ZI{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Pq())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(O(Cs),O(Sr),O(Oq,8))};static \u0275dir=Rn({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&Z("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[So([Nq]),tr]})}return n})();function Gu(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function JI(n){return n!=null&&typeof n.length=="number"}var Yu=new mt(""),wf=new mt(""),Rq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ae=class{static min(e){return XI(e)}static max(e){return e7(e)}static required(e){return t7(e)}static requiredTrue(e){return Lq(e)}static email(e){return kq(e)}static minLength(e){return jq(e)}static maxLength(e){return Bq(e)}static pattern(e){return Vq(e)}static nullValidator(e){return $6(e)}static compose(e){return a7(e)}static composeAsync(e){return l7(e)}};function XI(n){return e=>{if(Gu(e.value)||Gu(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function e7(n){return e=>{if(Gu(e.value)||Gu(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function t7(n){return Gu(n.value)?{required:!0}:null}function Lq(n){return n.value===!0?null:{required:!0}}function kq(n){return Gu(n.value)||Rq.test(n.value)?null:{email:!0}}function jq(n){return e=>Gu(e.value)||!JI(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Bq(n){return e=>JI(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Vq(n){if(!n)return $6;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Gu(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function $6(n){return null}function n7(n){return n!=null}function i7(n){return Hl(n)?si(n):n}function r7(n){let e={};return n.forEach(t=>{e=t!=null?Re(Re({},e),t):e}),Object.keys(e).length===0?null:e}function o7(n,e){return e.map(t=>t(n))}function Uq(n){return!n.validate}function s7(n){return n.map(e=>Uq(e)?e:t=>e.validate(t))}function a7(n){if(!n)return null;let e=n.filter(n7);return e.length==0?null:function(t){return r7(o7(t,e))}}function u7(n){return n!=null?a7(s7(n)):null}function l7(n){if(!n)return null;let e=n.filter(n7);return e.length==0?null:function(t){let i=o7(t,e).map(i7);return A4(i).pipe(ln(r7))}}function c7(n){return n!=null?l7(s7(n)):null}function qI(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function d7(n){return n._rawValidators}function p7(n){return n._rawAsyncValidators}function q3(n){return n?Array.isArray(n)?n:[n]:[]}function H6(n,e){return Array.isArray(n)?n.includes(e):n===e}function $I(n,e){let t=q3(e);return q3(n).forEach(r=>{H6(t,r)||t.push(r)}),t}function HI(n,e){return q3(e).filter(t=>!H6(n,t))}var z6=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=u7(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=c7(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Mo=class extends z6{name;get formDirective(){return null}get path(){return null}},tc=class extends z6{_parent=null;name=null;valueAccessor=null},G6=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},qq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Z0e=Yt(Re({},qq),{"[class.ng-submitted]":"isSubmitted"}),et=(()=>{class n extends G6{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(O(tc,2))};static \u0275dir=Rn({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Rg("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[tr]})}return n})(),Ot=(()=>{class n extends G6{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(O(Mo,10))};static \u0275dir=Rn({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Rg("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[tr]})}return n})();var Ef="VALID",q6="INVALID",Gd="PENDING",Sf="DISABLED",Wu=class{},W6=class extends Wu{value;source;constructor(e,t){super(),this.value=e,this.source=t}},xf=class extends Wu{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Cf=class extends Wu{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Wd=class extends Wu{status;source;constructor(e,t){super(),this.status=e,this.source=t}},$3=class extends Wu{source;constructor(e){super(),this.source=e}},H3=class extends Wu{source;constructor(e){super(),this.source=e}};function Y3(n){return(Z6(n)?n.validators:n)||null}function $q(n){return Array.isArray(n)?u7(n):n||null}function K3(n,e){return(Z6(e)?e.asyncValidators:n)||null}function Hq(n){return Array.isArray(n)?c7(n):n||null}function Z6(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function f7(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new ze(1e3,"");if(!i[t])throw new ze(1001,"")}function m7(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new ze(1002,"")})}var Yd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ua(this.statusReactive)}set status(e){Ua(()=>this.statusReactive.set(e))}_status=Lp(()=>this.statusReactive());statusReactive=ea(void 0);get valid(){return this.status===Ef}get invalid(){return this.status===q6}get pending(){return this.status==Gd}get disabled(){return this.status===Sf}get enabled(){return this.status!==Sf}errors;get pristine(){return Ua(this.pristineReactive)}set pristine(e){Ua(()=>this.pristineReactive.set(e))}_pristine=Lp(()=>this.pristineReactive());pristineReactive=ea(!0);get dirty(){return!this.pristine}get touched(){return Ua(this.touchedReactive)}set touched(e){Ua(()=>this.touchedReactive.set(e))}_touched=Lp(()=>this.touchedReactive());touchedReactive=ea(!1);get untouched(){return!this.touched}_events=new Zn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($I(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($I(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(HI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(HI(e,this._rawAsyncValidators))}hasValidator(e){return H6(this._rawValidators,e)}hasAsyncValidator(e){return H6(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Yt(Re({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Cf(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Cf(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Yt(Re({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new xf(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new xf(!0,i))}markAsPending(e={}){this.status=Gd;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wd(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Yt(Re({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Sf,this.errors=null,this._forEachChild(r=>{r.disable(Yt(Re({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new W6(this.value,i)),this._events.next(new Wd(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Yt(Re({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ef,this._forEachChild(i=>{i.enable(Yt(Re({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Yt(Re({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ef||this.status===Gd)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new W6(this.value,t)),this._events.next(new Wd(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Yt(Re({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sf:Ef}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Gd,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=i7(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Wd(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new Vi,this.statusChanges=new Vi}_calculateStatus(){return this._allControlsDisabled()?Sf:this.errors?q6:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gd)?Gd:this._anyControlsHaveStatus(q6)?q6:Ef}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new xf(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Cf(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Z6(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=$q(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Hq(this._rawAsyncValidators)}},dn=class extends Yd{constructor(e,t,i){super(Y3(t),K3(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){m7(this,!0,e),Object.keys(e).forEach(i=>{f7(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var z3=class extends dn{};var J6=new mt("CallSetDisabledState",{providedIn:"root",factory:()=>X6}),X6="always";function e2(n,e){return[...e.path,n]}function G3(n,e,t=X6){Q3(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Gq(n,e),Yq(n,e),Wq(n,e),zq(n,e)}function zI(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),K6(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Y6(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zq(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Q3(n,e){let t=d7(n);e.validator!==null?n.setValidators(qI(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=p7(n);e.asyncValidator!==null?n.setAsyncValidators(qI(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Y6(e._rawValidators,r),Y6(e._rawAsyncValidators,r)}function K6(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=d7(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=p7(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Y6(e._rawValidators,i),Y6(e._rawAsyncValidators,i),t}function Gq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&h7(n,e)})}function Wq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&h7(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function h7(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Yq(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Kq(n,e){n==null,Q3(n,e)}function Qq(n,e){return K6(n,e)}function g7(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Zq(n){return Object.getPrototypeOf(n.constructor)===Q6}function Jq(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function v7(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Ze?t=o:Zq(o)?i=o:r=o}),r||i||t||null}function Xq(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function GI(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function WI(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var je=class extends Yd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(Y3(t),K3(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Z6(t)&&(t.nonNullable||t.initialValueIsDefault)&&(WI(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){WI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var e$=n=>n instanceof je,t$=(()=>{class n extends Mo{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return e2(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$o(n)))(r||n)}})();static \u0275dir=Rn({type:n,standalone:!1,features:[tr]})}return n})();var n$={provide:tc,useExisting:jr(()=>xn)},YI=Promise.resolve(),xn=(()=>{class n extends tc{_changeDetectorRef;callSetDisabledState;control=new je;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Vi;constructor(t,i,r,o,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=v7(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),g7(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){G3(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){YI.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Bu(i);YI.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?e2(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(O(Mo,9),O(Yu,10),O(wf,10),O(Kd,10),O(Wo,8),O(J6,8))};static \u0275dir=Rn({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[So([n$]),tr,xs]})}return n})(),Rt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=Rn({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),i$={provide:Kd,useExisting:jr(()=>on),multi:!0},on=(()=>{class n extends Q6{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$o(n)))(r||n)}})();static \u0275dir=Rn({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&Z("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[So([i$]),tr]})}return n})();var _7=new mt("");var r$={provide:Mo,useExisting:jr(()=>Dt)},Dt=(()=>{class n extends Mo{callSetDisabledState;get submitted(){return Ua(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Lp(()=>this._submittedReactive());_submittedReactive=ea(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Vi;constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(K6(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return G3(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){zI(t.control||null,t,!1),Xq(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),Jq(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new $3(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new H3(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(zI(i||null,t),e$(r)&&(G3(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);Kq(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&Qq(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Q3(this.form,this),this._oldForm&&K6(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||n)(O(Yu,10),O(wf,10),O(J6,8))};static \u0275dir=Rn({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&Z("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[So([r$]),tr,xs]})}return n})(),o$={provide:Mo,useExisting:jr(()=>Qd)},Qd=(()=>{class n extends t${name=null;constructor(t,i,r){super(),this._parent=t,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){y7(this._parent)}static \u0275fac=function(i){return new(i||n)(O(Mo,13),O(Yu,10),O(wf,10))};static \u0275dir=Rn({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[So([o$]),tr]})}return n})(),s$={provide:Mo,useExisting:jr(()=>Zd)},Zd=(()=>{class n extends Mo{_parent;name=null;constructor(t,i,r){super(),this._parent=t,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return e2(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){y7(this._parent)}static \u0275fac=function(i){return new(i||n)(O(Mo,13),O(Yu,10),O(wf,10))};static \u0275dir=Rn({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[So([s$]),tr]})}return n})();function y7(n){return!(n instanceof Qd)&&!(n instanceof Dt)&&!(n instanceof Zd)}var a$={provide:tc,useExisting:jr(()=>Mt)},Mt=(()=>{class n extends tc{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Vi;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=v7(this,o)}ngOnChanges(t){this._added||this._setUpControl(),g7(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return e2(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(O(Mo,13),O(Yu,10),O(wf,10),O(Kd,10),O(_7,8))};static \u0275dir=Rn({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[So([a$]),tr,xs]})}return n})(),u$={provide:Kd,useExisting:jr(()=>Lt),multi:!0};function b7(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function l$(n){return n.split(":")[0]}var Lt=(()=>{class n extends Q6{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i=this._getOptionId(t),r=b7(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=l$(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$o(n)))(r||n)}})();static \u0275dir=Rn({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&Z("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[So([u$]),tr]})}return n})(),Vt=(()=>{class n{_element;_renderer;_select;id;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(b7(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(O(Sr),O(Cs),O(Lt,9))};static \u0275dir=Rn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),c$={provide:Kd,useExisting:jr(()=>E7),multi:!0};function KI(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function d$(n){return n.split(":")[0]}var E7=(()=>{class n extends Q6{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let l=0;l<s.length;l++){let d=s[l],m=this._getOptionValue(d.value);r.push(m)}}else{let s=i.options;for(let l=0;l<s.length;l++){let d=s[l];if(d.selected){let m=this._getOptionValue(d.value);r.push(m)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=d$(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$o(n)))(r||n)}})();static \u0275dir=Rn({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&Z("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[So([c$]),tr]})}return n})(),Ut=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(KI(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(KI(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(O(Sr),O(Cs),O(E7,9))};static \u0275dir=Rn({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function S7(n){return typeof n=="number"?n:parseFloat(n)}var Z3=(()=>{class n{_validator=$6;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):$6,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Rn({type:n,features:[xs]})}return n})(),p$={provide:Yu,useExisting:jr(()=>J3),multi:!0},J3=(()=>{class n extends Z3{max;inputName="max";normalizeInput=t=>S7(t);createValidator=t=>e7(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=$o(n)))(r||n)}})();static \u0275dir=Rn({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Go("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[So([p$]),tr]})}return n})(),f$={provide:Yu,useExisting:jr(()=>nc),multi:!0},nc=(()=>{class n extends Z3{min;inputName="min";normalizeInput=t=>S7(t);createValidator=t=>XI(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=$o(n)))(r||n)}})();static \u0275dir=Rn({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Go("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[So([f$]),tr]})}return n})(),m$={provide:Yu,useExisting:jr(()=>sn),multi:!0};var sn=(()=>{class n extends Z3{required;inputName="required";normalizeInput=Bu;createValidator=t=>t7;enabled(t){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$o(n)))(r||n)}})();static \u0275dir=Rn({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Go("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[So([m$]),tr]})}return n})();var x7=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=xr({type:n});static \u0275inj=Er({})}return n})(),W3=class extends Yd{constructor(e,t,i){super(Y3(t),K3(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){m7(this,!1,e),e.forEach((i,r)=>{f7(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function QI(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Si=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return QI(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new dn(r,o)}record(t,i=null){let r=this._reduceControls(t);return new z3(r,i)}control(t,i,r){let o={};return this.useNonNullable?(QI(i)?o=i:(o.validators=i,o.asyncValidators=r),new je(t,Yt(Re({},o),{nonNullable:!0}))):new je(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new W3(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof je)return t;if(t instanceof Yd)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:J6,useValue:t.callSetDisabledState??X6}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=xr({type:n});static \u0275inj=Er({imports:[x7]})}return n})(),xt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:_7,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:J6,useValue:t.callSetDisabledState??X6}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=xr({type:n});static \u0275inj=Er({imports:[x7]})}return n})();var T7="3.7.7",h$=T7,Xd=typeof Buffer=="function",C7=typeof TextDecoder=="function"?new TextDecoder:void 0,w7=typeof TextEncoder=="function"?new TextEncoder:void 0,g$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Af=Array.prototype.slice.call(g$),t2=(n=>{let e={};return n.forEach((t,i)=>e[t]=i),e})(Af),v$=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,fr=String.fromCharCode.bind(String),A7=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):n=>new Uint8Array(Array.prototype.slice.call(n,0)),M7=n=>n.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),F7=n=>n.replace(/[^A-Za-z0-9\+\/]/g,""),N7=n=>{let e,t,i,r,o="",s=n.length%3;for(let l=0;l<n.length;){if((t=n.charCodeAt(l++))>255||(i=n.charCodeAt(l++))>255||(r=n.charCodeAt(l++))>255)throw new TypeError("invalid character found");e=t<<16|i<<8|r,o+=Af[e>>18&63]+Af[e>>12&63]+Af[e>>6&63]+Af[e&63]}return s?o.slice(0,s-3)+"===".substring(s):o},t5=typeof btoa=="function"?n=>btoa(n):Xd?n=>Buffer.from(n,"binary").toString("base64"):N7,X3=Xd?n=>Buffer.from(n).toString("base64"):n=>{let t=[];for(let i=0,r=n.length;i<r;i+=4096)t.push(fr.apply(null,n.subarray(i,i+4096)));return t5(t.join(""))},n2=(n,e=!1)=>e?M7(X3(n)):X3(n),_$=n=>{if(n.length<2){var e=n.charCodeAt(0);return e<128?n:e<2048?fr(192|e>>>6)+fr(128|e&63):fr(224|e>>>12&15)+fr(128|e>>>6&63)+fr(128|e&63)}else{var e=65536+(n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320);return fr(240|e>>>18&7)+fr(128|e>>>12&63)+fr(128|e>>>6&63)+fr(128|e&63)}},y$=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,P7=n=>n.replace(y$,_$),D7=Xd?n=>Buffer.from(n,"utf8").toString("base64"):w7?n=>X3(w7.encode(n)):n=>t5(P7(n)),Jd=(n,e=!1)=>e?M7(D7(n)):D7(n),I7=n=>Jd(n,!0),b$=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,E$=n=>{switch(n.length){case 4:var e=(7&n.charCodeAt(0))<<18|(63&n.charCodeAt(1))<<12|(63&n.charCodeAt(2))<<6|63&n.charCodeAt(3),t=e-65536;return fr((t>>>10)+55296)+fr((t&1023)+56320);case 3:return fr((15&n.charCodeAt(0))<<12|(63&n.charCodeAt(1))<<6|63&n.charCodeAt(2));default:return fr((31&n.charCodeAt(0))<<6|63&n.charCodeAt(1))}},O7=n=>n.replace(b$,E$),R7=n=>{if(n=n.replace(/\s+/g,""),!v$.test(n))throw new TypeError("malformed base64.");n+="==".slice(2-(n.length&3));let e,t="",i,r;for(let o=0;o<n.length;)e=t2[n.charAt(o++)]<<18|t2[n.charAt(o++)]<<12|(i=t2[n.charAt(o++)])<<6|(r=t2[n.charAt(o++)]),t+=i===64?fr(e>>16&255):r===64?fr(e>>16&255,e>>8&255):fr(e>>16&255,e>>8&255,e&255);return t},n5=typeof atob=="function"?n=>atob(F7(n)):Xd?n=>Buffer.from(n,"base64").toString("binary"):R7,L7=Xd?n=>A7(Buffer.from(n,"base64")):n=>A7(n5(n).split("").map(e=>e.charCodeAt(0))),k7=n=>L7(j7(n)),S$=Xd?n=>Buffer.from(n,"base64").toString("utf8"):C7?n=>C7.decode(L7(n)):n=>O7(n5(n)),j7=n=>F7(n.replace(/[-_]/g,e=>e=="-"?"+":"/")),e5=n=>S$(j7(n)),x$=n=>{if(typeof n!="string")return!1;let e=n.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},B7=n=>({value:n,enumerable:!1,writable:!0,configurable:!0}),V7=function(){let n=(e,t)=>Object.defineProperty(String.prototype,e,B7(t));n("fromBase64",function(){return e5(this)}),n("toBase64",function(e){return Jd(this,e)}),n("toBase64URI",function(){return Jd(this,!0)}),n("toBase64URL",function(){return Jd(this,!0)}),n("toUint8Array",function(){return k7(this)})},U7=function(){let n=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,B7(t));n("toBase64",function(e){return n2(this,e)}),n("toBase64URI",function(){return n2(this,!0)}),n("toBase64URL",function(){return n2(this,!0)})},C$=()=>{V7(),U7()},Zo={version:T7,VERSION:h$,atob:n5,atobPolyfill:R7,btoa:t5,btoaPolyfill:N7,fromBase64:e5,toBase64:Jd,encode:Jd,encodeURI:I7,encodeURL:I7,utob:P7,btou:O7,decode:e5,isValid:x$,fromUint8Array:n2,toUint8Array:k7,extendString:V7,extendUint8Array:U7,extendBuiltins:C$};var ui={production:!1,apiUrl:"http://data.dous.in/api"};var $i=class n{constructor(e){this._HttpClient=e}isAuthenticatedSubject=new Ki(this.checkToken());isAuthenticated$=this.isAuthenticatedSubject.asObservable();baseURL=ui.apiUrl;userRole=null;checkToken(){return!!localStorage.getItem("Gtoken")}setLogin(e){return this._HttpClient.post(`${this.baseURL}/login`,e)}viewAllUsers(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/users/get-users`,{headers:t})}deleteUser(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.delete(`${this.baseURL}/users/delete-user/${e}`,{headers:i})}addUser(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.post(`${this.baseURL}/users/add-user`,e,{headers:i})}getUserById(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(this.baseURL+"/users/get-user/"+e,{headers:i})}updateUser(e,t){let i=localStorage.getItem("Gtoken"),r=new Le().set("Authorization",`Bearer ${i}`);return t.append("_method","PUT"),this._HttpClient.post(`${this.baseURL}/users/update-user/${e}`,t,{headers:r})}logout(){let e=localStorage.getItem("Gtoken");if(!e){console.error("No access token found.");return}let t=new Le().set("Authorization",`Bearer ${e}`);this._HttpClient.post(`${this.baseURL}/logout`,{},{headers:t}).subscribe({next:i=>{console.log("Logout successful:",i),localStorage.removeItem("Gtoken"),localStorage.removeItem("userRole"),this.isAuthenticatedSubject.next(!1)},error:i=>{console.error("Logout failed:",i)}})}getUserRole(){let e=localStorage.getItem("userRole");return e?this.userRole=Zo.decode(e):this.userRole=null,this.userRole}static \u0275fac=function(t){return new(t||n)(Ge(ni))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};function w$(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0637\u0644\u0648\u0628"),a())}function A$(n,e){if(n&1&&(u(0,"div",26),D(1,w$,2,0,"p",27),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.loginForm.get("user_name"))==null?null:t.getError("required"))}}function D$(n,e){n&1&&(u(0,"p"),c(1,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u0637\u0644\u0648\u0628\u0629"),a())}function I$(n,e){n&1&&(u(0,"p"),c(1," \u064A\u062C\u0628 \u0623\u0646 \u062A\u0643\u0648\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 8 \u0623\u062D\u0631\u0641 "),a())}function T$(n,e){if(n&1&&(u(0,"div",26),D(1,D$,2,0,"p",27)(2,I$,2,0,"p",27),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.loginForm.get("password"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.loginForm.get("password"))==null?null:i.getError("minlength"))}}function M$(n,e){if(n&1&&(u(0,"p",28),c(1),a()),n&2){let t=q();f(),C(t.msgError)}}function F$(n,e){n&1&&M(0,"i",29)}var Df=class n{constructor(e,t){this._UserService=e;this._Router=t}msgError="";isLoading=!1;loginForm=new dn({user_name:new je(null,[ae.required]),password:new je(null,[ae.required,ae.minLength(8)])});handleForm(){if(this.loginForm.valid){this.isLoading=!0;let e=new FormData;e.append("username",this.loginForm.get("user_name")?.value),e.append("password",this.loginForm.get("password")?.value),this._UserService.setLogin(e).subscribe({next:t=>{if(console.log(t),t){this.isLoading=!1;let i=Zo.encode(t.user.role);localStorage.setItem("Gtoken",t.token),localStorage.setItem("userRole",i),this._Router.navigate(["/dashboard"])}},error:t=>{this.isLoading=!1,this.msgError=t.error.error,console.log(t)}})}}static \u0275fac=function(t){return new(t||n)(O($i),O(Me))};static \u0275cmp=Ae({type:n,selectors:[["app-login"]],decls:35,vars:6,consts:[["id","home",1,"vh-100","d-flex","align-items-center","justify-content-center"],[1,"container"],[1,"row","justify-content-center"],[1,"col-12","col-md-8","col-lg-6"],["id","loginForm",3,"ngSubmit","formGroup"],[1,"card","bg-light","text-dark","shadow-lg","rounded-4"],[1,"card-body","p-4"],[1,"mb-4","text-center"],[1,"mb-3"],[1,"custom-login-form"],[1,"form-group","mb-3"],["for","user_name",1,"form-label"],[1,"input-group"],[1,"input-group-text","bg-success","text-white"],[1,"fas","fa-user"],["type","text","formControlName","user_name","id","user_name","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0627\u0644\u062E\u0627\u0635 \u0628\u0643","required","",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],["for","password",1,"form-label"],[1,"fas","fa-lock"],["type","password","formControlName","password","id","password","placeholder","\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u0643","required","",1,"form-control"],[1,"form-group","mb-4","text-center"],["href","#","tabindex","0",1,"text-success","forget"],["class","alert alert-danger text-center",4,"ngIf"],[1,"d-grid"],["type","submit",1,"btn","btn-success","btn-block",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"alert","alert-danger","mt-2"],[4,"ngIf"],[1,"alert","alert-danger","text-center"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2",8),c(9,"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"),a()(),u(10,"div",9)(11,"div",10)(12,"label",11),c(13,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"),a(),u(14,"div",12)(15,"div",13),M(16,"i",14),a(),M(17,"input",15),a(),D(18,A$,2,1,"div",16),a(),u(19,"div",10)(20,"label",17),c(21,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),a(),u(22,"div",12)(23,"div",13),M(24,"i",18),a(),M(25,"input",19),a(),D(26,T$,3,2,"div",16),a(),u(27,"div",20)(28,"a",21),c(29,"\u0646\u0633\u064A\u062A \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631\u061F"),a()(),D(30,M$,2,1,"p",22),u(31,"div",23)(32,"button",24),D(33,F$,1,0,"i",25),c(34,"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 "),a()()()()()()()()()()),t&2){let r,o;f(4),E("formGroup",i.loginForm),f(14),E("ngIf",((r=i.loginForm.get("user_name"))==null?null:r.errors)&&((r=i.loginForm.get("user_name"))==null?null:r.touched)),f(8),E("ngIf",((o=i.loginForm.get("password"))==null?null:o.errors)&&((o=i.loginForm.get("password"))==null?null:o.touched)),f(4),E("ngIf",i.msgError),f(2),E("disabled",i.loginForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Xt,Rt,Ze,et,Ot,sn,Ne,tt,xt,Dt,Mt],styles:["#home[_ngcontent-%COMP%]{background-size:cover;background-position:center center;overflow:auto;background-image:linear-gradient(#00000085,#00000085),url(/images/login.jpg)}h2[_ngcontent-%COMP%]{font-weight:600;font-size:28px}label[_ngcontent-%COMP%]{font-weight:600;font-size:14px}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;background-color:#fff!important}.card[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{border:none;border-top-left-radius:0;border-bottom-left-radius:0}.card[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.card[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{background-color:#145388!important;border-color:#145388!important;border-radius:5px}.input-group[_ngcontent-%COMP%]   .bg-success[_ngcontent-%COMP%]{background-color:#145388!important}.forget[_ngcontent-%COMP%]{color:#145388!important;text-decoration:none!important;font-weight:400;font-size:14px}"]})};var i2=class n{constructor(e,t){this._UserService=e;this.router=t}logout(){this._UserService.logout(),localStorage.removeItem("userRole"),localStorage.removeItem("Gtoken"),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(O($i),O(Me))};static \u0275cmp=Ae({type:n,selectors:[["app-header"]],decls:9,vars:0,consts:[[1,"navbar","navbar-expand-lg","shadow","rounded","stylish-navbar"],[1,"container"],["href","#",1,"navbar-brand","stylish-logo"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mb-2","mb-lg-0"],[1,"nav-item"],["href","#","role","button",1,"nav-link","logout-button",3,"click"]],template:function(t,i){t&1&&(u(0,"nav",0)(1,"div",1)(2,"a",2),c(3," \u0627\u0644\u0634\u0639\u0627\u0631 "),a(),M(4,"div",3),u(5,"ul",4)(6,"li",5)(7,"a",6),Z("click",function(){return i.logout()}),c(8," \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C "),a()()()()())},styles:[".logoimg[_ngcontent-%COMP%]{width:11%}.dropdown[_ngcontent-%COMP%]{background-color:#f5f5f5}.navbar[_ngcontent-%COMP%]{background-color:#fff}.stylish-navbar[_ngcontent-%COMP%]{width:90%;margin:20px auto;background:linear-gradient(90deg,#4e54c8,#8f94fb);border-radius:10px;padding:10px 20px}.stylish-logo[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;text-transform:uppercase;text-shadow:0px 1px 3px rgba(0,0,0,.3)}.navbar-nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.logout-button[_ngcontent-%COMP%]{display:inline-block;background:linear-gradient(90deg,#ff7e5f,#feb47b);color:#fff;padding:10px 20px;font-size:1rem;font-weight:700;border-radius:50px;text-align:center;text-transform:uppercase;box-shadow:0 4px 8px #0003;transition:all .3s ease-in-out}.logout-button[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#feb47b,#ff7e5f);color:#fff;box-shadow:0 6px 12px #0000004d;transform:scale(1.05)}.logout-button[_ngcontent-%COMP%]:active{transform:scale(.95);box-shadow:0 3px 6px #0003}"]})};var f2={};GN(f2,{afterMain:()=>W7,afterRead:()=>H7,afterWrite:()=>Q7,applyStyles:()=>t0,arrow:()=>o2,auto:()=>If,basePlacements:()=>Za,beforeMain:()=>z7,beforeRead:()=>q7,beforeWrite:()=>Y7,bottom:()=>Hi,clippingParents:()=>i5,computeStyles:()=>i0,createPopper:()=>kf,createPopperBase:()=>oT,createPopperLite:()=>sT,detectOverflow:()=>qr,end:()=>Ku,eventListeners:()=>r0,flip:()=>l2,hide:()=>c2,left:()=>xi,main:()=>G7,modifierPhases:()=>o5,offset:()=>d2,placements:()=>Mf,popper:()=>ic,popperGenerator:()=>dc,popperOffsets:()=>a0,preventOverflow:()=>p2,read:()=>$7,reference:()=>r5,right:()=>Ti,start:()=>oa,top:()=>hi,variationPlacements:()=>r2,viewport:()=>Tf,write:()=>K7});var hi="top",Hi="bottom",Ti="right",xi="left",If="auto",Za=[hi,Hi,Ti,xi],oa="start",Ku="end",i5="clippingParents",Tf="viewport",ic="popper",r5="reference",r2=Za.reduce(function(n,e){return n.concat([e+"-"+oa,e+"-"+Ku])},[]),Mf=[].concat(Za,[If]).reduce(function(n,e){return n.concat([e,e+"-"+oa,e+"-"+Ku])},[]),q7="beforeRead",$7="read",H7="afterRead",z7="beforeMain",G7="main",W7="afterMain",Y7="beforeWrite",K7="write",Q7="afterWrite",o5=[q7,$7,H7,z7,G7,W7,Y7,K7,Q7];function rr(n){return n?(n.nodeName||"").toLowerCase():null}function di(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Jo(n){var e=di(n).Element;return n instanceof e||n instanceof Element}function Qi(n){var e=di(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function e0(n){if(typeof ShadowRoot>"u")return!1;var e=di(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function N$(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];!Qi(o)||!rr(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var l=r[s];l===!1?o.removeAttribute(s):o.setAttribute(s,l===!0?"":l)}))})}function P$(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},s=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),l=s.reduce(function(d,m){return d[m]="",d},{});!Qi(r)||!rr(r)||(Object.assign(r.style,l),Object.keys(o).forEach(function(d){r.removeAttribute(d)}))})}}var t0={name:"applyStyles",enabled:!0,phase:"write",fn:N$,effect:P$,requires:["computeStyles"]};function or(n){return n.split("-")[0]}var Ts=Math.max,rc=Math.min,Ja=Math.round;function n0(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ff(){return!/^((?!chrome|android).)*safari/i.test(n0())}function Xo(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,o=1;e&&Qi(n)&&(r=n.offsetWidth>0&&Ja(i.width)/n.offsetWidth||1,o=n.offsetHeight>0&&Ja(i.height)/n.offsetHeight||1);var s=Jo(n)?di(n):window,l=s.visualViewport,d=!Ff()&&t,m=(i.left+(d&&l?l.offsetLeft:0))/r,g=(i.top+(d&&l?l.offsetTop:0))/o,y=i.width/r,S=i.height/o;return{width:y,height:S,top:g,right:m+y,bottom:g+S,left:m,x:m,y:g}}function oc(n){var e=Xo(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function Nf(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&e0(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Ur(n){return di(n).getComputedStyle(n)}function s5(n){return["table","td","th"].indexOf(rr(n))>=0}function mr(n){return((Jo(n)?n.ownerDocument:n.document)||window.document).documentElement}function Xa(n){return rr(n)==="html"?n:n.assignedSlot||n.parentNode||(e0(n)?n.host:null)||mr(n)}function Z7(n){return!Qi(n)||Ur(n).position==="fixed"?null:n.offsetParent}function O$(n){var e=/firefox/i.test(n0()),t=/Trident/i.test(n0());if(t&&Qi(n)){var i=Ur(n);if(i.position==="fixed")return null}var r=Xa(n);for(e0(r)&&(r=r.host);Qi(r)&&["html","body"].indexOf(rr(r))<0;){var o=Ur(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Ms(n){for(var e=di(n),t=Z7(n);t&&s5(t)&&Ur(t).position==="static";)t=Z7(t);return t&&(rr(t)==="html"||rr(t)==="body"&&Ur(t).position==="static")?e:t||O$(n)||e}function sc(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function ac(n,e,t){return Ts(n,rc(e,t))}function J7(n,e,t){var i=ac(n,e,t);return i>t?t:i}function Pf(){return{top:0,right:0,bottom:0,left:0}}function Of(n){return Object.assign({},Pf(),n)}function Rf(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var R$=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Of(typeof e!="number"?e:Rf(e,Za))};function L$(n){var e,t=n.state,i=n.name,r=n.options,o=t.elements.arrow,s=t.modifiersData.popperOffsets,l=or(t.placement),d=sc(l),m=[xi,Ti].indexOf(l)>=0,g=m?"height":"width";if(!(!o||!s)){var y=R$(r.padding,t),S=oc(o),_=d==="y"?hi:xi,A=d==="y"?Hi:Ti,w=t.rects.reference[g]+t.rects.reference[d]-s[d]-t.rects.popper[g],L=s[d]-t.rects.reference[d],F=Ms(o),k=F?d==="y"?F.clientHeight||0:F.clientWidth||0:0,W=w/2-L/2,te=y[_],le=k-S[g]-y[A],ge=k/2-S[g]/2+W,re=ac(te,ge,le),Y=d;t.modifiersData[i]=(e={},e[Y]=re,e.centerOffset=re-ge,e)}}function k$(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Nf(e.elements.popper,r)&&(e.elements.arrow=r))}var o2={name:"arrow",enabled:!0,phase:"main",fn:L$,effect:k$,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function es(n){return n.split("-")[1]}var j$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function B$(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:Ja(t*r)/r||0,y:Ja(i*r)/r||0}}function X7(n){var e,t=n.popper,i=n.popperRect,r=n.placement,o=n.variation,s=n.offsets,l=n.position,d=n.gpuAcceleration,m=n.adaptive,g=n.roundOffsets,y=n.isFixed,S=s.x,_=S===void 0?0:S,A=s.y,w=A===void 0?0:A,L=typeof g=="function"?g({x:_,y:w}):{x:_,y:w};_=L.x,w=L.y;var F=s.hasOwnProperty("x"),k=s.hasOwnProperty("y"),W=xi,te=hi,le=window;if(m){var ge=Ms(t),re="clientHeight",Y="clientWidth";if(ge===di(t)&&(ge=mr(t),Ur(ge).position!=="static"&&l==="absolute"&&(re="scrollHeight",Y="scrollWidth")),ge=ge,r===hi||(r===xi||r===Ti)&&o===Ku){te=Hi;var me=y&&ge===le&&le.visualViewport?le.visualViewport.height:ge[re];w-=me-i.height,w*=d?1:-1}if(r===xi||(r===hi||r===Hi)&&o===Ku){W=Ti;var xe=y&&ge===le&&le.visualViewport?le.visualViewport.width:ge[Y];_-=xe-i.width,_*=d?1:-1}}var V=Object.assign({position:l},m&&j$),U=g===!0?B$({x:_,y:w},di(t)):{x:_,y:w};if(_=U.x,w=U.y,d){var J;return Object.assign({},V,(J={},J[te]=k?"0":"",J[W]=F?"0":"",J.transform=(le.devicePixelRatio||1)<=1?"translate("+_+"px, "+w+"px)":"translate3d("+_+"px, "+w+"px, 0)",J))}return Object.assign({},V,(e={},e[te]=k?w+"px":"",e[W]=F?_+"px":"",e.transform="",e))}function V$(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,o=t.adaptive,s=o===void 0?!0:o,l=t.roundOffsets,d=l===void 0?!0:l,m={placement:or(e.placement),variation:es(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,X7(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,X7(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var i0={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:V$,data:{}};var s2={passive:!0};function U$(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,l=s===void 0?!0:s,d=di(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&m.forEach(function(g){g.addEventListener("scroll",t.update,s2)}),l&&d.addEventListener("resize",t.update,s2),function(){o&&m.forEach(function(g){g.removeEventListener("scroll",t.update,s2)}),l&&d.removeEventListener("resize",t.update,s2)}}var r0={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:U$,data:{}};var q$={left:"right",right:"left",bottom:"top",top:"bottom"};function o0(n){return n.replace(/left|right|bottom|top/g,function(e){return q$[e]})}var $$={start:"end",end:"start"};function a2(n){return n.replace(/start|end/g,function(e){return $$[e]})}function uc(n){var e=di(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function lc(n){return Xo(mr(n)).left+uc(n).scrollLeft}function a5(n,e){var t=di(n),i=mr(n),r=t.visualViewport,o=i.clientWidth,s=i.clientHeight,l=0,d=0;if(r){o=r.width,s=r.height;var m=Ff();(m||!m&&e==="fixed")&&(l=r.offsetLeft,d=r.offsetTop)}return{width:o,height:s,x:l+lc(n),y:d}}function u5(n){var e,t=mr(n),i=uc(n),r=(e=n.ownerDocument)==null?void 0:e.body,o=Ts(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Ts(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),l=-i.scrollLeft+lc(n),d=-i.scrollTop;return Ur(r||t).direction==="rtl"&&(l+=Ts(t.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:l,y:d}}function cc(n){var e=Ur(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function u2(n){return["html","body","#document"].indexOf(rr(n))>=0?n.ownerDocument.body:Qi(n)&&cc(n)?n:u2(Xa(n))}function Qu(n,e){var t;e===void 0&&(e=[]);var i=u2(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),o=di(i),s=r?[o].concat(o.visualViewport||[],cc(i)?i:[]):i,l=e.concat(s);return r?l:l.concat(Qu(Xa(s)))}function s0(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function H$(n,e){var t=Xo(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function eT(n,e,t){return e===Tf?s0(a5(n,t)):Jo(e)?H$(e,t):s0(u5(mr(n)))}function z$(n){var e=Qu(Xa(n)),t=["absolute","fixed"].indexOf(Ur(n).position)>=0,i=t&&Qi(n)?Ms(n):n;return Jo(i)?e.filter(function(r){return Jo(r)&&Nf(r,i)&&rr(r)!=="body"}):[]}function l5(n,e,t,i){var r=e==="clippingParents"?z$(n):[].concat(e),o=[].concat(r,[t]),s=o[0],l=o.reduce(function(d,m){var g=eT(n,m,i);return d.top=Ts(g.top,d.top),d.right=rc(g.right,d.right),d.bottom=rc(g.bottom,d.bottom),d.left=Ts(g.left,d.left),d},eT(n,s,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Lf(n){var e=n.reference,t=n.element,i=n.placement,r=i?or(i):null,o=i?es(i):null,s=e.x+e.width/2-t.width/2,l=e.y+e.height/2-t.height/2,d;switch(r){case hi:d={x:s,y:e.y-t.height};break;case Hi:d={x:s,y:e.y+e.height};break;case Ti:d={x:e.x+e.width,y:l};break;case xi:d={x:e.x-t.width,y:l};break;default:d={x:e.x,y:e.y}}var m=r?sc(r):null;if(m!=null){var g=m==="y"?"height":"width";switch(o){case oa:d[m]=d[m]-(e[g]/2-t[g]/2);break;case Ku:d[m]=d[m]+(e[g]/2-t[g]/2);break;default:}}return d}function qr(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,o=t.strategy,s=o===void 0?n.strategy:o,l=t.boundary,d=l===void 0?i5:l,m=t.rootBoundary,g=m===void 0?Tf:m,y=t.elementContext,S=y===void 0?ic:y,_=t.altBoundary,A=_===void 0?!1:_,w=t.padding,L=w===void 0?0:w,F=Of(typeof L!="number"?L:Rf(L,Za)),k=S===ic?r5:ic,W=n.rects.popper,te=n.elements[A?k:S],le=l5(Jo(te)?te:te.contextElement||mr(n.elements.popper),d,g,s),ge=Xo(n.elements.reference),re=Lf({reference:ge,element:W,strategy:"absolute",placement:r}),Y=s0(Object.assign({},W,re)),me=S===ic?Y:ge,xe={top:le.top-me.top+F.top,bottom:me.bottom-le.bottom+F.bottom,left:le.left-me.left+F.left,right:me.right-le.right+F.right},V=n.modifiersData.offset;if(S===ic&&V){var U=V[r];Object.keys(xe).forEach(function(J){var Q=[Ti,Hi].indexOf(J)>=0?1:-1,Ce=[hi,Hi].indexOf(J)>=0?"y":"x";xe[J]+=U[Ce]*Q})}return xe}function c5(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,o=t.rootBoundary,s=t.padding,l=t.flipVariations,d=t.allowedAutoPlacements,m=d===void 0?Mf:d,g=es(i),y=g?l?r2:r2.filter(function(A){return es(A)===g}):Za,S=y.filter(function(A){return m.indexOf(A)>=0});S.length===0&&(S=y);var _=S.reduce(function(A,w){return A[w]=qr(n,{placement:w,boundary:r,rootBoundary:o,padding:s})[or(w)],A},{});return Object.keys(_).sort(function(A,w){return _[A]-_[w]})}function G$(n){if(or(n)===If)return[];var e=o0(n);return[a2(n),e,a2(e)]}function W$(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,l=s===void 0?!0:s,d=t.fallbackPlacements,m=t.padding,g=t.boundary,y=t.rootBoundary,S=t.altBoundary,_=t.flipVariations,A=_===void 0?!0:_,w=t.allowedAutoPlacements,L=e.options.placement,F=or(L),k=F===L,W=d||(k||!A?[o0(L)]:G$(L)),te=[L].concat(W).reduce(function(z,ee){return z.concat(or(ee)===If?c5(e,{placement:ee,boundary:g,rootBoundary:y,padding:m,flipVariations:A,allowedAutoPlacements:w}):ee)},[]),le=e.rects.reference,ge=e.rects.popper,re=new Map,Y=!0,me=te[0],xe=0;xe<te.length;xe++){var V=te[xe],U=or(V),J=es(V)===oa,Q=[hi,Hi].indexOf(U)>=0,Ce=Q?"width":"height",X=qr(e,{placement:V,boundary:g,rootBoundary:y,altBoundary:S,padding:m}),ue=Q?J?Ti:xi:J?Hi:hi;le[Ce]>ge[Ce]&&(ue=o0(ue));var ie=o0(ue),ve=[];if(o&&ve.push(X[U]<=0),l&&ve.push(X[ue]<=0,X[ie]<=0),ve.every(function(z){return z})){me=V,Y=!1;break}re.set(V,ve)}if(Y)for(var we=A?3:1,Je=function(ee){var de=te.find(function(fe){var _e=re.get(fe);if(_e)return _e.slice(0,ee).every(function(ye){return ye})});if(de)return me=de,"break"},N=we;N>0;N--){var H=Je(N);if(H==="break")break}e.placement!==me&&(e.modifiersData[i]._skip=!0,e.placement=me,e.reset=!0)}}var l2={name:"flip",enabled:!0,phase:"main",fn:W$,requiresIfExists:["offset"],data:{_skip:!1}};function tT(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function nT(n){return[hi,Ti,Hi,xi].some(function(e){return n[e]>=0})}function Y$(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,s=qr(e,{elementContext:"reference"}),l=qr(e,{altBoundary:!0}),d=tT(s,i),m=tT(l,r,o),g=nT(d),y=nT(m);e.modifiersData[t]={referenceClippingOffsets:d,popperEscapeOffsets:m,isReferenceHidden:g,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":y})}var c2={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Y$};function K$(n,e,t){var i=or(n),r=[xi,hi].indexOf(i)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=o[0],l=o[1];return s=s||0,l=(l||0)*r,[xi,Ti].indexOf(i)>=0?{x:l,y:s}:{x:s,y:l}}function Q$(n){var e=n.state,t=n.options,i=n.name,r=t.offset,o=r===void 0?[0,0]:r,s=Mf.reduce(function(g,y){return g[y]=K$(y,e.rects,o),g},{}),l=s[e.placement],d=l.x,m=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=m),e.modifiersData[i]=s}var d2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Q$};function Z$(n){var e=n.state,t=n.name;e.modifiersData[t]=Lf({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var a0={name:"popperOffsets",enabled:!0,phase:"read",fn:Z$,data:{}};function d5(n){return n==="x"?"y":"x"}function J$(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,o=r===void 0?!0:r,s=t.altAxis,l=s===void 0?!1:s,d=t.boundary,m=t.rootBoundary,g=t.altBoundary,y=t.padding,S=t.tether,_=S===void 0?!0:S,A=t.tetherOffset,w=A===void 0?0:A,L=qr(e,{boundary:d,rootBoundary:m,padding:y,altBoundary:g}),F=or(e.placement),k=es(e.placement),W=!k,te=sc(F),le=d5(te),ge=e.modifiersData.popperOffsets,re=e.rects.reference,Y=e.rects.popper,me=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,xe=typeof me=="number"?{mainAxis:me,altAxis:me}:Object.assign({mainAxis:0,altAxis:0},me),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(ge){if(o){var J,Q=te==="y"?hi:xi,Ce=te==="y"?Hi:Ti,X=te==="y"?"height":"width",ue=ge[te],ie=ue+L[Q],ve=ue-L[Ce],we=_?-Y[X]/2:0,Je=k===oa?re[X]:Y[X],N=k===oa?-Y[X]:-re[X],H=e.elements.arrow,z=_&&H?oc(H):{width:0,height:0},ee=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Pf(),de=ee[Q],fe=ee[Ce],_e=ac(0,re[X],z[X]),ye=W?re[X]/2-we-_e-de-xe.mainAxis:Je-_e-de-xe.mainAxis,Ye=W?-re[X]/2+we+_e+fe+xe.mainAxis:N+_e+fe+xe.mainAxis,Ue=e.elements.arrow&&Ms(e.elements.arrow),ut=Ue?te==="y"?Ue.clientTop||0:Ue.clientLeft||0:0,nt=(J=V?.[te])!=null?J:0,kt=ue+ye-nt-ut,Te=ue+Ye-nt,K=ac(_?rc(ie,kt):ie,ue,_?Ts(ve,Te):ve);ge[te]=K,U[te]=K-ue}if(l){var Wt,yt=te==="x"?hi:xi,We=te==="x"?Hi:Ti,Xe=ge[le],at=le==="y"?"height":"width",st=Xe+L[yt],Et=Xe-L[We],Ht=[hi,xi].indexOf(F)!==-1,Qt=(Wt=V?.[le])!=null?Wt:0,pn=Ht?st:Xe-re[at]-Y[at]-Qt+xe.altAxis,Cn=Ht?Xe+re[at]+Y[at]-Qt-xe.altAxis:Et,kn=_&&Ht?J7(pn,Xe,Cn):ac(_?pn:st,Xe,_?Cn:Et);ge[le]=kn,U[le]=kn-Xe}e.modifiersData[i]=U}}var p2={name:"preventOverflow",enabled:!0,phase:"main",fn:J$,requiresIfExists:["offset"]};function p5(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function f5(n){return n===di(n)||!Qi(n)?uc(n):p5(n)}function X$(n){var e=n.getBoundingClientRect(),t=Ja(e.width)/n.offsetWidth||1,i=Ja(e.height)/n.offsetHeight||1;return t!==1||i!==1}function m5(n,e,t){t===void 0&&(t=!1);var i=Qi(e),r=Qi(e)&&X$(e),o=mr(e),s=Xo(n,r,t),l={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(i||!i&&!t)&&((rr(e)!=="body"||cc(o))&&(l=f5(e)),Qi(e)?(d=Xo(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):o&&(d.x=lc(o))),{x:s.left+l.scrollLeft-d.x,y:s.top+l.scrollTop-d.y,width:s.width,height:s.height}}function eH(n){var e=new Map,t=new Set,i=[];n.forEach(function(o){e.set(o.name,o)});function r(o){t.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!t.has(l)){var d=e.get(l);d&&r(d)}}),i.push(o)}return n.forEach(function(o){t.has(o.name)||r(o)}),i}function h5(n){var e=eH(n);return o5.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function g5(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function v5(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var iT={placement:"bottom",modifiers:[],strategy:"absolute"};function rT(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function dc(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,o=r===void 0?iT:r;return function(l,d,m){m===void 0&&(m=o);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},iT,o),modifiersData:{},elements:{reference:l,popper:d},attributes:{},styles:{}},y=[],S=!1,_={state:g,setOptions:function(F){var k=typeof F=="function"?F(g.options):F;w(),g.options=Object.assign({},o,g.options,k),g.scrollParents={reference:Jo(l)?Qu(l):l.contextElement?Qu(l.contextElement):[],popper:Qu(d)};var W=h5(v5([].concat(i,g.options.modifiers)));return g.orderedModifiers=W.filter(function(te){return te.enabled}),A(),_.update()},forceUpdate:function(){if(!S){var F=g.elements,k=F.reference,W=F.popper;if(rT(k,W)){g.rects={reference:m5(k,Ms(W),g.options.strategy==="fixed"),popper:oc(W)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(xe){return g.modifiersData[xe.name]=Object.assign({},xe.data)});for(var te=0;te<g.orderedModifiers.length;te++){if(g.reset===!0){g.reset=!1,te=-1;continue}var le=g.orderedModifiers[te],ge=le.fn,re=le.options,Y=re===void 0?{}:re,me=le.name;typeof ge=="function"&&(g=ge({state:g,options:Y,name:me,instance:_})||g)}}}},update:g5(function(){return new Promise(function(L){_.forceUpdate(),L(g)})}),destroy:function(){w(),S=!0}};if(!rT(l,d))return _;_.setOptions(m).then(function(L){!S&&m.onFirstUpdate&&m.onFirstUpdate(L)});function A(){g.orderedModifiers.forEach(function(L){var F=L.name,k=L.options,W=k===void 0?{}:k,te=L.effect;if(typeof te=="function"){var le=te({state:g,name:F,instance:_,options:W}),ge=function(){};y.push(le||ge)}})}function w(){y.forEach(function(L){return L()}),y=[]}return _}}var oT=dc();var tH=[r0,a0,i0,t0],sT=dc({defaultModifiers:tH});var nH=[r0,a0,i0,t0,d2,l2,p2,o2,c2],kf=dc({defaultModifiers:nH});var Zu=new Map,_5={set(n,e,t){Zu.has(n)||Zu.set(n,new Map);let i=Zu.get(n);if(!i.has(e)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(e,t)},get(n,e){return Zu.has(n)&&Zu.get(n).get(e)||null},remove(n,e){if(!Zu.has(n))return;let t=Zu.get(n);t.delete(e),t.size===0&&Zu.delete(n)}},iH=1e6,rH=1e3,P5="transitionend",RT=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),oH=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),sH=n=>{do n+=Math.floor(Math.random()*iH);while(document.getElementById(n));return n},aH=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n),i=Number.parseFloat(e),r=Number.parseFloat(t);return!i&&!r?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*rH)},LT=n=>{n.dispatchEvent(new Event(P5))},eu=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Ju=n=>eu(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(RT(n)):null,m0=n=>{if(!eu(n)||n.getClientRects().length===0)return!1;let e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){let i=n.closest("summary");if(i&&i.parentNode!==t||i===null)return!1}return e},Xu=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",kT=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){let e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?kT(n.parentNode):null},S2=()=>{},$f=n=>{n.offsetHeight},jT=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,y5=[],uH=n=>{document.readyState==="loading"?(y5.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of y5)e()}),y5.push(n)):n()},ts=()=>document.documentElement.dir==="rtl",is=n=>{uH(()=>{let e=jT();if(e){let t=n.NAME,i=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=i,n.jQueryInterface)}})},ro=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,BT=(n,e,t=!0)=>{if(!t){ro(n);return}let r=aH(e)+5,o=!1,s=({target:l})=>{l===e&&(o=!0,e.removeEventListener(P5,s),ro(n))};e.addEventListener(P5,s),setTimeout(()=>{o||LT(e)},r)},j5=(n,e,t,i)=>{let r=n.length,o=n.indexOf(e);return o===-1?!t&&i?n[r-1]:n[0]:(o+=t?1:-1,i&&(o=(o+r)%r),n[Math.max(0,Math.min(o,r-1))])},lH=/[^.]*(?=\..*)\.|.*/,cH=/\..*/,dH=/::\d+$/,b5={},aT=1,VT={mouseenter:"mouseover",mouseleave:"mouseout"},pH=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function UT(n,e){return e&&`${e}::${aT++}`||n.uidEvent||aT++}function qT(n){let e=UT(n);return n.uidEvent=e,b5[e]=b5[e]||{},b5[e]}function fH(n,e){return function t(i){return B5(i,{delegateTarget:n}),t.oneOff&&qe.off(n,i.type,e),e.apply(n,[i])}}function mH(n,e,t){return function i(r){let o=n.querySelectorAll(e);for(let{target:s}=r;s&&s!==this;s=s.parentNode)for(let l of o)if(l===s)return B5(r,{delegateTarget:s}),i.oneOff&&qe.off(n,r.type,e,t),t.apply(s,[r])}}function $T(n,e,t=null){return Object.values(n).find(i=>i.callable===e&&i.delegationSelector===t)}function HT(n,e,t){let i=typeof e=="string",r=i?t:e||t,o=zT(n);return pH.has(o)||(o=n),[i,r,o]}function uT(n,e,t,i,r){if(typeof e!="string"||!n)return;let[o,s,l]=HT(e,t,i);e in VT&&(s=(A=>function(w){if(!w.relatedTarget||w.relatedTarget!==w.delegateTarget&&!w.delegateTarget.contains(w.relatedTarget))return A.call(this,w)})(s));let d=qT(n),m=d[l]||(d[l]={}),g=$T(m,s,o?t:null);if(g){g.oneOff=g.oneOff&&r;return}let y=UT(s,e.replace(lH,"")),S=o?mH(n,t,s):fH(n,s);S.delegationSelector=o?t:null,S.callable=s,S.oneOff=r,S.uidEvent=y,m[y]=S,n.addEventListener(l,S,o)}function O5(n,e,t,i,r){let o=$T(e[t],i,r);o&&(n.removeEventListener(t,o,!!r),delete e[t][o.uidEvent])}function hH(n,e,t,i){let r=e[t]||{};for(let[o,s]of Object.entries(r))o.includes(i)&&O5(n,e,t,s.callable,s.delegationSelector)}function zT(n){return n=n.replace(cH,""),VT[n]||n}var qe={on(n,e,t,i){uT(n,e,t,i,!1)},one(n,e,t,i){uT(n,e,t,i,!0)},off(n,e,t,i){if(typeof e!="string"||!n)return;let[r,o,s]=HT(e,t,i),l=s!==e,d=qT(n),m=d[s]||{},g=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(m).length)return;O5(n,d,s,o,r?t:null);return}if(g)for(let y of Object.keys(d))hH(n,d,y,e.slice(1));for(let[y,S]of Object.entries(m)){let _=y.replace(dH,"");(!l||e.includes(_))&&O5(n,d,s,S.callable,S.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;let i=jT(),r=zT(e),o=e!==r,s=null,l=!0,d=!0,m=!1;o&&i&&(s=i.Event(e,t),i(n).trigger(s),l=!s.isPropagationStopped(),d=!s.isImmediatePropagationStopped(),m=s.isDefaultPrevented());let g=B5(new Event(e,{bubbles:l,cancelable:!0}),t);return m&&g.preventDefault(),d&&n.dispatchEvent(g),g.defaultPrevented&&s&&s.preventDefault(),g}};function B5(n,e={}){for(let[t,i]of Object.entries(e))try{n[t]=i}catch{Object.defineProperty(n,t,{configurable:!0,get(){return i}})}return n}function lT(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function E5(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}var tu={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${E5(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${E5(e)}`)},getDataAttributes(n){if(!n)return{};let e={},t=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(let i of t){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=lT(n.dataset[i])}return e},getDataAttribute(n,e){return lT(n.getAttribute(`data-bs-${E5(e)}`))}},mc=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){let i=eu(t)?tu.getDataAttribute(t,"config"):{};return Re(Re(Re(Re({},this.constructor.Default),typeof i=="object"?i:{}),eu(t)?tu.getDataAttributes(t):{}),typeof e=="object"?e:{})}_typeCheckConfig(e,t=this.constructor.DefaultType){for(let[i,r]of Object.entries(t)){let o=e[i],s=eu(o)?"element":oH(o);if(!new RegExp(r).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${s}" but expected type "${r}".`)}}},gH="5.3.3",Fo=class extends mc{constructor(e,t){super(),e=Ju(e),e&&(this._element=e,this._config=this._getConfig(t),_5.set(this._element,this.constructor.DATA_KEY,this))}dispose(){_5.remove(this._element,this.constructor.DATA_KEY),qe.off(this._element,this.constructor.EVENT_KEY);for(let e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){BT(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return _5.get(Ju(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return gH}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}},S5=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>RT(t)).join(","):null},Ft={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){let t=[],i=n.parentNode.closest(e);for(;i;)t.push(i),i=i.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!Xu(t)&&m0(t))},getSelectorFromElement(n){let e=S5(n);return e&&Ft.findOne(e)?e:null},getElementFromSelector(n){let e=S5(n);return e?Ft.findOne(e):null},getMultipleElementsFromSelector(n){let e=S5(n);return e?Ft.find(e):[]}},N2=(n,e="hide")=>{let t=`click.dismiss${n.EVENT_KEY}`,i=n.NAME;qe.on(document,t,`[data-bs-dismiss="${i}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),Xu(this))return;let o=Ft.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(o)[e]()})},vH="alert",_H="bs.alert",GT=`.${_H}`,yH=`close${GT}`,bH=`closed${GT}`,EH="fade",SH="show",x2=class n extends Fo{static get NAME(){return vH}close(){if(qe.trigger(this._element,yH).defaultPrevented)return;this._element.classList.remove(SH);let t=this._element.classList.contains(EH);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),qe.trigger(this._element,bH),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};N2(x2,"close");is(x2);var xH="button",CH="bs.button",wH=`.${CH}`,AH=".data-api",DH="active",cT='[data-bs-toggle="button"]',IH=`click${wH}${AH}`,C2=class n extends Fo{static get NAME(){return xH}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(DH))}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};qe.on(document,IH,cT,n=>{n.preventDefault();let e=n.target.closest(cT);C2.getOrCreateInstance(e).toggle()});is(C2);var TH="swipe",h0=".bs.swipe",MH=`touchstart${h0}`,FH=`touchmove${h0}`,NH=`touchend${h0}`,PH=`pointerdown${h0}`,OH=`pointerup${h0}`,RH="touch",LH="pen",kH="pointer-event",jH=40,BH={endCallback:null,leftCallback:null,rightCallback:null},VH={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},w2=class n extends mc{constructor(e,t){super(),this._element=e,!(!e||!n.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return BH}static get DefaultType(){return VH}static get NAME(){return TH}dispose(){qe.off(this._element,h0)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),ro(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=jH)return;let t=e/this._deltaX;this._deltaX=0,t&&ro(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(qe.on(this._element,PH,e=>this._start(e)),qe.on(this._element,OH,e=>this._end(e)),this._element.classList.add(kH)):(qe.on(this._element,MH,e=>this._start(e)),qe.on(this._element,FH,e=>this._move(e)),qe.on(this._element,NH,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===LH||e.pointerType===RH)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},UH="carousel",qH="bs.carousel",nl=`.${qH}`,WT=".data-api",$H="ArrowLeft",HH="ArrowRight",zH=500,jf="next",u0="prev",c0="left",b2="right",GH=`slide${nl}`,x5=`slid${nl}`,WH=`keydown${nl}`,YH=`mouseenter${nl}`,KH=`mouseleave${nl}`,QH=`dragstart${nl}`,ZH=`load${nl}${WT}`,JH=`click${nl}${WT}`,YT="carousel",m2="active",XH="slide",ez="carousel-item-end",tz="carousel-item-start",nz="carousel-item-next",iz="carousel-item-prev",KT=".active",QT=".carousel-item",rz=KT+QT,oz=".carousel-item img",sz=".carousel-indicators",az="[data-bs-slide], [data-bs-slide-to]",uz='[data-bs-ride="carousel"]',lz={[$H]:b2,[HH]:c0},cz={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},dz={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},Vf=class n extends Fo{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ft.findOne(sz,this._element),this._addEventListeners(),this._config.ride===YT&&this.cycle()}static get Default(){return cz}static get DefaultType(){return dz}static get NAME(){return UH}next(){this._slide(jf)}nextWhenVisible(){!document.hidden&&m0(this._element)&&this.next()}prev(){this._slide(u0)}pause(){this._isSliding&&LT(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){qe.one(this._element,x5,()=>this.cycle());return}this.cycle()}}to(e){let t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){qe.one(this._element,x5,()=>this.to(e));return}let i=this._getItemIndex(this._getActive());if(i===e)return;let r=e>i?jf:u0;this._slide(r,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&qe.on(this._element,WH,e=>this._keydown(e)),this._config.pause==="hover"&&(qe.on(this._element,YH,()=>this.pause()),qe.on(this._element,KH,()=>this._maybeEnableCycle())),this._config.touch&&w2.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let i of Ft.find(oz,this._element))qe.on(i,QH,r=>r.preventDefault());let t={leftCallback:()=>this._slide(this._directionToOrder(c0)),rightCallback:()=>this._slide(this._directionToOrder(b2)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),zH+this._config.interval))}};this._swipeHelper=new w2(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=lz[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let t=Ft.findOne(KT,this._indicatorsElement);t.classList.remove(m2),t.removeAttribute("aria-current");let i=Ft.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(m2),i.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;let i=this._getActive(),r=e===jf,o=t||j5(this._getItems(),i,r,this._config.wrap);if(o===i)return;let s=this._getItemIndex(o),l=_=>qe.trigger(this._element,_,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:s});if(l(GH).defaultPrevented||!i||!o)return;let m=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;let g=r?tz:ez,y=r?nz:iz;o.classList.add(y),$f(o),i.classList.add(g),o.classList.add(g);let S=()=>{o.classList.remove(g,y),o.classList.add(m2),i.classList.remove(m2,y,g),this._isSliding=!1,l(x5)};this._queueCallback(S,i,this._isAnimated()),m&&this.cycle()}_isAnimated(){return this._element.classList.contains(XH)}_getActive(){return Ft.findOne(rz,this._element)}_getItems(){return Ft.find(QT,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ts()?e===c0?u0:jf:e===c0?jf:u0}_orderToDirection(e){return ts()?e===u0?c0:b2:e===u0?b2:c0}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};qe.on(document,JH,az,function(n){let e=Ft.getElementFromSelector(this);if(!e||!e.classList.contains(YT))return;n.preventDefault();let t=Vf.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");if(i){t.to(i),t._maybeEnableCycle();return}if(tu.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});qe.on(window,ZH,()=>{let n=Ft.find(uz);for(let e of n)Vf.getOrCreateInstance(e)});is(Vf);var pz="collapse",fz="bs.collapse",Hf=`.${fz}`,mz=".data-api",hz=`show${Hf}`,gz=`shown${Hf}`,vz=`hide${Hf}`,_z=`hidden${Hf}`,yz=`click${Hf}${mz}`,C5="show",p0="collapse",h2="collapsing",bz="collapsed",Ez=`:scope .${p0} .${p0}`,Sz="collapse-horizontal",xz="width",Cz="height",wz=".collapse.show, .collapse.collapsing",R5='[data-bs-toggle="collapse"]',Az={parent:null,toggle:!0},Dz={parent:"(null|element)",toggle:"boolean"},A2=class n extends Fo{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];let i=Ft.find(R5);for(let r of i){let o=Ft.getSelectorFromElement(r),s=Ft.find(o).filter(l=>l===this._element);o!==null&&s.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Az}static get DefaultType(){return Dz}static get NAME(){return pz}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(wz).filter(l=>l!==this._element).map(l=>n.getOrCreateInstance(l,{toggle:!1}))),e.length&&e[0]._isTransitioning||qe.trigger(this._element,hz).defaultPrevented)return;for(let l of e)l.hide();let i=this._getDimension();this._element.classList.remove(p0),this._element.classList.add(h2),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let r=()=>{this._isTransitioning=!1,this._element.classList.remove(h2),this._element.classList.add(p0,C5),this._element.style[i]="",qe.trigger(this._element,gz)},s=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(r,this._element,!0),this._element.style[i]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||qe.trigger(this._element,vz).defaultPrevented)return;let t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,$f(this._element),this._element.classList.add(h2),this._element.classList.remove(p0,C5);for(let r of this._triggerArray){let o=Ft.getElementFromSelector(r);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;let i=()=>{this._isTransitioning=!1,this._element.classList.remove(h2),this._element.classList.add(p0),qe.trigger(this._element,_z)};this._element.style[t]="",this._queueCallback(i,this._element,!0)}_isShown(e=this._element){return e.classList.contains(C5)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Ju(e.parent),e}_getDimension(){return this._element.classList.contains(Sz)?xz:Cz}_initializeChildren(){if(!this._config.parent)return;let e=this._getFirstLevelChildren(R5);for(let t of e){let i=Ft.getElementFromSelector(t);i&&this._addAriaAndCollapsedClass([t],this._isShown(i))}}_getFirstLevelChildren(e){let t=Ft.find(Ez,this._config.parent);return Ft.find(e,this._config.parent).filter(i=>!t.includes(i))}_addAriaAndCollapsedClass(e,t){if(e.length)for(let i of e)i.classList.toggle(bz,!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){let t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){let i=n.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}};qe.on(document,yz,R5,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(let e of Ft.getMultipleElementsFromSelector(this))A2.getOrCreateInstance(e,{toggle:!1}).toggle()});is(A2);var dT="dropdown",Iz="bs.dropdown",hc=`.${Iz}`,V5=".data-api",Tz="Escape",pT="Tab",Mz="ArrowUp",fT="ArrowDown",Fz=2,Nz=`hide${hc}`,Pz=`hidden${hc}`,Oz=`show${hc}`,Rz=`shown${hc}`,ZT=`click${hc}${V5}`,JT=`keydown${hc}${V5}`,Lz=`keyup${hc}${V5}`,d0="show",kz="dropup",jz="dropend",Bz="dropstart",Vz="dropup-center",Uz="dropdown-center",pc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',qz=`${pc}.${d0}`,E2=".dropdown-menu",$z=".navbar",Hz=".navbar-nav",zz=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Gz=ts()?"top-end":"top-start",Wz=ts()?"top-start":"top-end",Yz=ts()?"bottom-end":"bottom-start",Kz=ts()?"bottom-start":"bottom-end",Qz=ts()?"left-start":"right-start",Zz=ts()?"right-start":"left-start",Jz="top",Xz="bottom",eG={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},tG={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},el=class n extends Fo{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Ft.next(this._element,E2)[0]||Ft.prev(this._element,E2)[0]||Ft.findOne(E2,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return eG}static get DefaultType(){return tG}static get NAME(){return dT}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Xu(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!qe.trigger(this._element,Oz,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Hz))for(let i of[].concat(...document.body.children))qe.on(i,"mouseover",S2);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(d0),this._element.classList.add(d0),qe.trigger(this._element,Rz,e)}}hide(){if(Xu(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!qe.trigger(this._element,Nz,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))qe.off(i,"mouseover",S2);this._popper&&this._popper.destroy(),this._menu.classList.remove(d0),this._element.classList.remove(d0),this._element.setAttribute("aria-expanded","false"),tu.removeDataAttribute(this._menu,"popper"),qe.trigger(this._element,Pz,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!eu(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${dT.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof f2>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:eu(this._config.reference)?e=Ju(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);let t=this._getPopperConfig();this._popper=kf(e,this._menu,t)}_isShown(){return this._menu.classList.contains(d0)}_getPlacement(){let e=this._parent;if(e.classList.contains(jz))return Qz;if(e.classList.contains(Bz))return Zz;if(e.classList.contains(Vz))return Jz;if(e.classList.contains(Uz))return Xz;let t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(kz)?t?Wz:Gz:t?Kz:Yz}_detectNavbar(){return this._element.closest($z)!==null}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(tu.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),Re(Re({},e),ro(this._config.popperConfig,[e]))}_selectMenuItem({key:e,target:t}){let i=Ft.find(zz,this._menu).filter(r=>m0(r));i.length&&j5(i,t,e===fT,!i.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===Fz||e.type==="keyup"&&e.key!==pT)return;let t=Ft.find(qz);for(let i of t){let r=n.getInstance(i);if(!r||r._config.autoClose===!1)continue;let o=e.composedPath(),s=o.includes(r._menu);if(o.includes(r._element)||r._config.autoClose==="inside"&&!s||r._config.autoClose==="outside"&&s||r._menu.contains(e.target)&&(e.type==="keyup"&&e.key===pT||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let l={relatedTarget:r._element};e.type==="click"&&(l.clickEvent=e),r._completeHide(l)}}static dataApiKeydownHandler(e){let t=/input|textarea/i.test(e.target.tagName),i=e.key===Tz,r=[Mz,fT].includes(e.key);if(!r&&!i||t&&!i)return;e.preventDefault();let o=this.matches(pc)?this:Ft.prev(this,pc)[0]||Ft.next(this,pc)[0]||Ft.findOne(pc,e.delegateTarget.parentNode),s=n.getOrCreateInstance(o);if(r){e.stopPropagation(),s.show(),s._selectMenuItem(e);return}s._isShown()&&(e.stopPropagation(),s.hide(),o.focus())}};qe.on(document,JT,pc,el.dataApiKeydownHandler);qe.on(document,JT,E2,el.dataApiKeydownHandler);qe.on(document,ZT,el.clearMenus);qe.on(document,Lz,el.clearMenus);qe.on(document,ZT,pc,function(n){n.preventDefault(),el.getOrCreateInstance(this).toggle()});is(el);var XT="backdrop",nG="fade",mT="show",hT=`mousedown.bs.${XT}`,iG={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},rG={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},D2=class extends mc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return iG}static get DefaultType(){return rG}static get NAME(){return XT}show(e){if(!this._config.isVisible){ro(e);return}this._append();let t=this._getElement();this._config.isAnimated&&$f(t),t.classList.add(mT),this._emulateAnimation(()=>{ro(e)})}hide(e){if(!this._config.isVisible){ro(e);return}this._getElement().classList.remove(mT),this._emulateAnimation(()=>{this.dispose(),ro(e)})}dispose(){this._isAppended&&(qe.off(this._element,hT),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(nG),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ju(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),qe.on(e,hT,()=>{ro(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){BT(e,this._getElement(),this._config.isAnimated)}},oG="focustrap",sG="bs.focustrap",I2=`.${sG}`,aG=`focusin${I2}`,uG=`keydown.tab${I2}`,lG="Tab",cG="forward",gT="backward",dG={autofocus:!0,trapElement:null},pG={autofocus:"boolean",trapElement:"element"},T2=class extends mc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return dG}static get DefaultType(){return pG}static get NAME(){return oG}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),qe.off(document,I2),qe.on(document,aG,e=>this._handleFocusin(e)),qe.on(document,uG,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,qe.off(document,I2))}_handleFocusin(e){let{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;let i=Ft.focusableChildren(t);i.length===0?t.focus():this._lastTabNavDirection===gT?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){e.key===lG&&(this._lastTabNavDirection=e.shiftKey?gT:cG)}},vT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_T=".sticky-top",g2="padding-right",yT="margin-right",Uf=class{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,g2,t=>t+e),this._setElementAttributes(vT,g2,t=>t+e),this._setElementAttributes(_T,yT,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,g2),this._resetElementAttributes(vT,g2),this._resetElementAttributes(_T,yT)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){let r=this.getWidth(),o=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+r)return;this._saveInitialAttribute(s,t);let l=window.getComputedStyle(s).getPropertyValue(t);s.style.setProperty(t,`${i(Number.parseFloat(l))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,t){let i=e.style.getPropertyValue(t);i&&tu.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){let i=r=>{let o=tu.getDataAttribute(r,t);if(o===null){r.style.removeProperty(t);return}tu.removeDataAttribute(r,t),r.style.setProperty(t,o)};this._applyManipulationCallback(e,i)}_applyManipulationCallback(e,t){if(eu(e)){t(e);return}for(let i of Ft.find(e,this._element))t(i)}},fG="modal",mG="bs.modal",ns=`.${mG}`,hG=".data-api",gG="Escape",vG=`hide${ns}`,_G=`hidePrevented${ns}`,eM=`hidden${ns}`,tM=`show${ns}`,yG=`shown${ns}`,bG=`resize${ns}`,EG=`click.dismiss${ns}`,SG=`mousedown.dismiss${ns}`,xG=`keydown.dismiss${ns}`,CG=`click${ns}${hG}`,bT="modal-open",wG="fade",ET="show",w5="modal-static",AG=".modal.show",DG=".modal-dialog",IG=".modal-body",TG='[data-bs-toggle="modal"]',MG={backdrop:!0,focus:!0,keyboard:!0},FG={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},hr=class n extends Fo{constructor(e,t){super(e,t),this._dialog=Ft.findOne(DG,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Uf,this._addEventListeners()}static get Default(){return MG}static get DefaultType(){return FG}static get NAME(){return fG}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||qe.trigger(this._element,tM,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(bT),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||qe.trigger(this._element,vG).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(ET),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){qe.off(window,ns),qe.off(this._dialog,ns),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new D2({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new T2({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let t=Ft.findOne(IG,this._dialog);t&&(t.scrollTop=0),$f(this._element),this._element.classList.add(ET);let i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,qe.trigger(this._element,yG,{relatedTarget:e})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){qe.on(this._element,xG,e=>{if(e.key===gG){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),qe.on(window,bG,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),qe.on(this._element,SG,e=>{qe.one(this._element,EG,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(bT),this._resetAdjustments(),this._scrollBar.reset(),qe.trigger(this._element,eM)})}_isAnimated(){return this._element.classList.contains(wG)}_triggerBackdropTransition(){if(qe.trigger(this._element,_G).defaultPrevented)return;let t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(w5)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(w5),this._queueCallback(()=>{this._element.classList.remove(w5),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){let r=ts()?"paddingLeft":"paddingRight";this._element.style[r]=`${t}px`}if(!i&&e){let r=ts()?"paddingRight":"paddingLeft";this._element.style[r]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let i=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](t)}})}};qe.on(document,CG,TG,function(n){let e=Ft.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),qe.one(e,tM,r=>{r.defaultPrevented||qe.one(e,eM,()=>{m0(this)&&this.focus()})});let t=Ft.findOne(AG);t&&hr.getInstance(t).hide(),hr.getOrCreateInstance(e).toggle(this)});N2(hr);is(hr);var NG="offcanvas",PG="bs.offcanvas",nu=`.${PG}`,nM=".data-api",OG=`load${nu}${nM}`,RG="Escape",ST="show",xT="showing",CT="hiding",LG="offcanvas-backdrop",iM=".offcanvas.show",kG=`show${nu}`,jG=`shown${nu}`,BG=`hide${nu}`,wT=`hidePrevented${nu}`,rM=`hidden${nu}`,VG=`resize${nu}`,UG=`click${nu}${nM}`,qG=`keydown.dismiss${nu}`,$G='[data-bs-toggle="offcanvas"]',HG={backdrop:!0,keyboard:!0,scroll:!1},zG={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},tl=class n extends Fo{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return HG}static get DefaultType(){return zG}static get NAME(){return NG}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||qe.trigger(this._element,kG,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Uf().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(xT);let i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(ST),this._element.classList.remove(xT),qe.trigger(this._element,jG,{relatedTarget:e})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||qe.trigger(this._element,BG).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(CT),this._backdrop.hide();let t=()=>{this._element.classList.remove(ST,CT),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Uf().reset(),qe.trigger(this._element,rM)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=()=>{if(this._config.backdrop==="static"){qe.trigger(this._element,wT);return}this.hide()},t=!!this._config.backdrop;return new D2({className:LG,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new T2({trapElement:this._element})}_addEventListeners(){qe.on(this._element,qG,e=>{if(e.key===RG){if(this._config.keyboard){this.hide();return}qe.trigger(this._element,wT)}})}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};qe.on(document,UG,$G,function(n){let e=Ft.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Xu(this))return;qe.one(e,rM,()=>{m0(this)&&this.focus()});let t=Ft.findOne(iM);t&&t!==e&&tl.getInstance(t).hide(),tl.getOrCreateInstance(e).toggle(this)});qe.on(window,OG,()=>{for(let n of Ft.find(iM))tl.getOrCreateInstance(n).show()});qe.on(window,VG,()=>{for(let n of Ft.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&tl.getOrCreateInstance(n).hide()});N2(tl);is(tl);var GG=/^aria-[\w-]*$/i,oM={"*":["class","dir","id","lang","role",GG],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},WG=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),YG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,KG=(n,e)=>{let t=n.nodeName.toLowerCase();return e.includes(t)?WG.has(t)?!!YG.test(n.nodeValue):!0:e.filter(i=>i instanceof RegExp).some(i=>i.test(t))};function QG(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);let r=new window.DOMParser().parseFromString(n,"text/html"),o=[].concat(...r.body.querySelectorAll("*"));for(let s of o){let l=s.nodeName.toLowerCase();if(!Object.keys(e).includes(l)){s.remove();continue}let d=[].concat(...s.attributes),m=[].concat(e["*"]||[],e[l]||[]);for(let g of d)KG(g,m)||s.removeAttribute(g.nodeName)}return r.body.innerHTML}var ZG="TemplateFactory",JG={allowList:oM,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},XG={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},eW={entry:"(string|element|function|null)",selector:"(string|element)"},L5=class extends mc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return JG}static get DefaultType(){return XG}static get NAME(){return ZG}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content=Re(Re({},this._config.content),e),this}toHtml(){let e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(let[r,o]of Object.entries(this._config.content))this._setContent(e,o,r);let t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},eW)}_setContent(e,t,i){let r=Ft.findOne(i,e);if(r){if(t=this._resolvePossibleFunction(t),!t){r.remove();return}if(eu(t)){this._putElementInTemplate(Ju(t),r);return}if(this._config.html){r.innerHTML=this._maybeSanitize(t);return}r.textContent=t}}_maybeSanitize(e){return this._config.sanitize?QG(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return ro(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}},tW="tooltip",nW=new Set(["sanitize","allowList","sanitizeFn"]),A5="fade",iW="modal",v2="show",rW=".tooltip-inner",AT=`.${iW}`,DT="hide.bs.modal",Bf="hover",D5="focus",oW="click",sW="manual",aW="hide",uW="hidden",lW="show",cW="shown",dW="inserted",pW="click",fW="focusin",mW="focusout",hW="mouseenter",gW="mouseleave",vW={AUTO:"auto",TOP:"top",RIGHT:ts()?"left":"right",BOTTOM:"bottom",LEFT:ts()?"right":"left"},_W={allowList:oM,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},yW={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},f0=class n extends Fo{constructor(e,t){if(typeof f2>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return _W}static get DefaultType(){return yW}static get NAME(){return tW}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),qe.off(this._element.closest(AT),DT,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=qe.trigger(this._element,this.constructor.eventName(lW)),i=(kT(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();let r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));let{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(r),qe.trigger(this._element,this.constructor.eventName(dW))),this._popper=this._createPopper(r),r.classList.add(v2),"ontouchstart"in document.documentElement)for(let l of[].concat(...document.body.children))qe.on(l,"mouseover",S2);let s=()=>{qe.trigger(this._element,this.constructor.eventName(cW)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||qe.trigger(this._element,this.constructor.eventName(aW)).defaultPrevented)return;if(this._getTipElement().classList.remove(v2),"ontouchstart"in document.documentElement)for(let r of[].concat(...document.body.children))qe.off(r,"mouseover",S2);this._activeTrigger[oW]=!1,this._activeTrigger[D5]=!1,this._activeTrigger[Bf]=!1,this._isHovered=null;let i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),qe.trigger(this._element,this.constructor.eventName(uW)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(A5,v2),t.classList.add(`bs-${this.constructor.NAME}-auto`);let i=sH(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(A5),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new L5(Yt(Re({},this._config),{content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{[rW]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(A5)}_isShown(){return this.tip&&this.tip.classList.contains(v2)}_createPopper(e){let t=ro(this._config.placement,[this,e,this._element]),i=vW[t.toUpperCase()];return kf(this._element,e,this._getPopperConfig(i))}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return ro(e,[this._element])}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return Re(Re({},t),ro(this._config.popperConfig,[t]))}_setListeners(){let e=this._config.trigger.split(" ");for(let t of e)if(t==="click")qe.on(this._element,this.constructor.eventName(pW),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(t!==sW){let i=t===Bf?this.constructor.eventName(hW):this.constructor.eventName(fW),r=t===Bf?this.constructor.eventName(gW):this.constructor.eventName(mW);qe.on(this._element,i,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusin"?D5:Bf]=!0,s._enter()}),qe.on(this._element,r,this._config.selector,o=>{let s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusout"?D5:Bf]=s._element.contains(o.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},qe.on(this._element.closest(AT),DT,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let t=tu.getDataAttributes(this._element);for(let i of Object.keys(t))nW.has(i)&&delete t[i];return e=Re(Re({},t),typeof e=="object"&&e?e:{}),e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Ju(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(e[t]=i);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};is(f0);var bW="popover",EW=".popover-header",SW=".popover-body",xW=Yt(Re({},f0.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),CW=Yt(Re({},f0.DefaultType),{content:"(null|string|element|function)"}),k5=class n extends f0{static get Default(){return xW}static get DefaultType(){return CW}static get NAME(){return bW}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[EW]:this._getTitle(),[SW]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};is(k5);var wW="scrollspy",AW="bs.scrollspy",U5=`.${AW}`,DW=".data-api",IW=`activate${U5}`,IT=`click${U5}`,TW=`load${U5}${DW}`,MW="dropdown-item",l0="active",FW='[data-bs-spy="scroll"]',I5="[href]",NW=".nav, .list-group",TT=".nav-link",PW=".nav-item",OW=".list-group-item",RW=`${TT}, ${PW} > ${TT}, ${OW}`,LW=".dropdown",kW=".dropdown-toggle",jW={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},BW={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},M2=class n extends Fo{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return jW}static get DefaultType(){return BW}static get NAME(){return wW}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Ju(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(qe.off(this._config.target,IT),qe.on(this._config.target,IT,I5,e=>{let t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();let i=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:r,behavior:"smooth"});return}i.scrollTop=r}}))}_getNewObserver(){let e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){let t=s=>this._targetLinks.get(`#${s.target.id}`),i=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(t(s))},r=(this._rootElement||document.documentElement).scrollTop,o=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(let s of e){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(s));continue}let l=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&l){if(i(s),!r)return;continue}!o&&!l&&i(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let e=Ft.find(I5,this._config.target);for(let t of e){if(!t.hash||Xu(t))continue;let i=Ft.findOne(decodeURI(t.hash),this._element);m0(i)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,i))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(l0),this._activateParents(e),qe.trigger(this._element,IW,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(MW)){Ft.findOne(kW,e.closest(LW)).classList.add(l0);return}for(let t of Ft.parents(e,NW))for(let i of Ft.prev(t,RW))i.classList.add(l0)}_clearActiveClass(e){e.classList.remove(l0);let t=Ft.find(`${I5}.${l0}`,e);for(let i of t)i.classList.remove(l0)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};qe.on(window,TW,()=>{for(let n of Ft.find(FW))M2.getOrCreateInstance(n)});is(M2);var VW="tab",UW="bs.tab",gc=`.${UW}`,qW=`hide${gc}`,$W=`hidden${gc}`,HW=`show${gc}`,zW=`shown${gc}`,GW=`click${gc}`,WW=`keydown${gc}`,YW=`load${gc}`,KW="ArrowLeft",MT="ArrowRight",QW="ArrowUp",FT="ArrowDown",T5="Home",NT="End",fc="active",PT="fade",M5="show",ZW="dropdown",sM=".dropdown-toggle",JW=".dropdown-menu",F5=`:not(${sM})`,XW='.list-group, .nav, [role="tablist"]',eY=".nav-item, .list-group-item",tY=`.nav-link${F5}, .list-group-item${F5}, [role="tab"]${F5}`,aM='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',N5=`${tY}, ${aM}`,nY=`.${fc}[data-bs-toggle="tab"], .${fc}[data-bs-toggle="pill"], .${fc}[data-bs-toggle="list"]`,qf=class n extends Fo{constructor(e){super(e),this._parent=this._element.closest(XW),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),qe.on(this._element,WW,t=>this._keydown(t)))}static get NAME(){return VW}show(){let e=this._element;if(this._elemIsActive(e))return;let t=this._getActiveElem(),i=t?qe.trigger(t,qW,{relatedTarget:e}):null;qe.trigger(e,HW,{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(fc),this._activate(Ft.getElementFromSelector(e));let i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(M5);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),qe.trigger(e,zW,{relatedTarget:t})};this._queueCallback(i,e,e.classList.contains(PT))}_deactivate(e,t){if(!e)return;e.classList.remove(fc),e.blur(),this._deactivate(Ft.getElementFromSelector(e));let i=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(M5);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),qe.trigger(e,$W,{relatedTarget:t})};this._queueCallback(i,e,e.classList.contains(PT))}_keydown(e){if(![KW,MT,QW,FT,T5,NT].includes(e.key))return;e.stopPropagation(),e.preventDefault();let t=this._getChildren().filter(r=>!Xu(r)),i;if([T5,NT].includes(e.key))i=t[e.key===T5?0:t.length-1];else{let r=[MT,FT].includes(e.key);i=j5(t,e.target,r,!0)}i&&(i.focus({preventScroll:!0}),n.getOrCreateInstance(i).show())}_getChildren(){return Ft.find(N5,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(let i of t)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let t=Ft.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){let i=this._getOuterElement(e);if(!i.classList.contains(ZW))return;let r=(o,s)=>{let l=Ft.findOne(o,i);l&&l.classList.toggle(s,t)};r(sM,fc),r(JW,M5),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(fc)}_getInnerElement(e){return e.matches(N5)?e:Ft.findOne(N5,e)}_getOuterElement(e){return e.closest(eY)||e}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};qe.on(document,GW,aM,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Xu(this)&&qf.getOrCreateInstance(this).show()});qe.on(window,YW,()=>{for(let n of Ft.find(nY))qf.getOrCreateInstance(n)});is(qf);var iY="toast",rY="bs.toast",il=`.${rY}`,oY=`mouseover${il}`,sY=`mouseout${il}`,aY=`focusin${il}`,uY=`focusout${il}`,lY=`hide${il}`,cY=`hidden${il}`,dY=`show${il}`,pY=`shown${il}`,fY="fade",OT="hide",_2="show",y2="showing",mY={animation:"boolean",autohide:"boolean",delay:"number"},hY={animation:!0,autohide:!0,delay:5e3},F2=class n extends Fo{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return hY}static get DefaultType(){return mY}static get NAME(){return iY}show(){if(qe.trigger(this._element,dY).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(fY);let t=()=>{this._element.classList.remove(y2),qe.trigger(this._element,pY),this._maybeScheduleHide()};this._element.classList.remove(OT),$f(this._element),this._element.classList.add(_2,y2),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||qe.trigger(this._element,lY).defaultPrevented)return;let t=()=>{this._element.classList.add(OT),this._element.classList.remove(y2,_2),qe.trigger(this._element,cY)};this._element.classList.add(y2),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(_2),super.dispose()}isShown(){return this._element.classList.contains(_2)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}let i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){qe.on(this._element,oY,e=>this._onInteraction(e,!0)),qe.on(this._element,sY,e=>this._onInteraction(e,!1)),qe.on(this._element,aY,e=>this._onInteraction(e,!0)),qe.on(this._element,uY,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};N2(F2);is(F2);var bn=class n{constructor(e){this._HttpClient=e}baseURL=ui.apiUrl;getParentAccounts(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(this.baseURL+"/accounts/main",{headers:t})}getAccountsByParent(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(this.baseURL+"/accounts/by-parent/"+e,{headers:i})}getParentAccount(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(this.baseURL+"/accounts/get-parent/"+e,{headers:i})}addAccount(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.post(`${this.baseURL}/accounts`,e,{headers:i})}viewAllCompanyAccounts(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/accounts/company-accounts`,{headers:t})}viewAllExpensesAccounts(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/accounts/expenses-accounts`,{headers:t})}viewAllCustomerAccounts(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/accounts/customer-accounts`,{headers:t})}deleteAccount(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.delete(`${this.baseURL}/accounts/${e}`,{headers:i})}getAccountById(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(this.baseURL+"/accounts/"+e,{headers:i})}updateAccount(e,t){let i=localStorage.getItem("Gtoken"),r=new Le().set("Authorization",`Bearer ${i}`);return t.append("_method","PUT"),this._HttpClient.post(`${this.baseURL}/accounts/${e}`,t,{headers:r})}updateTaxRate(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.post(`${this.baseURL}/tax_rate/update`,e,{headers:i})}getTaxRate(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/tax_rate/get`,{headers:t})}static \u0275fac=function(t){return new(t||n)(Ge(ni))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var gY=n=>({collapse:n,"d-md-block":!0}),uM=n=>({$implicit:n});function vY(n,e){n&1&&(u(0,"ul",28)(1,"li",29)(2,"a",30),c(3,"\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u0648\u0646"),a()()())}function _Y(n,e){if(n&1){let t=ht();u(0,"li",22)(1,"a",23)(2,"div",24),Z("click",function(){rt(t);let r=q();return ot(r.toggleDropdown("HRM"))}),M(3,"i",25),u(4,"span"),c(5," \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0648\u0627\u0631\u062F \u0627\u0644\u0628\u0634\u0631\u064A\u0629"),a(),M(6,"i",26),a()(),D(7,vY,4,0,"ul",27),a()}if(n&2){let t=q();f(6),E("ngClass",t.isDropdownOpen("HRM")?"fa-angle-down":"fa-chevron-left"),f(),E("ngIf",t.isDropdownOpen("HRM"))}}function yY(n,e){n&1&&(u(0,"ul",28)(1,"li",29)(2,"a",32),c(3,"\u0627\u0644\u0645\u0646\u062A\u062C\u0627\u062A"),a()(),u(4,"li",29)(5,"a",33),c(6,"\u0627\u0644\u0637\u0631\u0645\u0628\u0627\u062A"),a()()())}function bY(n,e){if(n&1){let t=ht();u(0,"li",22)(1,"a",23)(2,"div",24),Z("click",function(){rt(t);let r=q();return ot(r.toggleDropdown("products"))}),M(3,"i",31),u(4,"span"),c(5,"\u0627\u0644\u0645\u062E\u0632\u0648\u0646"),a(),M(6,"i",26),a()(),D(7,yY,7,0,"ul",27),a()}if(n&2){let t=q();f(6),E("ngClass",t.isDropdownOpen("products")?"fa-angle-down":"fa-chevron-left"),f(),E("ngIf",t.isDropdownOpen("products"))}}function EY(n,e){n&1&&(u(0,"li",29)(1,"a",36),c(2,"\u062C\u0645\u064A\u0639 \u0627\u0644\u0648\u0631\u062F\u064A\u0627\u062A"),a()())}function SY(n,e){n&1&&(u(0,"li",29)(1,"a",37),c(2,"\u0627\u0644\u0648\u0631\u062F\u064A\u0627\u062A \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u0627\u0644\u0639\u0627\u0645\u0644"),a()())}function xY(n,e){if(n&1&&(u(0,"ul",28),D(1,EY,3,0,"li",35)(2,SY,3,0,"li",35),a()),n&2){let t=q(2);f(),E("ngIf",t.userRole==="admin"||t.userRole==="supervisor"),f(),E("ngIf",t.userRole==="worker")}}function CY(n,e){if(n&1){let t=ht();u(0,"li",22)(1,"a",23)(2,"div",24),Z("click",function(){rt(t);let r=q();return ot(r.toggleDropdown("Shifts"))}),M(3,"i",34),u(4,"span"),c(5,"\u0627\u0644\u0648\u0631\u062F\u064A\u0627\u062A"),a(),M(6,"i",26),a()(),D(7,xY,3,2,"ul",27),a()}if(n&2){let t=q();f(6),E("ngClass",t.isDropdownOpen("Shifts")?"fa-angle-down":"fa-chevron-left"),f(),E("ngIf",t.isDropdownOpen("Shifts"))}}function wY(n,e){n&1&&(u(0,"ul",28)(1,"li",29)(2,"a",39),c(3,"\u0633\u0646\u062F \u0642\u0628\u0636"),a(),u(4,"a",40),c(5,"\u0633\u0646\u062F \u062F\u0641\u0639"),a()()())}function AY(n,e){if(n&1){let t=ht();u(0,"li",22)(1,"a",23)(2,"div",24),Z("click",function(){rt(t);let r=q();return ot(r.toggleDropdown("Paymnet"))}),M(3,"i",38),u(4,"span"),c(5,"\u0633\u0646\u062F \u0642\u0628\u0636/\u062F\u0641\u0639"),a(),M(6,"i",26),a()(),D(7,wY,6,0,"ul",27),a()}if(n&2){let t=q();f(6),E("ngClass",t.isDropdownOpen("Paymnet")?"fa-angle-down":"fa-chevron-left"),f(),E("ngIf",t.isDropdownOpen("Paymnet"))}}function DY(n,e){if(n&1){let t=ht();u(0,"li",22)(1,"a",41),Z("click",function(){rt(t);let r=q();return ot(r.openModal("accountingModal"))}),u(2,"div",42),M(3,"i",43),u(4,"span"),c(5,"\u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629"),a(),M(6,"i",26),a()()()}if(n&2){let t=q();f(6),E("ngClass",t.isDropdownOpen("accounting")?"fa-angle-down":"fa-chevron-left")}}function IY(n,e){}function TY(n,e){if(n&1&&(no(0),D(1,IY,0,0,"ng-template",45),io()),n&2){let t=e.$implicit;q(4);let i=Pp(27);f(),E("ngTemplateOutlet",i)("ngTemplateOutletContext",mn(2,uM,t))}}function MY(n,e){if(n&1&&(no(0),D(1,TY,2,4,"ng-container",17),io()),n&2){let t=q(2).$implicit;f(),E("ngForOf",t.children)}}function FY(n,e){if(n&1&&(no(0),u(1,"li",22)(2,"a",46),c(3),a()(),io()),n&2){let t=q(2).$implicit;f(2),E("routerLink","accounting/"+t.id),f(),C(t.account_name)}}function NY(n,e){if(n&1&&(u(0,"ul",28),D(1,MY,2,1,"ng-container",44)(2,FY,4,2,"ng-container",44),a()),n&2){let t=q().$implicit;f(),E("ngIf",(t.children==null?null:t.children.length)>0),f(),E("ngIf",!(t.children!=null&&t.children.length))}}function PY(n,e){if(n&1){let t=ht();no(0),u(1,"li",22)(2,"div",24),Z("click",function(){let r=rt(t).$implicit,o=q();return ot(o.toggleDropdown(r.id))}),u(3,"span"),c(4),a(),M(5,"i",26),a(),D(6,NY,3,2,"ul",27),a(),io()}if(n&2){let t=e.$implicit,i=q();f(4),C(t.account_name),f(),E("ngClass",i.isDropdownOpen(t.id)?"fa-angle-down":"fa-chevron-left"),f(),E("ngIf",i.isDropdownOpen(t.id))}}function OY(n,e){}function RY(n,e){if(n&1&&(no(0),D(1,OY,0,0,"ng-template",45),io()),n&2){let t=e.$implicit;q(4);let i=Pp(27);f(),E("ngTemplateOutlet",i)("ngTemplateOutletContext",mn(2,uM,t))}}function LY(n,e){if(n&1&&(no(0),D(1,RY,2,4,"ng-container",17),io()),n&2){let t=q(2).$implicit;f(),E("ngForOf",t.children)}}function kY(n,e){if(n&1&&(no(0),u(1,"li",22)(2,"a",46),c(3),a()(),io()),n&2){let t=q(2).$implicit;f(2),E("routerLink","accounting/"+t.id),f(),C(t.account_name)}}function jY(n,e){if(n&1&&(u(0,"ul",28),D(1,LY,2,1,"ng-container",44)(2,kY,4,2,"ng-container",44),a()),n&2){let t=q().$implicit;f(),E("ngIf",(t.children==null?null:t.children.length)>0),f(),E("ngIf",!(t.children!=null&&t.children.length))}}function BY(n,e){if(n&1){let t=ht();u(0,"li",29)(1,"div",24),Z("click",function(){rt(t);let r=q();return ot(r.toggleDropdown("account_{{account.id}}"))}),u(2,"span"),c(3),a(),M(4,"i",26),a(),D(5,jY,3,2,"ul",27),a()}if(n&2){let t=e.$implicit,i=q();f(3),Se("*",t.account_name,""),f(),E("ngClass",i.isDropdownOpen("account_{{account.id}}")?"fa-angle-down":"fa-chevron-left"),f(),E("ngIf",i.isDropdownOpen("account_{{account.id}}"))}}function VY(n,e){n&1&&(u(0,"li",29)(1,"a",47),c(2,"\u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A"),a()())}function UY(n,e){n&1&&(u(0,"li",29)(1,"a",48),c(2,"\u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641"),a()())}function qY(n,e){n&1&&(u(0,"li",29)(1,"a",49),c(2,"\u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A"),a()())}function $Y(n,e){if(n&1&&(u(0,"ul",28),D(1,VY,3,0,"li",35)(2,UY,3,0,"li",35)(3,qY,3,0,"li",35),a()),n&2){let t=q(2);f(),E("ngIf",t.userRole==="admin"||t.userRole==="accountant"),f(),E("ngIf",t.userRole==="admin"||t.userRole==="accountant"),f(),E("ngIf",t.userRole==="admin"||t.userRole==="accountant"||t.userRole==="worker"||t.userRole==="supervisor")}}function HY(n,e){if(n&1){let t=ht();u(0,"li",22)(1,"a",23)(2,"div",24),Z("click",function(){rt(t);let r=q();return ot(r.toggleDropdown("invoices"))}),M(3,"i",38),u(4,"span"),c(5,"\u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631"),a(),M(6,"i",26),a()(),D(7,$Y,4,3,"ul",27),a()}if(n&2){let t=q();f(6),E("ngClass",t.isDropdownOpen("invoices")?"fa-angle-down":"fa-chevron-left"),f(),E("ngIf",t.isDropdownOpen("invoices"))}}function zY(n,e){n&1&&(u(0,"ul",28)(1,"li",29)(2,"a",51),c(3,"\u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0627\u062A"),a()()())}function GY(n,e){if(n&1){let t=ht();u(0,"li",22)(1,"a",23)(2,"div",24),Z("click",function(){rt(t);let r=q();return ot(r.toggleDropdown("equation"))}),M(3,"i",50),u(4,"span"),c(5,"\u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0627\u062A"),a(),M(6,"i",26),a()(),D(7,zY,4,0,"ul",27),a()}if(n&2){let t=q();f(6),E("ngClass",t.isDropdownOpen("equation")?"fa-angle-down":"fa-chevron-left"),f(),E("ngIf",t.isDropdownOpen("equation"))}}function WY(n,e){n&1&&(u(0,"ul",28)(1,"li",29)(2,"a",52),c(3,"\u062A\u0642\u0627\u0631\u064A\u0631 \u0627\u0644\u0645\u062E\u0627\u0632\u0646"),a()(),u(4,"li",29)(5,"a",53),c(6,"\u062A\u0642\u0627\u0631\u064A\u0631 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A "),a()(),u(7,"li",29)(8,"a",54),c(9,"\u062A\u0642\u0627\u0631\u064A\u0631 \u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 "),a()(),u(10,"li",29)(11,"a",55),c(12,"\u062A\u0642\u0627\u0631\u064A\u0631 \u0645\u0628\u064A\u0639\u0627\u062A \u0627\u0644\u0639\u0645\u0644\u0627\u0621 "),a()(),u(13,"li",29)(14,"a",56),c(15,"\u062A\u0642\u0627\u0631\u064A\u0631 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A "),a()(),u(16,"li",29)(17,"a",57),c(18,"\u062A\u0642\u0627\u0631\u064A\u0631 \u0627\u0644\u0633\u0646\u062F\u0627\u062A \u0635\u0631\u0641/\u0642\u0628\u0636 "),a()()())}function YY(n,e){if(n&1){let t=ht();u(0,"li",22)(1,"a",23)(2,"div",24),Z("click",function(){rt(t);let r=q();return ot(r.toggleDropdown("main_reports"))}),M(3,"i",50),u(4,"span"),c(5,"\u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631"),a(),M(6,"i",26),a()(),D(7,WY,19,0,"ul",27),a()}if(n&2){let t=q();f(6),E("ngClass",t.isDropdownOpen("main_reports")?"fa-angle-down":"fa-chevron-left"),f(),E("ngIf",t.isDropdownOpen("main_reports"))}}function KY(n,e){n&1&&(u(0,"ul",28)(1,"li",29)(2,"a",58),c(3,"\u0625\u064A\u0636\u0627\u062D\u0627\u062A \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062F\u062E\u0644 \u0627\u0644\u0639\u0627\u0645"),a()(),u(4,"li",29)(5,"a",59),c(6,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062F\u062E\u0644 \u0627\u0644\u0639\u0627\u0645"),a()(),u(7,"li",29)(8,"a",60),c(9,"\u0625\u064A\u0636\u0627\u062D\u0627\u062A \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0631\u0643\u0632 \u0627\u0644\u0645\u0627\u0644\u064A"),a()(),u(10,"li",29)(11,"a",61),c(12,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0631\u0643\u0632 \u0627\u0644\u0645\u0627\u0644\u064A"),a()(),u(13,"li",29)(14,"a",62),c(15," \u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0633\u0646\u0629"),a()()())}function QY(n,e){if(n&1){let t=ht();u(0,"li",22)(1,"a",23)(2,"div",24),Z("click",function(){rt(t);let r=q();return ot(r.toggleDropdown("reports"))}),M(3,"i",43),u(4,"span"),c(5,"\u0627\u0644\u0642\u0648\u0627\u0626\u0645 \u0627\u0644\u0645\u0627\u0644\u064A\u0647"),a(),M(6,"i",26),a()(),D(7,KY,16,0,"ul",27),a()}if(n&2){let t=q();f(6),E("ngClass",t.isDropdownOpen("reports")?"fa-angle-down":"fa-chevron-left"),f(),E("ngIf",t.isDropdownOpen("reports"))}}function ZY(n,e){n&1&&(u(0,"ul",28)(1,"li",29)(2,"a",63),c(3,"\u0627\u0644\u0627\u0639\u062F\u0627\u062F\u0627\u062A"),a()()())}function JY(n,e){if(n&1){let t=ht();u(0,"li",22)(1,"a",23)(2,"div",24),Z("click",function(){rt(t);let r=q();return ot(r.toggleDropdown("updateSettings"))}),M(3,"i",34),u(4,"span"),c(5,"\u0627\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0646\u0638\u0627\u0645"),a(),M(6,"i",26),a()(),D(7,ZY,4,0,"ul",27),a()}if(n&2){let t=q();f(6),E("ngClass",t.isDropdownOpen("updateSettings")?"fa-angle-down":"fa-chevron-left"),f(),E("ngIf",t.isDropdownOpen("updateSettings"))}}var P2=class n{constructor(e,t){this.router=e;this._AccountingService=t}isSidebarOpen=!1;dropdownStates={};accounts;userRole=null;openModal(e){let t=document.getElementById(e);t&&new hr(t).show()}closeModal(e){let t=document.getElementById(e);t&&hr.getInstance(t)?.hide()}isDropdownOpen(e){return this.dropdownStates[e]||!1}toggleDropdown(e){this.dropdownStates[e]=!this.dropdownStates[e]}ngOnInit(){this.getParentAccounts(),this.getUserRole()}getParentAccounts(){this._AccountingService.getParentAccounts().subscribe({next:e=>{e&&(this.accounts=e.data,console.log(this.accounts))},error:e=>{console.error(e)}})}getUserRole(){let e=localStorage.getItem("userRole");e?this.userRole=Zo.decode(e):this.userRole=null}toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}static \u0275fac=function(t){return new(t||n)(O(Me),O(bn))};static \u0275cmp=Ae({type:n,selectors:[["app-dashboard"]],decls:36,vars:14,consts:[["accountTemplate",""],["id","dashboard"],[1,"container-fluid"],[1,"row"],["type","button",1,"btn","btn-white","d-md-none","mb-2",3,"click"],[1,"fa-solid","fa-bars"],["id","sidebarMenu",1,"col-md-2",3,"ngClass"],[1,"nav","flex-column","sidebar"],["class","nav-item",4,"ngIf"],["id","accountingModal","tabindex","-1","aria-labelledby","accountingModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg","d-flex","align-items-center","justify-content-center"],[1,"modal-content"],[1,"modal-header","d-flex","justify-content-between","align-items-center","w-100"],["id","accountingModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close","ms-3",3,"click"],[1,"modal-body"],[1,"nav","flex-column"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-10","profile-content","vh-100"],[1,"container","mycontainer"],[1,"nav-item"],[1,"nav-link"],[1,"d-flex","justify-content-between","align-items-center",3,"click"],[1,"fa-regular","fa-user"],[1,"fa-solid",3,"ngClass"],["class","nav flex-column ms-3",4,"ngIf"],[1,"nav","flex-column","ms-3"],[1,"nav-item","nested"],["routerLinkActive","active","routerLink","users",1,"nav-link"],[1,"fa-solid","fa-cash-register"],["routerLinkActive","active","routerLink","products",1,"nav-link"],["routerLinkActive","active","routerLink","machines",1,"nav-link"],[1,"fa-solid","fa-shuffle"],["class","nav-item nested",4,"ngIf"],["routerLinkActive","active","routerLink","shifts",1,"nav-link"],["routerLinkActive","active","routerLink","showShiftWorker",1,"nav-link"],[1,"fa-solid","fa-file-invoice"],["routerLinkActive","active","routerLink","paymentDocument/receipt",1,"nav-link"],["routerLinkActive","active","routerLink","paymentDocument/payment",1,"nav-link"],[1,"nav-link",3,"click"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-file-invoice-dollar"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"nav-link",3,"routerLink"],["routerLinkActive","active","routerLink","purchaseInvoices",1,"nav-link"],["routerLinkActive","active","routerLink","expensesInvoices",1,"nav-link"],["routerLinkActive","active","routerLink","salesInvoices",1,"nav-link"],[1,"fa-solid","fa-equals"],["routerLinkActive","active","routerLink","equations",1,"nav-link"],["routerLinkActive","active","routerLink","product/reports",1,"nav-link"],["routerLinkActive","active","routerLink","shift/reports",1,"nav-link"],["routerLinkActive","active","routerLink","expenses/reports",1,"nav-link"],["routerLinkActive","active","routerLink","sales/reports",1,"nav-link"],["routerLinkActive","active","routerLink","purchase/reports",1,"nav-link"],["routerLinkActive","active","routerLink","document/reports",1,"nav-link"],["routerLinkActive","active","routerLink","report1",1,"nav-link"],["routerLinkActive","active","routerLink","report2",1,"nav-link"],["routerLinkActive","active","routerLink","report3",1,"nav-link"],["routerLinkActive","active","routerLink","report4",1,"nav-link"],["routerLinkActive","active","routerLink","report5",1,"nav-link"],["routerLinkActive","active","routerLink","updateSettings",1,"nav-link"]],template:function(t,i){if(t&1){let r=ht();M(0,"app-header"),u(1,"section",1)(2,"div",2)(3,"div",3)(4,"button",4),Z("click",function(){return rt(r),ot(i.toggleSidebar())}),M(5,"i",5),a(),u(6,"div",6)(7,"ul",7),D(8,_Y,8,2,"li",8)(9,bY,8,2,"li",8)(10,CY,8,2,"li",8)(11,AY,8,2,"li",8)(12,DY,7,1,"li",8),u(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"h5",13),c(18,"\u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629"),a(),u(19,"button",14),Z("click",function(){return rt(r),ot(i.closeModal("accountingModal"))}),a()(),u(20,"div",15)(21,"ul",16),D(22,PY,7,3,"ng-container",17),a()(),u(23,"div",18)(24,"button",19),Z("click",function(){return rt(r),ot(i.closeModal("accountingModal"))}),c(25,"\u0625\u063A\u0644\u0627\u0642"),a()()()()(),D(26,BY,6,3,"ng-template",null,0,Lg)(28,HY,8,2,"li",8)(29,GY,8,2,"li",8)(30,YY,8,2,"li",8)(31,QY,8,2,"li",8)(32,JY,8,2,"li",8),a()(),u(33,"div",20)(34,"div",21),M(35,"router-outlet"),a()()()()()}t&2&&(f(6),E("ngClass",mn(12,gY,!i.isSidebarOpen)),f(2),E("ngIf",i.userRole==="admin"),f(),E("ngIf",i.userRole==="admin"),f(),E("ngIf",i.userRole==="admin"||i.userRole==="accountant"||i.userRole==="worker"||i.userRole==="supervisor"),f(),E("ngIf",i.userRole==="admin"||i.userRole==="accountant"),f(),E("ngIf",i.userRole==="accountant"||i.userRole==="admin"),f(10),E("ngForOf",i.accounts),f(6),E("ngIf",i.userRole==="admin"||i.userRole==="accountant"||i.userRole==="worker"||i.userRole==="supervisor"),f(),E("ngIf",i.userRole==="admin"),f(),E("ngIf",i.userRole==="admin"||i.userRole==="accountant"),f(),E("ngIf",i.userRole==="admin"||i.userRole==="accountant"),f(),E("ngIf",i.userRole==="admin"))},dependencies:[i2,cf,xt,Xt,Ne,jA,He,tt,BA,qi,wt,Ct],styles:["*[_ngcontent-%COMP%]{direction:rtl!important;box-sizing:border-box}#dashboard[_ngcontent-%COMP%]{min-height:100vh;font-family:Poppins,sans-serif}.sidebar[_ngcontent-%COMP%]{padding:10px 15px}.nav-item[_ngcontent-%COMP%]{margin-bottom:10px}.nav-link[_ngcontent-%COMP%]{padding:12px 10px;border-radius:8px;color:#145388;font-weight:500;text-decoration:none;transition:background .3s ease,color .3s ease}.nav-link[_ngcontent-%COMP%]:hover, .nav-link.active[_ngcontent-%COMP%]{background-color:#145388;color:#fff!important}.nested[_ngcontent-%COMP%]{padding-left:20px}.profile-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 2px 5px #0000001a;padding:20px}.btn-primary[_ngcontent-%COMP%]{background-color:#145388;border:none;color:#fff;border-radius:8px;padding:8px 15px}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0f3d73}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{border-right:none;margin-bottom:20px}}.modal-content[_ngcontent-%COMP%]{border-radius:15px;box-shadow:0 4px 12px #0000001a}.modal-header[_ngcontent-%COMP%]{background-color:#145388;color:#fff;padding:20px 5px;border-radius:15px 15px 0 0}.modal-body[_ngcontent-%COMP%]{padding:20px;background-color:#f9f9f9}.modal-body[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:10px 0}.modal-footer[_ngcontent-%COMP%]{background-color:#f1f1f1;padding:15px;border-radius:0 0 15px 15px}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#145388;color:#fff;border-radius:8px;padding:10px 15px}.modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#0f3d73}.modal-body[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .3s ease}.modal-body[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background-color:#e2e6ea}.nav-item[_ngcontent-%COMP%]   .fa-solid[_ngcontent-%COMP%]{transition:transform .3s ease}.nav-item[_ngcontent-%COMP%]   .fa-angle-down[_ngcontent-%COMP%]{transform:rotate(3deg)}.nav-item[_ngcontent-%COMP%]   .fa-chevron-left[_ngcontent-%COMP%]{transform:rotate(0)}.nested[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-size:14px;color:#555;padding:8px 15px;transition:background-color .3s ease}.nested[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#ffb347;color:#fff}.nested[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#145388;color:#fff}.nested[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#ffb347;color:#145388}@media (max-width: 768px){.modal-dialog[_ngcontent-%COMP%]{width:100%;max-width:500px}}"]})};var XY=n=>["/dashboard/showUser",n],eK=n=>["/dashboard/updateUser",n];function tK(n,e){if(n&1){let t=ht();u(0,"tr")(1,"th",13),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td"),M(10,"img",14),a(),u(11,"td")(12,"div",15)(13,"a",16),M(14,"i",17),a(),u(15,"a",16),M(16,"i",18),a(),u(17,"i",19),Z("click",function(){let r=rt(t).$implicit,o=q();return ot(o.deleteUser(r.id))}),a()()()()}if(n&2){let t=e.$implicit,i=e.index;f(2),C(i+1),f(2),C(t.name),f(2),C(t.username),f(2),C(t.role),f(2),Np("alt",t.name||"\u0635\u0648\u0631\u0629 \u0627\u0641\u062A\u0631\u0627\u0636\u064A\u0629"),E("src",t.image?t.image:"images/default.jpg",On),f(3),E("routerLink",mn(8,XY,t.id)),f(2),E("routerLink",mn(10,eK,t.id))}}var O2=class n{constructor(e,t,i){this._UserServicev=e;this.router=t;this.toastr=i}users=[];filteredUsers=[];searchQuery="";ngOnInit(){this.loadUsers()}loadUsers(){this._UserServicev.viewAllUsers().subscribe({next:e=>{e&&(console.log(e),this.users=e.data,this.filteredUsers=this.users)},error:e=>{console.error(e)}})}onSearch(){let e=this.searchQuery.toLowerCase();this.filteredUsers=this.users.filter(t=>t.name.toLowerCase().includes(e)||t.username.toLowerCase().includes(e)||t.role.toLowerCase().includes(e))}deleteUser(e){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u061F")&&this._UserServicev.deleteUser(e).subscribe({next:t=>{t&&(this.router.navigate(["/dashboard/users"]),this.toastr.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u0646\u062C\u0627\u062D"),this.loadUsers())},error:t=>{console.error(t),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645.")}})}static \u0275fac=function(t){return new(t||n)(O($i),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-users"]],decls:34,vars:2,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],["routerLink","/dashboard/addUser",1,"nav-link"],[1,"fa-solid","fa-plus","text-white","iconPlus","rounded"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"fw-bold"],["type","search","placeholder","\u0627\u0628\u062D\u062B \u0628\u0627\u0644\u0627\u0633\u0645\u060C \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u060C \u0623\u0648 \u0627\u0644\u062F\u0648\u0631","aria-label","\u0628\u062D\u062B",1,"form-control","search","w-25",3,"ngModelChange","input","ngModel"],[1,"table-responsive"],[1,"table","mt-3"],["scope","col",1,"bg-light"],[4,"ngFor","ngForOf"],["scope","row"],["width","50","height","50",3,"src","alt"],[1,"d-flex","justify-content-around","align-items-center"],[1,"nav-link",3,"routerLink"],[1,"fa-solid","fa-eye","btn1","bg-primary","rounded"],[1,"fa-solid","fa-pencil","btn1","bg-success","rounded"],[1,"fa-solid","fa-trash-can","btn1","bg-danger","rounded",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646"),a(),u(4,"span",1),c(5,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(6,"i",2),c(7," \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"),a()(),u(8,"a",3),M(9,"i",4),a()(),u(10,"div",5)(11,"div",6)(12,"div",0)(13,"span",7),c(14,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646"),a(),u(15,"input",8),Tt("ngModelChange",function(o){return Pt(i.searchQuery,o)||(i.searchQuery=o),o}),Z("input",function(){return i.onSearch()}),a()()(),u(16,"div",9)(17,"table",10)(18,"thead")(19,"tr")(20,"th",11),c(21,"#"),a(),u(22,"th",11),c(23,"\u0627\u0644\u0627\u0633\u0645"),a(),u(24,"th",11),c(25,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"),a(),u(26,"th",11),c(27,"\u0627\u0644\u062F\u0648\u0631"),a(),u(28,"th",11),c(29,"\u0627\u0644\u0635\u0648\u0631\u0629"),a(),u(30,"th",11),c(31,"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"),a()()(),u(32,"tbody"),D(33,tK,18,12,"tr",12),a()()()()),t&2&&(f(15),It("ngModel",i.searchQuery),f(18),E("ngForOf",i.filteredUsers))},dependencies:[Ne,He,wt,Ct,Xt,Ze,et,xn],styles:["span[_ngcontent-%COMP%]{font-size:12px}.iconPlus[_ngcontent-%COMP%]{background-color:#145388;padding:11px;font-size:10px}.vendortable[_ngcontent-%COMP%]{background-color:#fff}.search[_ngcontent-%COMP%]{width:20%}.search[_ngcontent-%COMP%]{border-radius:20px;padding:.5rem 1rem;max-width:300px}.btn1[_ngcontent-%COMP%]{color:#fff;padding:5px}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table[_ngcontent-%COMP%]{min-width:100%}@media (max-width: 768px){.table[_ngcontent-%COMP%]{font-size:12px}}thead[_ngcontent-%COMP%]{background-color:#000!important}tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}i[_ngcontent-%COMP%]{cursor:pointer}"]})};function nK(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0627\u0633\u0645 \u0645\u0637\u0644\u0648\u0628"),a())}function iK(n,e){n&1&&(u(0,"p"),c(1,"\u0623\u0642\u0635\u0649 \u0637\u0648\u0644 \u0647\u0648 255 \u062D\u0631\u0641\u064B\u0627"),a())}function rK(n,e){if(n&1&&(u(0,"div",35),D(1,nK,2,0,"p",36)(2,iK,2,0,"p",36),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.userForm.get("name"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.userForm.get("name"))==null?null:i.getError("maxLength"))}}function oK(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0637\u0644\u0648\u0628"),a())}function sK(n,e){n&1&&(u(0,"p"),c(1,"\u0623\u0642\u0635\u0649 \u0637\u0648\u0644 \u0647\u0648 255 \u062D\u0631\u0641\u064B\u0627"),a())}function aK(n,e){if(n&1&&(u(0,"div",35),D(1,oK,2,0,"p",36)(2,sK,2,0,"p",36),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.userForm.get("username"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.userForm.get("username"))==null?null:i.getError("maxLength"))}}function uK(n,e){n&1&&(u(0,"p"),c(1,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u0637\u0644\u0648\u0628\u0629"),a())}function lK(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0637\u0648\u0644 \u0647\u0648 8"),a())}function cK(n,e){if(n&1&&(u(0,"div",35),D(1,uK,2,0,"p",36)(2,lK,2,0,"p",36),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.userForm.get("password"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.userForm.get("password"))==null?null:i.getError("minLength"))}}function dK(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062F\u0648\u0631 \u0645\u0637\u0644\u0648\u0628"),a())}function pK(n,e){if(n&1&&(u(0,"div",35),D(1,dK,2,0,"p",36),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.userForm.get("role"))==null?null:t.hasError("required"))}}function fK(n,e){n&1&&(u(0,"p"),c(1,"\u0635\u064A\u063A\u0629 \u0627\u0644\u0635\u0648\u0631\u0629 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D\u0629"),a())}function mK(n,e){n&1&&(u(0,"p"),c(1,"\u062D\u062C\u0645 \u0627\u0644\u0645\u0644\u0641 \u0643\u0628\u064A\u0631 \u062C\u062F\u064B\u0627 (\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649: 2 \u0645\u064A\u062C\u0627\u0628\u0627\u064A\u062A)"),a())}function hK(n,e){if(n&1&&(u(0,"div",35),D(1,fK,2,0,"p",36)(2,mK,2,0,"p",36),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.userForm.get("image"))==null?null:t.getError("invalidFileType")),f(),E("ngIf",(i=r.userForm.get("image"))==null?null:i.getError("fileTooLarge"))}}function gK(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function vK(n,e){if(n&1&&(u(0,"div",35)(1,"ul"),D(2,gK,2,1,"li",37),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function _K(n,e){n&1&&M(0,"i",38)}var R2=class n{constructor(e,t,i){this._UserService=e;this._Router=t;this.toastr=i}msgError=[];isLoading=!1;maxImageSize=2048*1024;userForm=new dn({name:new je(null,[ae.required,ae.maxLength(255)]),username:new je(null,[ae.required,ae.maxLength(255)]),password:new je(null,[ae.required,ae.minLength(8)]),role:new je(null,[ae.required]),image:new je(null,[this.validateImage.bind(this)])});selectedFile=null;onFileSelected(e){let t=e.target.files[0];t&&(this.selectedFile=t,this.userForm.patchValue({image:t}))}validateImage(e){let t=this.selectedFile;if(t){let i=t.type,r=t.size;if(!["image/jpeg","image/png","image/jpg","image/gif"].includes(i))return{invalidFileType:!0};if(r>this.maxImageSize)return{fileTooLarge:!0}}return null}handleForm(){if(this.userForm.valid){this.isLoading=!0;let e=new FormData;e.append("name",this.userForm.get("name")?.value),e.append("username",this.userForm.get("username")?.value),e.append("password",this.userForm.get("password")?.value),e.append("role",this.userForm.get("role")?.value),this.selectedFile&&e.append("image",this.selectedFile),this._UserService.addUser(e).subscribe({next:t=>{console.log(t),t&&(this.toastr.success("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u0646\u062C\u0627\u062D"),this.isLoading=!1,this._Router.navigate(["/dashboard/users"]))},error:t=>{if(this.isLoading=!1,this.msgError=[],t.error&&t.error.errors)for(let i in t.error.errors)t.error.errors[i]instanceof Array?this.msgError.push(...t.error.errors[i]):this.msgError.push(t.error.errors[i]);console.error(this.msgError)}})}}static \u0275fac=function(t){return new(t||n)(O($i),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-add-user"]],decls:65,vars:10,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","name",1,"form-label"],["id","name","formControlName","name","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0627\u0633\u0645","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","username",1,"form-label"],["id","username","formControlName","username","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645","required","",1,"form-control"],["for","password",1,"form-label"],["id","password","formControlName","password","type","password","placeholder","\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631","required","",1,"form-control"],["for","role",1,"form-label"],["id","role","formControlName","role",1,"form-control"],["value","admin"],["value","worker"],["value","accountant"],["value","supervisor"],[1,"form-group","text-center"],["for","image",1,"form-label"],[1,"fa-solid","fa-image"],[1,"custom-file"],["type","file","id","image","accept","image/*",1,"custom-file-input",2,"display","none",3,"change"],["for","image",1,"btn","btn-image"],[1,"fa-solid","fa-file-arrow-up"],["id","file-name"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646"),a(),u(3,"span",1),c(4,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(5,"i",2),c(6," \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 "),M(7,"i",2),c(8," \u0625\u0646\u0634\u0627\u0621 \u0645\u0633\u062A\u062E\u062F\u0645"),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17,"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062A\u062E\u062F\u0645"),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0627\u0644\u0627\u0633\u0645"),a(),M(23,"input",13),D(24,rK,3,2,"div",14),a(),u(25,"div",11)(26,"label",15),c(27,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"),a(),M(28,"input",16),D(29,aK,3,2,"div",14),a(),u(30,"div",11)(31,"label",17),c(32,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),a(),M(33,"input",18),D(34,cK,3,2,"div",14),a(),u(35,"div",11)(36,"label",19),c(37,"\u0627\u0644\u062F\u0648\u0631"),a(),u(38,"select",20)(39,"option",21),c(40,"\u0645\u0633\u0624\u0648\u0644"),a(),u(41,"option",22),c(42,"\u0639\u0627\u0645\u0644"),a(),u(43,"option",23),c(44,"\u0645\u062D\u0627\u0633\u0628"),a(),u(45,"option",24),c(46,"\u0645\u0634\u0631\u0641"),a()(),D(47,pK,2,1,"div",14),a(),u(48,"div",25)(49,"label",26),M(50,"i",27),c(51," \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)"),a(),u(52,"div",28)(53,"input",29),Z("change",function(o){return i.onFileSelected(o)}),a(),u(54,"label",30),M(55,"i",31),c(56," \u0627\u062E\u062A\u0631 \u0645\u0644\u0641 "),a(),u(57,"span",32),c(58),a()(),D(59,hK,3,2,"div",14),a()()()()(),D(60,vK,3,1,"div",14),u(61,"div",3)(62,"button",33),D(63,_K,1,0,"i",34),c(64," \u062D\u0641\u0638"),a()()()()()()),t&2){let r,o,s,l,d;f(10),E("formGroup",i.userForm),f(14),E("ngIf",((r=i.userForm.get("name"))==null?null:r.errors)&&((r=i.userForm.get("name"))==null?null:r.touched)),f(5),E("ngIf",((o=i.userForm.get("username"))==null?null:o.errors)&&((o=i.userForm.get("username"))==null?null:o.touched)),f(5),E("ngIf",((s=i.userForm.get("password"))==null?null:s.errors)&&((s=i.userForm.get("password"))==null?null:s.touched)),f(13),E("ngIf",((l=i.userForm.get("role"))==null?null:l.errors)&&((l=i.userForm.get("role"))==null?null:l.touched)),f(11),C((i.selectedFile==null?null:i.selectedFile.name)||"\u0644\u0645 \u064A\u062A\u0645 \u0627\u062E\u062A\u064A\u0627\u0631 \u0645\u0644\u0641"),f(),E("ngIf",((d=i.userForm.get("image"))==null?null:d.errors)&&((d=i.userForm.get("image"))==null?null:d.touched)),f(),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.userForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Xt,Rt,Vt,Ut,Ze,Lt,et,Ot,sn,xt,Dt,Mt,Ne,He,tt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};function yK(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0627\u0633\u0645 \u0645\u0637\u0644\u0648\u0628"),a())}function bK(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0637\u0648\u0644 \u0647\u0648 255"),a())}function EK(n,e){if(n&1&&(u(0,"div",38),D(1,yK,2,0,"p",39)(2,bK,2,0,"p",39),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.userForm.get("name"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.userForm.get("name"))==null?null:i.getError("maxLength"))}}function SK(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0637\u0644\u0648\u0628"),a())}function xK(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0637\u0648\u0644 \u0647\u0648 255"),a())}function CK(n,e){if(n&1&&(u(0,"div",38),D(1,SK,2,0,"p",39)(2,xK,2,0,"p",39),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.userForm.get("username"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.userForm.get("username"))==null?null:i.getError("maxLength"))}}function wK(n,e){n&1&&(u(0,"p"),c(1,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u0637\u0644\u0648\u0628\u0629"),a())}function AK(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0644\u0644\u0637\u0648\u0644 \u0647\u0648 8"),a())}function DK(n,e){if(n&1&&(u(0,"div",38),D(1,wK,2,0,"p",39)(2,AK,2,0,"p",39),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.userForm.get("password"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.userForm.get("password"))==null?null:i.getError("minLength"))}}function IK(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062F\u0648\u0631 \u0645\u0637\u0644\u0648\u0628"),a())}function TK(n,e){if(n&1&&(u(0,"div",38),D(1,IK,2,0,"p",39),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.userForm.get("role"))==null?null:t.hasError("required"))}}function MK(n,e){if(n&1&&(u(0,"div",40),M(1,"img",41),a()),n&2){let t=q();f(),E("src",t.userImageUrl,On)}}function FK(n,e){n&1&&(u(0,"p"),c(1,"\u0635\u064A\u063A\u0629 \u0627\u0644\u0635\u0648\u0631\u0629 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D\u0629"),a())}function NK(n,e){n&1&&(u(0,"p"),c(1,"\u062D\u062C\u0645 \u0627\u0644\u0645\u0644\u0641 \u0643\u0628\u064A\u0631 \u062C\u062F\u064B\u0627 (\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649: 2 \u0645\u064A\u062C\u0627\u0628\u0627\u064A\u062A)"),a())}function PK(n,e){if(n&1&&(u(0,"div",38),D(1,FK,2,0,"p",39)(2,NK,2,0,"p",39),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.userForm.get("image"))==null?null:t.getError("invalidFileType")),f(),E("ngIf",(i=r.userForm.get("image"))==null?null:i.getError("fileTooLarge"))}}function OK(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function RK(n,e){if(n&1&&(u(0,"div",38)(1,"ul"),D(2,OK,2,1,"li",42),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function LK(n,e){n&1&&M(0,"i",43)}var L2=class n{constructor(e,t,i,r,o){this.fb=e;this.router=t;this._UserService=i;this.route=r;this.toastr=o;this.userForm=new dn({name:this.fb.control(null,[ae.required,ae.maxLength(255)]),username:this.fb.control(null,[ae.required,ae.maxLength(255)]),password:this.fb.control(null,[ae.required,ae.minLength(8)]),role:this.fb.control(null,[ae.required]),image:this.fb.control(null,[this.validateImage.bind(this)])})}msgError=[];isLoading=!1;userImageUrl=null;maxImageSize=2048*1024;userForm;selectedFile=null;onFileSelected(e){let t=e.target.files[0];t&&(this.selectedFile=t,this.userForm.patchValue({image:t}))}validateImage(e){let t=this.selectedFile;if(t){let i=t.type,r=t.size;if(!["image/jpeg","image/png","image/jpg","image/gif"].includes(i))return{invalidFileType:!0};if(r>this.maxImageSize)return{fileTooLarge:!0}}return null}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.fetchUserData(e)}fetchUserData(e){this._UserService.getUserById(e).subscribe({next:t=>{if(t){let i=t.user;console.log(i),this.userForm.patchValue({name:i.name,username:i.username,password:i.password,role:i.role}),this.userImageUrl=i.image}},error:t=>{this.msgError=t.error.error}})}handleForm(){if(this.userForm.valid){this.isLoading=!0;let e=new FormData;e.append("name",this.userForm.get("name")?.value),e.append("username",this.userForm.get("username")?.value),e.append("password",this.userForm.get("password")?.value),e.append("role",this.userForm.get("role")?.value),this.selectedFile&&e.append("image",this.selectedFile);let t=this.route.snapshot.paramMap.get("id");t&&this._UserService.updateUser(t,e).subscribe({next:i=>{this.isLoading=!1,i&&(this.toastr.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u0646\u062C\u0627\u062D"),this.router.navigate(["/dashboard/users"]))},error:i=>{this.isLoading=!1,this.msgError=i.error.error,this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649")}})}}onCancel(){this.userForm.reset(),this.router.navigate(["/dashboard/users"])}static \u0275fac=function(t){return new(t||n)(O(Si),O(Me),O($i),O(ft),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-update-user"]],decls:68,vars:11,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","name",1,"form-label"],["id","name","formControlName","name","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0627\u0633\u0645","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","username",1,"form-label"],["id","username","formControlName","username","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645","required","",1,"form-control"],["for","password",1,"form-label"],["id","password","formControlName","password","type","password","placeholder","\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631","required","",1,"form-control"],["for","role",1,"form-label"],["id","role","formControlName","role",1,"form-control"],["value","admin"],["value","worker"],["value","accountant"],["value","supervisor"],[1,"form-group","text-center"],["for","image",1,"form-label"],[1,"fa-solid","fa-image"],["class","mb-3",4,"ngIf"],[1,"custom-file"],["type","file","id","image","accept","image/*",1,"custom-file-input",2,"display","none",3,"change"],["for","image",1,"btn","btn-image"],[1,"fa-solid","fa-file-arrow-up"],["id","file-name"],[1,"mt-4","mb-4","d-flex","justify-content-around","w-25"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"alert","alert-danger"],[4,"ngIf"],[1,"mb-3"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0627\u0644\u062D\u0627\u0644\u064A\u0629","width","150",3,"src"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646"),a(),u(3,"span",1),c(4,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(5,"i",2),c(6," \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 "),M(7,"i",2),c(8," \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17,"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0627\u0644\u0627\u0633\u0645"),a(),M(23,"input",13),D(24,EK,3,2,"div",14),a(),u(25,"div",11)(26,"label",15),c(27,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"),a(),M(28,"input",16),D(29,CK,3,2,"div",14),a(),u(30,"div",11)(31,"label",17),c(32,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),a(),M(33,"input",18),D(34,DK,3,2,"div",14),a(),u(35,"div",11)(36,"label",19),c(37,"\u0627\u0644\u062F\u0648\u0631"),a(),u(38,"select",20)(39,"option",21),c(40,"\u0645\u0633\u0624\u0648\u0644"),a(),u(41,"option",22),c(42,"\u0639\u0627\u0645\u0644"),a(),u(43,"option",23),c(44,"\u0645\u062D\u0627\u0633\u0628"),a(),u(45,"option",24),c(46,"\u0645\u0634\u0631\u0641"),a()(),D(47,TK,2,1,"div",14),a(),u(48,"div",25)(49,"label",26),M(50,"i",27),c(51," \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"),a(),D(52,MK,2,1,"div",28),u(53,"div",29)(54,"input",30),Z("change",function(o){return i.onFileSelected(o)}),a(),u(55,"label",31),M(56,"i",32),c(57," \u0627\u062E\u062A\u0631 \u0645\u0644\u0641 "),a(),u(58,"span",33),c(59),a()(),D(60,PK,3,2,"div",14),a()()()()(),D(61,RK,3,1,"div",14),u(62,"div",34)(63,"button",35),D(64,LK,1,0,"i",36),c(65," \u062D\u0641\u0638"),a(),u(66,"button",37),Z("click",function(){return i.onCancel()}),c(67,"\u0625\u0644\u063A\u0627\u0621"),a()()()()()()),t&2){let r,o,s,l,d;f(10),E("formGroup",i.userForm),f(14),E("ngIf",((r=i.userForm.get("name"))==null?null:r.errors)&&((r=i.userForm.get("name"))==null?null:r.touched)),f(5),E("ngIf",((o=i.userForm.get("username"))==null?null:o.errors)&&((o=i.userForm.get("username"))==null?null:o.touched)),f(5),E("ngIf",((s=i.userForm.get("password"))==null?null:s.errors)&&((s=i.userForm.get("password"))==null?null:s.touched)),f(13),E("ngIf",((l=i.userForm.get("role"))==null?null:l.errors)&&((l=i.userForm.get("role"))==null?null:l.touched)),f(5),E("ngIf",i.userImageUrl),f(7),C((i.selectedFile==null?null:i.selectedFile.name)||"\u0644\u0645 \u064A\u062A\u0645 \u0627\u062E\u062A\u064A\u0627\u0631 \u0645\u0644\u0641"),f(),E("ngIf",((d=i.userForm.get("image"))==null?null:d.errors)&&((d=i.userForm.get("image"))==null?null:d.touched)),f(),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.userForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,xt,Rt,Vt,Ut,Ze,Lt,et,Ot,sn,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};function kK(n,e){if(n&1&&(u(0,"div"),M(1,"img",15),a()),n&2){let t=q();f(),E("src",t.userData==null?null:t.userData.image,On)}}function jK(n,e){n&1&&(u(0,"p",10),M(1,"img",16),a())}var k2=class n{constructor(e,t,i){this._UserService=e;this.router=t;this.route=i}userData;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.fetchUserData(e)}fetchUserData(e){this._UserService.getUserById(e).subscribe({next:t=>{console.log(t.user),this.userData=t?.user||{}},error:t=>{console.error("Error fetching Users data:",t.message)}})}static \u0275fac=function(t){return new(t||n)(O($i),O(Me),O(ft))};static \u0275cmp=Ae({type:n,selectors:[["app-show-user"]],decls:51,vars:8,consts:[[1,"mt-4","mb-4"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"col-md-6"],[1,"mb-3"],[1,"fw-bold"],[1,"text-muted"],[4,"ngIf"],["class","text-muted",4,"ngIf"],["routerLinkActive","active","routerLink","/dashboard/users",1,"nav-link"],["type","button",1,"btn","btn-primary","px-4"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645",1,"img-fluid","rounded",3,"src"],["src","images/default.jpg","alt","\u0644\u0627 \u062A\u0648\u062C\u062F \u0635\u0648\u0631\u0629"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5"),c(7,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"),a()(),u(8,"div",6)(9,"div",2)(10,"div",7)(11,"div",8)(12,"label",9),c(13,"\u0627\u0644\u0627\u0633\u0645:"),a(),u(14,"p",10),c(15),a()(),u(16,"div",8)(17,"label",9),c(18,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645:"),a(),u(19,"p",10),c(20),a()(),u(21,"div",8)(22,"label",9),c(23,"\u0627\u0644\u062F\u0648\u0631:"),a(),u(24,"p",10),c(25),a()(),u(26,"div",8)(27,"label",9),c(28,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A:"),a(),u(29,"p",10),c(30),a()()(),u(31,"div",7)(32,"div",8)(33,"label",9),c(34,"\u0627\u0644\u0635\u0648\u0631\u0629:"),a(),D(35,kK,2,1,"div",11)(36,jK,2,0,"p",12),a(),u(37,"div",8)(38,"label",9),c(39,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0634\u0627\u0621:"),a(),u(40,"p",10),c(41),a()(),u(42,"div",8)(43,"label",9),c(44,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u062D\u062F\u064A\u062B:"),a(),u(45,"p",10),c(46),a()()()()()()()(),u(47,"div",0)(48,"a",13)(49,"button",14),c(50,"\u0631\u062C\u0648\u0639"),a()()()()()),t&2&&(f(15),C((i.userData==null?null:i.userData.name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.userData==null?null:i.userData.username)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.userData==null?null:i.userData.role)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.userData==null?null:i.userData.email_verified_at)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),E("ngIf",i.userData==null?null:i.userData.image),f(),E("ngIf",!(i.userData!=null&&i.userData.image)),f(5),C((i.userData==null?null:i.userData.created_at)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.userData==null?null:i.userData.updated_at)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"))},dependencies:[Ne,tt,qi,wt,Ct],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var Ln=class n{constructor(e){this._HttpClient=e}baseURL=ui.apiUrl;viewAllProducts(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/products`,{headers:t})}deleteProduct(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.delete(`${this.baseURL}/products/${e}`,{headers:i})}addProduct(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.post(`${this.baseURL}/products`,e,{headers:i})}getProductById(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(this.baseURL+"/products/"+e,{headers:i})}updateProduct(e,t){let i=localStorage.getItem("Gtoken"),r=new Le().set("Authorization",`Bearer ${i}`);return t.append("_method","PUT"),this._HttpClient.post(`${this.baseURL}/products/${e}`,t,{headers:r})}static \u0275fac=function(t){return new(t||n)(Ge(ni))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var BK=n=>["/dashboard/showProduct",n],VK=n=>["/dashboard/updateProduct",n];function UK(n,e){if(n&1){let t=ht();u(0,"tr")(1,"th",13),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td")(10,"div",14)(11,"a",15),M(12,"i",16),a(),u(13,"a",15),M(14,"i",17),a(),u(15,"i",18),Z("click",function(){let r=rt(t).$implicit,o=q();return ot(o.deleteProduct(r.id))}),a()()()()}if(n&2){let t=e.$implicit,i=e.index;f(2),C(i+1),f(2),C(t.name),f(2),C(t.price),f(2),C(t.amount),f(3),E("routerLink",mn(6,BK,t.id)),f(2),E("routerLink",mn(8,VK,t.id))}}var j2=class n{constructor(e,t,i){this._ProductService=e;this.router=t;this.toastr=i}products=[];filteredProducts=[];searchQuery="";ngOnInit(){this.loadProducts()}loadProducts(){this._ProductService.viewAllProducts().subscribe({next:e=>{e&&(console.log(e),this.products=e,this.filteredProducts=e)},error:e=>{console.error(e)}})}onSearch(){let e=this.searchQuery.toLowerCase();this.filteredProducts=this.products.filter(t=>t.name.toLowerCase().includes(e)||t.price.toString().includes(e)||t.amount.toString().includes(e))}deleteProduct(e){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0646\u062A\u062C\u061F")&&this._ProductService.deleteProduct(e).subscribe({next:t=>{t&&(this.toastr.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0645\u0646\u062A\u062C \u0628\u0646\u062C\u0627\u062D"),this.router.navigate(["/dashboard/products"]),this.loadProducts())},error:t=>{console.error(t),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0645\u0646\u062A\u062C.")}})}static \u0275fac=function(t){return new(t||n)(O(Ln),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-products"]],decls:32,vars:2,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],["routerLink","/dashboard/addProduct",1,"nav-link"],[1,"fa-solid","fa-plus","text-white","iconPlus","rounded"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"fw-bold"],["type","search","placeholder","\u0627\u0644\u0628\u062D\u062B \u0628\u0627\u0644\u0627\u0633\u0645\u060C \u0627\u0644\u0633\u0639\u0631\u060C \u0623\u0648 \u0627\u0644\u0643\u0645\u064A\u0629","aria-label","Search",1,"form-control","search","w-25",3,"ngModelChange","input","ngModel"],[1,"table-responsive"],[1,"table","mt-3"],["scope","col",1,"bg-light"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","justify-content-around","align-items-center"],[1,"nav-link",3,"routerLink"],[1,"fa-solid","fa-eye","btn1","bg-primary","rounded"],[1,"fa-solid","fa-pencil","btn1","bg-success","rounded"],[1,"fa-solid","fa-trash-can","btn1","bg-danger","rounded",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u062A\u062C\u0627\u062A"),a(),u(4,"span",1),c(5,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(6,"i",2),c(7," \u0627\u0644\u0645\u0646\u062A\u062C\u0627\u062A"),a()(),u(8,"a",3),M(9,"i",4),a()(),u(10,"div",5)(11,"div",6)(12,"div",0)(13,"span",7),c(14,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0646\u062A\u062C\u0627\u062A"),a(),u(15,"input",8),Tt("ngModelChange",function(o){return Pt(i.searchQuery,o)||(i.searchQuery=o),o}),Z("input",function(){return i.onSearch()}),a()()(),u(16,"div",9)(17,"table",10)(18,"thead")(19,"tr")(20,"th",11),c(21,"#"),a(),u(22,"th",11),c(23,"\u0627\u0644\u0627\u0633\u0645"),a(),u(24,"th",11),c(25,"\u0627\u0644\u0633\u0639\u0631"),a(),u(26,"th",11),c(27,"\u0627\u0644\u0643\u0645\u064A\u0629"),a(),u(28,"th",11),c(29,"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"),a()()(),u(30,"tbody"),D(31,UK,16,10,"tr",12),a()()()()),t&2&&(f(15),It("ngModel",i.searchQuery),f(16),E("ngForOf",i.filteredProducts))},dependencies:[Ne,He,wt,Ct,Xt,Ze,et,xn],styles:["span[_ngcontent-%COMP%]{font-size:12px}.iconPlus[_ngcontent-%COMP%]{background-color:#145388;padding:11px;font-size:10px}.vendortable[_ngcontent-%COMP%]{background-color:#fff}.search[_ngcontent-%COMP%]{width:20%}.search[_ngcontent-%COMP%]{border-radius:20px;padding:.5rem 1rem;max-width:300px}.btn1[_ngcontent-%COMP%]{color:#fff;padding:5px}thead[_ngcontent-%COMP%]{background-color:#000!important}tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}i[_ngcontent-%COMP%]{cursor:pointer}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table[_ngcontent-%COMP%]{min-width:100%}@media (max-width: 768px){.table[_ngcontent-%COMP%]{font-size:12px}}"]})};function qK(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0627\u0633\u0645 \u0645\u0637\u0644\u0648\u0628"),a())}function $K(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0637\u0648\u0644 \u0647\u0648 255"),a())}function HK(n,e){if(n&1&&(u(0,"div",21),D(1,qK,2,0,"p",22)(2,$K,2,0,"p",22),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.productForm.get("name"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.productForm.get("name"))==null?null:i.getError("maxLength"))}}function zK(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0633\u0639\u0631 \u0645\u0637\u0644\u0648\u0628"),a())}function GK(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function WK(n,e){if(n&1&&(u(0,"div",21),D(1,zK,2,0,"p",22)(2,GK,2,0,"p",22),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.productForm.get("price"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.productForm.get("price"))==null?null:i.getError("min"))}}function YK(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0643\u0645\u064A\u0629 \u0645\u0637\u0644\u0648\u0628\u0629"),a())}function KK(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function QK(n,e){if(n&1&&(u(0,"div",21),D(1,YK,2,0,"p",22)(2,KK,2,0,"p",22),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.productForm.get("amount"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.productForm.get("amount"))==null?null:i.getError("min"))}}function ZK(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function JK(n,e){if(n&1&&(u(0,"div",21)(1,"ul"),D(2,ZK,2,1,"li",23),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function XK(n,e){n&1&&M(0,"i",24)}var B2=class n{constructor(e,t,i){this._ProductService=e;this._Router=t;this.toastr=i}msgError=[];isLoading=!1;productForm=new dn({name:new je(null,[ae.required,ae.maxLength(255)]),price:new je(null,[ae.required,ae.min(0)]),amount:new je(null,[ae.required,ae.min(0)])});handleForm(){if(this.productForm.valid){this.isLoading=!0;let e=new FormData;e.append("name",this.productForm.get("name")?.value),e.append("price",this.productForm.get("price")?.value),e.append("amount",this.productForm.get("amount")?.value),this._ProductService.addProduct(e).subscribe({next:t=>{console.log(t),t&&(this.toastr.success("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0646\u062A\u062C \u0628\u0646\u062C\u0627\u062D"),this.isLoading=!1,this._Router.navigate(["/dashboard/products"]))},error:t=>{if(this.isLoading=!1,this.msgError=[],t.error&&t.error.errors)for(let i in t.error.errors)t.error.errors[i]instanceof Array?this.msgError.push(...t.error.errors[i]):this.msgError.push(t.error.errors[i]);console.error(this.msgError),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0646\u062A\u062C")}})}}static \u0275fac=function(t){return new(t||n)(O(Ln),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-add-product"]],decls:40,vars:7,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","name",1,"form-label"],["id","name","formControlName","name","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0627\u0633\u0645","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","price",1,"form-label"],["id","price","formControlName","price","type","number","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0633\u0639\u0631","required","",1,"form-control"],["for","amount",1,"form-label"],["id","amount","formControlName","amount","type","number","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0643\u0645\u064A\u0629","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u062A\u062C\u0627\u062A"),a(),u(3,"span",1),c(4,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(5,"i",2),c(6," \u0627\u0644\u0645\u0646\u062A\u062C\u0627\u062A "),M(7,"i",2),c(8," \u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062A\u062C "),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17,"\u0625\u0636\u0627\u0641\u0629 \u0645\u0646\u062A\u062C"),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0627\u0644\u0627\u0633\u0645"),a(),M(23,"input",13),D(24,HK,3,2,"div",14),a(),u(25,"div",11)(26,"label",15),c(27,"\u0627\u0644\u0633\u0639\u0631"),a(),M(28,"input",16),D(29,WK,3,2,"div",14),a(),u(30,"div",11)(31,"label",17),c(32,"\u0627\u0644\u0643\u0645\u064A\u0629"),a(),M(33,"input",18),D(34,QK,3,2,"div",14),a()()()()(),D(35,JK,3,1,"div",14),u(36,"div",3)(37,"button",19),D(38,XK,1,0,"i",20),c(39," \u062D\u0641\u0638 "),a()()()()()()),t&2){let r,o,s;f(10),E("formGroup",i.productForm),f(14),E("ngIf",((r=i.productForm.get("name"))==null?null:r.errors)&&((r=i.productForm.get("name"))==null?null:r.touched)),f(5),E("ngIf",((o=i.productForm.get("price"))==null?null:o.errors)&&((o=i.productForm.get("price"))==null?null:o.touched)),f(5),E("ngIf",((s=i.productForm.get("amount"))==null?null:s.errors)&&((s=i.productForm.get("amount"))==null?null:s.touched)),f(),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.productForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,xt,Rt,Ze,on,et,Ot,sn,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};function eQ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0627\u0633\u0645 \u0645\u0637\u0644\u0648\u0628"),a())}function tQ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0637\u0648\u0644 \u0647\u0648 255"),a())}function nQ(n,e){if(n&1&&(u(0,"div",21),D(1,eQ,2,0,"p",22)(2,tQ,2,0,"p",22),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.productForm.get("name"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.productForm.get("name"))==null?null:i.getError("maxLength"))}}function iQ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0633\u0639\u0631 \u0645\u0637\u0644\u0648\u0628"),a())}function rQ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function oQ(n,e){if(n&1&&(u(0,"div",21),D(1,iQ,2,0,"p",22)(2,rQ,2,0,"p",22),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.productForm.get("price"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.productForm.get("price"))==null?null:i.getError("min"))}}function sQ(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function aQ(n,e){if(n&1&&(u(0,"div",21)(1,"ul"),D(2,sQ,2,1,"li",23),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function uQ(n,e){n&1&&M(0,"i",24)}var V2=class n{constructor(e,t,i,r,o){this.fb=e;this.router=t;this._ProductService=i;this.route=r;this.toastr=o;this.productForm=new dn({name:this.fb.control(null,[ae.required,ae.maxLength(255)]),price:this.fb.control(null,[ae.required,ae.min(0)]),amount:this.fb.control(null,[ae.required,ae.min(0)])})}msgError=[];isLoading=!1;product;productForm;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.fetchProductData(e)}fetchProductData(e){this._ProductService.getProductById(e).subscribe({next:t=>{if(t){let i=t;console.log(i),this.productForm.patchValue({name:i.name,price:i.price,amount:i.amount})}},error:t=>{this.msgError=t.error.error}})}handleForm(){if(this.productForm.valid){this.isLoading=!0;let e=new FormData;e.append("name",this.productForm.get("name")?.value),e.append("price",this.productForm.get("price")?.value);let t=this.route.snapshot.paramMap.get("id");t&&this._ProductService.updateProduct(t,e).subscribe({next:i=>{this.isLoading=!1,i&&(this.toastr.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0646\u062A\u062C \u0628\u0646\u062C\u0627\u062D"),this.router.navigate(["/dashboard/products"]))},error:i=>{this.isLoading=!1,this.msgError=i.error.error,this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649")}})}}onCancel(){this.productForm.reset(),this.router.navigate(["/dashboard/products"])}static \u0275fac=function(t){return new(t||n)(O(Si),O(Me),O(Ln),O(ft),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-update-product"]],decls:37,vars:6,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","name",1,"form-label"],["id","name","formControlName","name","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0627\u0633\u0645","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","price",1,"form-label"],["id","price","formControlName","price","type","number","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0633\u0639\u0631","required","",1,"form-control"],[1,"mt-4","mb-4","d-flex","justify-content-around","w-25"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"alert","alert-danger"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u062A\u062C\u0627\u062A"),a(),u(3,"span",1),c(4,"\u0644\u0648\u062D\u0629 \u0627\u0644\u0642\u064A\u0627\u062F\u0629 "),M(5,"i",2),c(6," \u0627\u0644\u0645\u0646\u062A\u062C\u0627\u062A "),M(7,"i",2),c(8," \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0646\u062A\u062C "),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17,"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0646\u062A\u062C"),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0627\u0644\u0627\u0633\u0645"),a(),M(23,"input",13),D(24,nQ,3,2,"div",14),a(),u(25,"div",11)(26,"label",15),c(27,"\u0627\u0644\u0633\u0639\u0631"),a(),M(28,"input",16),D(29,oQ,3,2,"div",14),a()()()()(),D(30,aQ,3,1,"div",14),u(31,"div",17)(32,"button",18),D(33,uQ,1,0,"i",19),c(34," \u062D\u0641\u0638"),a(),u(35,"button",20),Z("click",function(){return i.onCancel()}),c(36,"\u0625\u0644\u063A\u0627\u0621"),a()()()()()()),t&2){let r,o;f(10),E("formGroup",i.productForm),f(14),E("ngIf",((r=i.productForm.get("name"))==null?null:r.errors)&&((r=i.productForm.get("name"))==null?null:r.touched)),f(5),E("ngIf",((o=i.productForm.get("price"))==null?null:o.errors)&&((o=i.productForm.get("price"))==null?null:o.touched)),f(),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.productForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,xt,Rt,Ze,on,et,Ot,sn,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var U2=class n{constructor(e,t,i){this._ProductService=e;this.router=t;this.route=i}productData;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.fetchProductData(e)}fetchProductData(e){this._ProductService.getProductById(e).subscribe({next:t=>{console.log(t),this.productData=t||{}},error:t=>{console.error("Error fetching Product data:",t.message)}})}static \u0275fac=function(t){return new(t||n)(O(Ln),O(Me),O(ft))};static \u0275cmp=Ae({type:n,selectors:[["app-show-product"]],decls:30,vars:3,consts:[[1,"mt-4","mb-4"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"col-md-6"],[1,"mb-3"],[1,"fw-bold"],[1,"text-muted"],["routerLinkActive","active","routerLink","/dashboard/products",1,"nav-link"],["type","button",1,"btn","btn-primary","px-4"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5"),c(7,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0646\u062A\u062C"),a()(),u(8,"div",6)(9,"div",2)(10,"div",7)(11,"div",8)(12,"label",9),c(13,"\u0627\u0644\u0627\u0633\u0645:"),a(),u(14,"p",10),c(15),a()(),u(16,"div",8)(17,"label",9),c(18,"\u0627\u0644\u0633\u0639\u0631:"),a(),u(19,"p",10),c(20),a()(),u(21,"div",8)(22,"label",9),c(23,"\u0627\u0644\u0643\u0645\u064A\u0629:"),a(),u(24,"p",10),c(25),a()()()()()()()(),u(26,"div",0)(27,"a",11)(28,"button",12),c(29,"\u0631\u062C\u0648\u0639"),a()()()()()),t&2&&(f(15),C((i.productData==null?null:i.productData.name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.productData==null?null:i.productData.price)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.productData==null?null:i.productData.amount)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"))},dependencies:[wt,Ct,qi],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var oo=class n{constructor(e){this._HttpClient=e}baseURL=ui.apiUrl;viewAllMachines(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/machines`,{headers:t})}deleteMachine(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.delete(`${this.baseURL}/machines/${e}`,{headers:i})}addMachine(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.post(`${this.baseURL}/machines`,e,{headers:i})}getMachineById(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(this.baseURL+"/machines/"+e,{headers:i})}updateMachine(e,t){let i=localStorage.getItem("Gtoken"),r=new Le().set("Authorization",`Bearer ${i}`);return t.append("_method","PUT"),this._HttpClient.post(`${this.baseURL}/machines/${e}`,t,{headers:r})}static \u0275fac=function(t){return new(t||n)(Ge(ni))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var lQ=n=>["/dashboard/showMachine",n],cQ=n=>["/dashboard/updateMachine",n];function dQ(n,e){if(n&1){let t=ht();u(0,"tr")(1,"th",12),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td")(10,"div",13)(11,"a",14),M(12,"i",15),a(),u(13,"a",14),M(14,"i",16),a(),u(15,"i",17),Z("click",function(){let r=rt(t).$implicit,o=q();return ot(o.deleteMachine(r.id))}),a()()()()}if(n&2){let t=e.$implicit,i=e.index;f(2),C(i+1),f(2),C(t.machine_number),f(2),C(t.product==null?null:t.product.name),f(2),C(t.start_amount),f(3),E("routerLink",mn(6,lQ,t.id)),f(2),E("routerLink",mn(8,cQ,t.id))}}var q2=class n{constructor(e,t,i,r){this._MachineService=e;this.router=t;this.cdr=i;this.toastr=r}machines=[];filteredMachines=[];searchQuery="";ngOnInit(){this.loadMachines()}loadMachines(){this._MachineService.viewAllMachines().subscribe({next:e=>{e&&(console.log(e),this.machines=e.data,this.filteredMachines=this.machines)},error:e=>{console.error(e)}})}onSearch(){let e=this.searchQuery.toLowerCase();this.filteredMachines=this.machines.filter(t=>t.product?.name.toLowerCase().includes(e)||t.machine_number.toString().includes(e))}deleteMachine(e){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0622\u0644\u0629\u061F")&&this._MachineService.deleteMachine(e).subscribe({next:t=>{t&&(this.router.navigate(["/dashboard/machines"]),this.toastr.error("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0622\u0644\u0629 \u0628\u0646\u062C\u0627\u062D"),this.loadMachines(),this.cdr.detectChanges())},error:t=>{console.error(t),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0622\u0644\u0629.")}})}static \u0275fac=function(t){return new(t||n)(O(oo),O(Me),O(Wo),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-machines"]],decls:31,vars:2,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],["routerLink","/dashboard/addMachine",1,"nav-link"],[1,"fa-solid","fa-plus","text-white","iconPlus","rounded"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"fw-bold"],["type","search","placeholder","\u0627\u0628\u062D\u062B \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0627\u0644\u0633\u0639\u0631 \u0623\u0648 \u0627\u0644\u0643\u0645\u064A\u0629","aria-label","\u0628\u062D\u062B",1,"form-control","search","w-25",3,"ngModelChange","input","ngModel"],[1,"table","mt-3"],["scope","col",1,"bg-light"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","justify-content-around","align-items-center"],[1,"nav-link",3,"routerLink"],[1,"fa-solid","fa-eye","btn1","bg-primary","rounded"],[1,"fa-solid","fa-pencil","btn1","bg-success","rounded"],[1,"fa-solid","fa-trash-can","btn1","bg-danger","rounded",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0637\u0631\u0645\u0628\u0627\u062A"),a(),u(4,"span",1),c(5,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(6,"i",2),c(7," \u0627\u0644\u0637\u0631\u0645\u0628\u0627\u062A"),a()(),u(8,"a",3),M(9,"i",4),a()(),u(10,"div",5)(11,"div",6)(12,"div",0)(13,"span",7),c(14,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0637\u0631\u0645\u0628\u0629"),a(),u(15,"input",8),Tt("ngModelChange",function(o){return Pt(i.searchQuery,o)||(i.searchQuery=o),o}),Z("input",function(){return i.onSearch()}),a()()(),u(16,"table",9)(17,"thead")(18,"tr")(19,"th",10),c(20,"#"),a(),u(21,"th",10),c(22,"\u0631\u0642\u0645 \u0627\u0644\u0637\u0631\u0645\u0628\u0629"),a(),u(23,"th",10),c(24,"\u0627\u0644\u0645\u0646\u062A\u062C"),a(),u(25,"th",10),c(26,"\u0631\u0642\u0645 \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D"),a(),u(27,"th",10),c(28,"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"),a()()(),u(29,"tbody"),D(30,dQ,16,10,"tr",11),a()()()),t&2&&(f(15),It("ngModel",i.searchQuery),f(15),E("ngForOf",i.filteredMachines))},dependencies:[Ne,He,wt,Ct,Xt,Ze,et,xn],styles:["span[_ngcontent-%COMP%]{font-size:12px}.iconPlus[_ngcontent-%COMP%]{background-color:#145388;padding:11px;font-size:10px}.vendortable[_ngcontent-%COMP%]{background-color:#fff}.search[_ngcontent-%COMP%]{width:20%}.search[_ngcontent-%COMP%]{border-radius:20px;padding:.5rem 1rem;max-width:300px}.btn1[_ngcontent-%COMP%]{color:#fff;padding:5px}thead[_ngcontent-%COMP%]{background-color:#000!important}tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}i[_ngcontent-%COMP%]{cursor:pointer}"]})};function pQ(n,e){n&1&&(u(0,"p"),c(1,"\u0631\u0642\u0645 \u0627\u0644\u0637\u0631\u0645\u0628\u0629 \u0645\u0637\u0644\u0648\u0628"),a())}function fQ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0637\u0648\u0644 \u0647\u0648 255"),a())}function mQ(n,e){if(n&1&&(u(0,"div",23),D(1,pQ,2,0,"p",24)(2,fQ,2,0,"p",24),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.machineForm.get("machine_number"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.machineForm.get("machine_number"))==null?null:i.getError("maxLength"))}}function hQ(n,e){if(n&1&&(u(0,"option",25),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.name)}}function gQ(n,e){n&1&&(u(0,"p"),c(1,"\u0639\u062F\u0627\u062F \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D \u0645\u0637\u0644\u0648\u0628\u0629"),a())}function vQ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function _Q(n,e){if(n&1&&(u(0,"div",23),D(1,gQ,2,0,"p",24)(2,vQ,2,0,"p",24),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.machineForm.get("start_amount"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.machineForm.get("start_amount"))==null?null:i.getError("min"))}}function yQ(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function bQ(n,e){if(n&1&&(u(0,"div",23)(1,"ul"),D(2,yQ,2,1,"li",26),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function EQ(n,e){n&1&&M(0,"i",27)}var $2=class n{constructor(e,t,i,r){this._MachineService=e;this._Router=t;this._ProductService=i;this.toastr=r}msgError=[];isLoading=!1;products=[];machineForm=new dn({machine_number:new je(null,[ae.required,ae.maxLength(255)]),product_id:new je(null,[ae.required]),start_amount:new je(null,[ae.required,ae.min(0)])});ngOnInit(){this.loadProducts()}loadProducts(){this._ProductService.viewAllProducts().subscribe({next:e=>{e&&(console.log(e),this.products=e)},error:e=>{console.error(e)}})}handleForm(){if(this.machineForm.valid){this.isLoading=!0;let e=new FormData;e.append("machine_number",this.machineForm.get("machine_number")?.value),e.append("product_id",this.machineForm.get("product_id")?.value),e.append("start_amount",this.machineForm.get("start_amount")?.value),this._MachineService.addMachine(e).subscribe({next:t=>{console.log(t),t&&(this.toastr.success("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0622\u0644\u0629 \u0628\u0646\u062C\u0627\u062D"),this.isLoading=!1,this._Router.navigate(["/dashboard/machines"]))},error:t=>{if(this.isLoading=!1,this.msgError=[],t.error&&t.error.errors)for(let i in t.error.errors)t.error.errors[i]instanceof Array?this.msgError.push(...t.error.errors[i]):this.msgError.push(t.error.errors[i]);console.error(this.msgError),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0622\u0644\u0629")}})}}static \u0275fac=function(t){return new(t||n)(O(oo),O(Me),O(Ln),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-add-machine"]],decls:42,vars:7,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","machine_number",1,"form-label"],["id","machine_number","formControlName","machine_number","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0631\u0642\u0645 \u0627\u0644\u0637\u0631\u0645\u0628\u0629","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"form-label"],["formControlName","product_id",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","start_amount",1,"form-label"],["id","start_amount","formControlName","start_amount","type","number","placeholder","\u0623\u062F\u062E\u0644 Start Amount","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0637\u0631\u0645\u0628\u0627\u062A"),a(),u(3,"span",1),c(4,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(5,"i",2),c(6," \u0627\u0644\u0637\u0631\u0645\u0628\u0627\u062A "),M(7,"i",2),c(8," \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0637\u0631\u0645\u0628\u0629 "),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17,"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0637\u0631\u0645\u0628\u0629"),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0631\u0642\u0645 \u0627\u0644\u0637\u0631\u0645\u0628\u0629"),a(),M(23,"input",13),D(24,mQ,3,2,"div",14),a(),u(25,"div",11)(26,"label",15),c(27,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),u(28,"select",16)(29,"option",17),c(30," \u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),D(31,hQ,2,2,"option",18),a()(),u(32,"div",11)(33,"label",19),c(34,"\u0639\u062F\u0627\u062F \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D"),a(),M(35,"input",20),D(36,_Q,3,2,"div",14),a()()()()(),D(37,bQ,3,1,"div",14),u(38,"div",3)(39,"button",21),D(40,EQ,1,0,"i",22),c(41," \u062D\u0641\u0638"),a()()()()()()),t&2){let r,o;f(10),E("formGroup",i.machineForm),f(14),E("ngIf",((r=i.machineForm.get("machine_number"))==null?null:r.errors)&&((r=i.machineForm.get("machine_number"))==null?null:r.touched)),f(7),E("ngForOf",i.products),f(5),E("ngIf",((o=i.machineForm.get("start_amount"))==null?null:o.errors)&&((o=i.machineForm.get("start_amount"))==null?null:o.touched)),f(),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.machineForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,sn,Ne,He,tt,xt,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};function SQ(n,e){n&1&&(u(0,"p"),c(1,"\u0631\u0642\u0645 \u0627\u0644\u0637\u0631\u0645\u0628\u0629 \u0645\u0637\u0644\u0648\u0628"),a())}function xQ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0637\u0648\u0644 \u0647\u0648 255"),a())}function CQ(n,e){if(n&1&&(u(0,"div",25),D(1,SQ,2,0,"p",26)(2,xQ,2,0,"p",26),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.machineForm.get("machine_number"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.machineForm.get("machine_number"))==null?null:i.getError("maxLength"))}}function wQ(n,e){if(n&1&&(u(0,"option",27),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.name)}}function AQ(n,e){n&1&&(u(0,"p"),c(1,"\u0639\u062F\u0627\u062F \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D \u0645\u0637\u0644\u0648\u0628\u0629"),a())}function DQ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function IQ(n,e){if(n&1&&(u(0,"div",25),D(1,AQ,2,0,"p",26)(2,DQ,2,0,"p",26),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.machineForm.get("start_amount"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.machineForm.get("start_amount"))==null?null:i.getError("min"))}}function TQ(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function MQ(n,e){if(n&1&&(u(0,"div",25)(1,"ul"),D(2,TQ,2,1,"li",28),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function FQ(n,e){n&1&&M(0,"i",29)}var H2=class n{constructor(e,t,i,r,o,s){this.fb=e;this.router=t;this._ProductService=i;this._MachineService=r;this.route=o;this.toastr=s;this.machineForm=new dn({machine_number:this.fb.control(null,[ae.required,ae.maxLength(255)]),product_id:this.fb.control(null,[ae.required]),start_amount:this.fb.control(null,[ae.required])})}msgError=[];isLoading=!1;products=[];machineForm;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.fetchMachineData(e),this.loadProducts()}fetchMachineData(e){this._MachineService.getMachineById(e).subscribe({next:t=>{if(t){let i=t;console.log(i),this.machineForm.patchValue({machine_number:i.machine_number,product_id:i.product.id,start_amount:i.start_amount})}},error:t=>{this.msgError=t.error.error}})}loadProducts(){this._ProductService.viewAllProducts().subscribe({next:e=>{e&&(console.log(e),this.products=e)},error:e=>{console.error(e)}})}handleForm(){if(this.machineForm.valid){this.isLoading=!0;let e=new FormData;e.append("machine_number",this.machineForm.get("machine_number")?.value),e.append("product_id",this.machineForm.get("product_id")?.value),e.append("start_amount",this.machineForm.get("start_amount")?.value);let t=this.route.snapshot.paramMap.get("id");t&&this._MachineService.updateMachine(t,e).subscribe({next:i=>{this.isLoading=!1,i&&(this.toastr.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0637\u0631\u0645\u0628\u0629 \u0628\u0646\u062C\u0627\u062D"),this.router.navigate(["/dashboard/machines"]))},error:i=>{this.isLoading=!1,this.msgError=i.error.error,this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0622\u0644\u0629. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.")}})}}onCancel(){this.machineForm.reset(),this.router.navigate(["/dashboard/machines"])}static \u0275fac=function(t){return new(t||n)(O(Si),O(Me),O(Ln),O(oo),O(ft),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-update-machine"]],decls:44,vars:7,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","machine_number",1,"form-label"],["id","machine_number","formControlName","machine_number","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0631\u0642\u0645 \u0627\u0644\u0637\u0631\u0645\u0628\u0629","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"form-label"],["formControlName","product_id",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","start_amount",1,"form-label"],["id","start_amount","formControlName","start_amount","type","number","placeholder","\u0623\u062F\u062E\u0644 Start Amount","required","",1,"form-control"],[1,"mt-4","mb-4","d-flex","justify-content-around","w-25"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0637\u0631\u0645\u0628\u0627\u062A"),a(),u(3,"span",1),c(4,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(5,"i",2),c(6," \u0627\u0644\u0637\u0631\u0645\u0628\u0627\u062A "),M(7,"i",2),c(8," \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0637\u0631\u0645\u0628\u0629 "),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17,"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0637\u0631\u0645\u0628\u0627\u062A"),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0631\u0642\u0645 \u0627\u0644\u0637\u0631\u0645\u0628\u0629"),a(),M(23,"input",13),D(24,CQ,3,2,"div",14),a(),u(25,"div",11)(26,"label",15),c(27,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),u(28,"select",16)(29,"option",17),c(30," \u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),D(31,wQ,2,2,"option",18),a()(),u(32,"div",11)(33,"label",19),c(34,"\u0639\u062F\u0627\u062F \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D"),a(),M(35,"input",20),D(36,IQ,3,2,"div",14),a()()()()(),D(37,MQ,3,1,"div",14),u(38,"div",21)(39,"button",22),D(40,FQ,1,0,"i",23),c(41," \u062D\u0641\u0638"),a(),u(42,"button",24),Z("click",function(){return i.onCancel()}),c(43,"\u0625\u0644\u063A\u0627\u0621"),a()()()()()()),t&2){let r,o;f(10),E("formGroup",i.machineForm),f(14),E("ngIf",((r=i.machineForm.get("machine_number"))==null?null:r.errors)&&((r=i.machineForm.get("machine_number"))==null?null:r.touched)),f(7),E("ngForOf",i.products),f(5),E("ngIf",((o=i.machineForm.get("start_amount"))==null?null:o.errors)&&((o=i.machineForm.get("start_amount"))==null?null:o.touched)),f(),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.machineForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,sn,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var z2=class n{constructor(e,t,i){this._MachineService=e;this.router=t;this.route=i}machineData;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.fetchMachineData(e)}fetchMachineData(e){this._MachineService.getMachineById(e).subscribe({next:t=>{console.log(t),this.machineData=t||{}},error:t=>{console.error("Error fetching Product data:",t.message)}})}static \u0275fac=function(t){return new(t||n)(O(oo),O(Me),O(ft))};static \u0275cmp=Ae({type:n,selectors:[["app-show-machine"]],decls:30,vars:3,consts:[[1,"mt-4","mb-4"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"col-md-6"],[1,"mb-3"],[1,"fw-bold"],[1,"text-muted"],["routerLinkActive","active","routerLink","/dashboard/machines",1,"nav-link"],["type","button",1,"btn","btn-primary","px-4"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5"),c(7,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0622\u0644\u0629"),a()(),u(8,"div",6)(9,"div",2)(10,"div",7)(11,"div",8)(12,"label",9),c(13,"\u0627\u0644\u0627\u0633\u0645:"),a(),u(14,"p",10),c(15),a()(),u(16,"div",8)(17,"label",9),c(18,"\u0627\u0644\u0645\u0646\u062A\u062C:"),a(),u(19,"p",10),c(20),a()(),u(21,"div",8)(22,"label",9),c(23,"\u0631\u0642\u0645 \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D:"),a(),u(24,"p",10),c(25),a()()()()()()()(),u(26,"div",0)(27,"a",11)(28,"button",12),c(29,"\u0631\u062C\u0648\u0639"),a()()()()()),t&2&&(f(15),C((i.machineData==null?null:i.machineData.machine_number)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.machineData==null||i.machineData.product==null?null:i.machineData.product.name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C(i.machineData==null?null:i.machineData.start_amount))},dependencies:[wt,Ct,qi],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var pi=class n{constructor(e){this._HttpClient=e}baseURL=ui.apiUrl;viewAllShifts(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/shifts`,{headers:t})}deleteMainShiftById(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.delete(`${this.baseURL}/main-shifts/${e}`,{headers:i})}getMainShiftById(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(`${this.baseURL}/main-shifts/get-shift-by-id/${e}`,{headers:i})}getMainShiftByStatus(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(`${this.baseURL}/main-shifts/get-shifts-by-status/${e}`,{headers:i})}deleteClientPay(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.delete(`${this.baseURL}/shifts/delete-online-client/${e}`,{headers:i})}deleteOnlinePay(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.delete(`${this.baseURL}/shifts/delete-online-payment/${e}`,{headers:i})}deleteShift(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.delete(`${this.baseURL}/shifts/${e}`,{headers:i})}addShift(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.post(`${this.baseURL}/shifts`,e,{headers:i})}getShiftById(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(this.baseURL+"/shifts/"+e,{headers:i})}updateShift(e,t){let i=localStorage.getItem("Gtoken"),r=new Le().set("Authorization",`Bearer ${i}`);return t.append("_method","PUT"),this._HttpClient.post(`${this.baseURL}/shifts/${e}`,t,{headers:r})}closeMainShift(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(`${this.baseURL}/main-shifts/close-shift/${e}`,{headers:i})}approveMainShift(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(`${this.baseURL}/main-shifts/approve-shift/${e}`,{headers:i})}closeShift(e,t){let i=localStorage.getItem("Gtoken"),r=new Le().set("Authorization",`Bearer ${i}`);return t.append("_method","PUT"),this._HttpClient.post(`${this.baseURL}/shifts/closeShift/${e}`,t,{headers:r})}approveStatus(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(`${this.baseURL}/shifts/approve/${e}`,{headers:i})}getShiftByStatus(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(`${this.baseURL}/shifts/by-status/${e}`,{headers:i})}updateShiftWorker(e,t){let i=localStorage.getItem("Gtoken"),r=new Le().set("Authorization",`Bearer ${i}`);return e.append("_method","PUT"),this._HttpClient.post(`${this.baseURL}/main-shifts/update/${t}`,e,{headers:r})}addShiftWorker(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.post(`${this.baseURL}/main-shifts`,e,{headers:i})}getMachineByProduct(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(`${this.baseURL}/machines/get-machines-by-product/${e}`,{headers:i})}getMyshift(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/main-shifts/get_my_shift`,{headers:t})}static \u0275fac=function(t){return new(t||n)(Ge(ni))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var NQ=n=>["/dashboard/show-supervisor-shift",n];function PQ(n,e){if(n&1){let t=ht();u(0,"button",15),Z("click",function(){rt(t);let r=q();return ot(r.loadShifts("open"))}),c(1,"\u0627\u0644\u0648\u0631\u062F\u064A\u0629 \u0627\u0644\u0645\u0641\u062A\u0648\u062D\u0629"),a()}}function OQ(n,e){if(n&1){let t=ht();u(0,"button",16),Z("click",function(){rt(t);let r=q();return ot(r.loadShifts("closed"))}),c(1,"\u0627\u0644\u0648\u0631\u062F\u064A\u0629 \u0627\u0644\u0645\u063A\u0644\u0642\u0629"),a()}}function RQ(n,e){if(n&1){let t=ht();u(0,"button",17),Z("click",function(){rt(t);let r=q();return ot(r.loadShifts("approved"))}),c(1,"\u0627\u0644\u0648\u0631\u062F\u064A\u0629 \u0627\u0644\u0645\u0639\u062A\u0645\u062F\u0629"),a()}}function LQ(n,e){if(n&1){let t=ht();u(0,"tr")(1,"th",18),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td"),c(10),a(),u(11,"td")(12,"div",19)(13,"a",20),M(14,"i",21),a(),u(15,"i",22),Z("click",function(){let r=rt(t).$implicit,o=q();return ot(o.deleteShift(r.id))}),a()()()()}if(n&2){let t=e.$implicit,i=e.index;f(2),C(i+1),f(2),C(t.worker==null?null:t.worker.name),f(2),C(t.shift),f(2),C(t.total_shift_money),f(2),C(t.date),f(3),E("routerLink",mn(6,NQ,t.id))}}var G2=class n{constructor(e,t,i){this._ShiftService=e;this.router=t;this.toastr=i}shifts=[];filteredShifts=[];searchQuery="";currentStatus="open";userRole=null;statusFlow=["open","closed","approved"];ngOnInit(){this.getUserRole()}loadShifts(e){this.currentStatus=e,this._ShiftService.getMainShiftByStatus(e).subscribe({next:t=>{t&&(console.log(t),this.shifts=t.data,this.filteredShifts=this.shifts)},error:t=>{console.error(t)}})}onSearch(){let e=this.searchQuery.toLowerCase();this.filteredShifts=this.shifts.filter(t=>t.user?.name?.toLowerCase().includes(e)||t.opening_amount?.toString().toLowerCase().includes(e)||t.shift?.toLowerCase().includes(e))}deleteShift(e){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0648\u0631\u062F\u064A\u0629\u061F")&&this._ShiftService.deleteMainShiftById(e).subscribe({next:t=>{t&&(this.toastr.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0648\u0631\u062F\u064A\u0629 \u0628\u0646\u062C\u0627\u062D"),this.router.navigate(["/dashboard/shifts"]),this.loadShifts(this.currentStatus))},error:t=>{console.error(t),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0648\u0631\u062F\u064A\u0629.")}})}changeStatus(e){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0647\u0630\u0647 \u0627\u0644\u0648\u0631\u062F\u064A\u0629\u061F")&&this._ShiftService.approveStatus(e).subscribe({next:t=>{t&&(this.router.navigate(["/dashboard/shifts"]),this.loadShifts(this.currentStatus),this.toastr.success("\u062A\u0645 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0647\u0630\u0647 \u0627\u0644\u0648\u0631\u062F\u064A\u0629 \u0628\u0646\u062C\u0627\u062D"))},error:t=>{console.error(t),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 \u0639\u0644\u0649 \u0627\u0644\u0648\u0631\u062F\u064A\u0629.")}})}getUserRole(){let e=localStorage.getItem("userRole");e?this.userRole=Zo.decode(e):this.userRole=null,this.userRole=="admin"||this.userRole=="supervisor"?this.loadShifts("open"):this.userRole=="accountant"&&this.loadShifts("approved")}static \u0275fac=function(t){return new(t||n)(O(pi),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-shifts"]],decls:36,vars:5,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"d-flex","justify-content-around","align-items-center","w-50"],["class","btn bg-warning rounded btn1",3,"click",4,"ngIf"],["class","btn bg-primary rounded btn1",3,"click",4,"ngIf"],["class","btn bg-secondary rounded btn1",3,"click",4,"ngIf"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"fw-bold"],["type","search","placeholder","\u0628\u062D\u062B...","aria-label","\u0628\u062D\u062B",1,"form-control","search","w-25",3,"ngModelChange","input","ngModel"],[1,"table-responsive"],[1,"table","mt-3"],["scope","col",1,"bg-light"],[4,"ngFor","ngForOf"],[1,"btn","bg-warning","rounded","btn1",3,"click"],[1,"btn","bg-primary","rounded","btn1",3,"click"],[1,"btn","bg-secondary","rounded","btn1",3,"click"],["scope","row"],[1,"d-flex","justify-content-around","align-items-center"],[1,"nav-link",3,"routerLink"],[1,"fa-solid","fa-eye","btn1","bg-primary","rounded"],[1,"fa-solid","fa-trash-can","btn1","bg-danger","rounded",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0648\u0631\u062F\u064A\u0627\u062A"),a(),u(4,"span",1),c(5,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(6,"i",2),c(7," \u0627\u0644\u0648\u0631\u062F\u064A\u0627\u062A"),a()()(),u(8,"div",3),D(9,PQ,2,0,"button",4)(10,OQ,2,0,"button",5)(11,RQ,2,0,"button",6),a(),u(12,"div",7)(13,"div",8)(14,"div",0)(15,"span",9),c(16,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0648\u0631\u062F\u064A\u0627\u062A"),a(),u(17,"input",10),Tt("ngModelChange",function(o){return Pt(i.searchQuery,o)||(i.searchQuery=o),o}),Z("input",function(){return i.onSearch()}),a()()(),u(18,"div",11)(19,"table",12)(20,"thead")(21,"tr")(22,"th",13),c(23,"#"),a(),u(24,"th",13),c(25,"\u0627\u0644\u0639\u0627\u0645\u0644"),a(),u(26,"th",13),c(27," \u0627\u0644\u0648\u0631\u062F\u064A\u0629"),a(),u(28,"th",13),c(29,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062D\u0635\u0644"),a(),u(30,"th",13),c(31,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),u(32,"th",13),c(33,"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"),a()()(),u(34,"tbody"),D(35,LQ,16,8,"tr",14),a()()()()),t&2&&(f(9),E("ngIf",i.userRole!=="accountant"),f(),E("ngIf",i.userRole!=="accountant"),f(),E("ngIf",i.userRole!=="worker"),f(6),It("ngModel",i.searchQuery),f(18),E("ngForOf",i.filteredShifts))},dependencies:[Ne,He,tt,wt,Ct,Xt,Ze,et,xn],styles:["span[_ngcontent-%COMP%]{font-size:12px}.iconPlus[_ngcontent-%COMP%]{background-color:#145388;padding:11px;font-size:10px}.vendortable[_ngcontent-%COMP%]{background-color:#fff}.search[_ngcontent-%COMP%]{width:20%}.search[_ngcontent-%COMP%]{border-radius:20px;padding:.5rem 1rem;max-width:300px}.btn1[_ngcontent-%COMP%]{color:#fff;padding:5px}thead[_ngcontent-%COMP%]{background-color:#000!important}tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}i[_ngcontent-%COMP%]{cursor:pointer}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table[_ngcontent-%COMP%]{min-width:100%}@media (max-width: 768px){.table[_ngcontent-%COMP%]{font-size:12px}}"]})};function kQ(n,e){n&1&&(u(0,"p"),c(1,"\u0631\u0642\u0645 \u0641\u062A\u062D \u0627\u0644\u0648\u0631\u062F\u064A\u0629 \u0645\u0637\u0644\u0648\u0628"),a())}function jQ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function BQ(n,e){if(n&1&&(u(0,"div",35),D(1,kQ,2,0,"p",36)(2,jQ,2,0,"p",36),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.shiftForm.get("opening_amount"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.shiftForm.get("opening_amount"))==null?null:i.getError("min"))}}function VQ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0648\u0631\u062F\u064A\u0629 \u0645\u0637\u0644\u0648\u0628\u0629"),a())}function UQ(n,e){if(n&1&&(u(0,"div",35),D(1,VQ,2,0,"p",36),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.shiftForm.get("shift"))==null?null:t.hasError("required"))}}function qQ(n,e){if(n&1&&(u(0,"option",37),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),Op(" ",t.machine_number," - ",t.product.name," ")}}function $Q(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0645\u0637\u0644\u0648\u0628"),a())}function HQ(n,e){if(n&1&&(u(0,"div",35),D(1,$Q,2,0,"p",36),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.shiftForm.get("date"))==null?null:t.hasError("required"))}}function zQ(n,e){n&1&&(u(0,"p"),c(1,"\u0635\u064A\u063A\u0629 \u0627\u0644\u0635\u0648\u0631\u0629 \u063A\u064A\u0631 \u0635\u062D\u064A\u062D\u0629"),a())}function GQ(n,e){n&1&&(u(0,"p"),c(1,"\u062D\u062C\u0645 \u0627\u0644\u0645\u0644\u0641 \u0643\u0628\u064A\u0631 \u062C\u062F\u0627\u064B (\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649: 2MB)"),a())}function WQ(n,e){if(n&1&&(u(0,"div",35),D(1,zQ,2,0,"p",36)(2,GQ,2,0,"p",36),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.shiftForm.get("image"))==null?null:t.getError("invalidFileType")),f(),E("ngIf",(i=r.shiftForm.get("image"))==null?null:i.getError("fileTooLarge"))}}function YQ(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function KQ(n,e){if(n&1&&(u(0,"div",35)(1,"ul"),D(2,YQ,2,1,"li",38),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function QQ(n,e){n&1&&M(0,"i",39)}var W2=class n{constructor(e,t,i,r,o){this._ShiftService=e;this._Router=t;this._UserService=i;this._MachineService=r;this.toastr=o}msgError=[];isLoading=!1;machines=[];users=[];maxImageSize=2048*1024;shiftForm=new dn({image:new je(null,[this.validateImage.bind(this)]),opening_amount:new je(null,[ae.required,ae.min(0)]),shift:new je(null,[ae.required]),machine_id:new je(null,[ae.required]),date:new je(this.getTodayDate())});getTodayDate(){let e=new Date,t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${i}-${r}`}selectedFile=null;onFileSelected(e){let t=e.target.files[0];t&&(this.selectedFile=t,this.shiftForm.patchValue({image:t}))}validateImage(e){let t=this.selectedFile;if(t){let i=t.type,r=t.size;if(!["image/jpeg","image/png","image/jpg","image/gif"].includes(i))return{invalidFileType:!0};if(r>this.maxImageSize)return{fileTooLarge:!0}}return null}ngOnInit(){this.loadUsers(),this.loadMachines()}loadUsers(){this._UserService.viewAllUsers().subscribe({next:e=>{e&&(console.log(e),this.users=e.data)},error:e=>{console.error(e)}})}loadMachines(){this._MachineService.viewAllMachines().subscribe({next:e=>{e&&(console.log(e),this.machines=e.data)},error:e=>{console.error(e)}})}handleForm(){if(this.shiftForm.valid){this.isLoading=!0;let e=new FormData;e.append("opening_amount",this.shiftForm.get("opening_amount")?.value),e.append("user_id",this.shiftForm.get("user_id")?.value),this.selectedFile&&e.append("opening_image",this.selectedFile),e.append("shift",this.shiftForm.get("shift")?.value),e.append("machine_id",this.shiftForm.get("machine_id")?.value),e.append("date",this.shiftForm.get("date")?.value),this._ShiftService.addShift(e).subscribe({next:t=>{console.log(t),t&&(this.toastr.success("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062A\u062D\u0648\u0644 \u0628\u0646\u062C\u0627\u062D"),this.isLoading=!1,this._Router.navigate(["/dashboard/shifts"]))},error:t=>{if(this.isLoading=!1,this.msgError=[],t.error&&t.error.errors)for(let i in t.error.errors)t.error.errors[i]instanceof Array?this.msgError.push(...t.error.errors[i]):this.msgError.push(t.error.errors[i]);console.error(this.msgError),this.toastr.error("\u0641\u0634\u0644 \u0641\u064A \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062A\u062D\u0648\u0644. \u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u062F\u062E\u0644\u0629.")}})}}static \u0275fac=function(t){return new(t||n)(O(pi),O(Me),O($i),O(oo),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-add-shift"]],decls:63,vars:10,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","opening_amount",1,"form-label"],["id","opening_amount","formControlName","opening_amount","type","number","placeholder","\u0623\u062F\u062E\u0644 \u0631\u0642\u0645 \u0641\u062A\u062D \u0627\u0644\u0648\u0631\u062F\u064A\u0629","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","shift",1,"form-label"],["id","shift","formControlName","shift",1,"form-control"],["value","1"],["value","2"],[1,"form-label"],["formControlName","machine_id",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","date",1,"form-label"],["id","date","formControlName","date","type","date",1,"form-control"],[1,"form-group","text-center"],["for","image",1,"form-label"],[1,"fa-solid","fa-image"],[1,"custom-file"],["type","file","id","image","accept","image/*",1,"custom-file-input",2,"display","none",3,"change"],["for","image",1,"btn","btn-image"],[1,"fa-solid","fa-file-arrow-up"],["id","file-name"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0648\u0631\u062F\u064A\u0627\u062A"),a(),u(3,"span",1),c(4,"\u0627\u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 "),M(5,"i",2),c(6," \u0627\u0644\u0648\u0631\u062F\u064A\u0627\u062A "),M(7,"i",2),c(8," \u0625\u0636\u0627\u0641\u0629 \u0648\u0631\u062F\u064A\u0629 "),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17,"\u0625\u0636\u0627\u0641\u0629 \u0648\u0631\u062F\u064A\u0629"),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22," \u0631\u0642\u0645 \u0641\u062A\u062D \u0627\u0644\u0639\u062F\u0627\u062F "),a(),M(23,"input",13),D(24,BQ,3,2,"div",14),a(),u(25,"div",11)(26,"label",15),c(27,"\u0627\u0644\u0648\u0631\u062F\u064A\u0629"),a(),u(28,"select",16)(29,"option",17),c(30,"\u0627\u0644\u0648\u0631\u062F\u064A\u0629 1 "),a(),u(31,"option",18),c(32,"\u0627\u0644\u0648\u0631\u062F\u064A\u0629 2"),a()(),D(33,UQ,2,1,"div",14),a(),u(34,"div",11)(35,"label",19),c(36,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0637\u0631\u0645\u0628\u0629"),a(),u(37,"select",20)(38,"option",21),c(39,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0637\u0631\u0645\u0628\u0629"),a(),D(40,qQ,2,3,"option",22),a()(),u(41,"div",11)(42,"label",23),c(43,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),M(44,"input",24),D(45,HQ,2,1,"div",14),a(),u(46,"div",25)(47,"label",26),M(48,"i",27),c(49," \u0635\u0648\u0631\u0629 \u0641\u062A\u062D \u0627\u0644\u0639\u062F\u0627\u062F"),a(),u(50,"div",28)(51,"input",29),Z("change",function(o){return i.onFileSelected(o)}),a(),u(52,"label",30),M(53,"i",31),c(54," \u0627\u062E\u062A\u0631 \u0645\u0644\u0641 "),a(),u(55,"span",32),c(56),a()(),D(57,WQ,3,2,"div",14),a()()()()(),D(58,KQ,3,1,"div",14),u(59,"div",3)(60,"button",33),D(61,QQ,1,0,"i",34),c(62," \u062D\u0641\u0638"),a()()()()()()),t&2){let r,o,s,l;f(10),E("formGroup",i.shiftForm),f(14),E("ngIf",((r=i.shiftForm.get("opening_amount"))==null?null:r.errors)&&((r=i.shiftForm.get("opening_amount"))==null?null:r.touched)),f(9),E("ngIf",((o=i.shiftForm.get("shift"))==null?null:o.errors)&&((o=i.shiftForm.get("shift"))==null?null:o.touched)),f(7),E("ngForOf",i.machines),f(5),E("ngIf",((s=i.shiftForm.get("date"))==null?null:s.errors)&&((s=i.shiftForm.get("date"))==null?null:s.touched)),f(11),C((i.selectedFile==null?null:i.selectedFile.name)||"\u0644\u0645 \u064A\u062A\u0645 \u0627\u062E\u062A\u064A\u0627\u0631 \u0645\u0644\u0641"),f(),E("ngIf",((l=i.shiftForm.get("image"))==null?null:l.errors)&&((l=i.shiftForm.get("image"))==null?null:l.touched)),f(),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.shiftForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,wt,xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,sn,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};function ZQ(n,e){if(n&1&&M(0,"img",22),n&2){let t=q().$implicit;E("src",t==null?null:t.image,On)}}function JQ(n,e){if(n&1){let t=ht();u(0,"div",15)(1,"div",16),D(2,ZQ,1,1,"img",17),u(3,"div",18)(4,"h6",19),c(5),a(),u(6,"p",20),c(7),a(),u(8,"p",20),c(9),a(),u(10,"a",21),Z("click",function(){let r=rt(t).$implicit,o=q();return ot(o.deletePayment(r))}),c(11,"\u062D\u0630\u0641"),a()()()()}if(n&2){let t=e.$implicit,i=q();f(2),E("ngIf",t==null?null:t.image),f(3),C(t.client_name||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(2),Se("\u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A: ",t.amount||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631",""),f(2),Se(" \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628: ",t.amount*i.price||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631","")}}function XQ(n,e){if(n&1){let t=ht();u(0,"div",23)(1,"div",2)(2,"div",15)(3,"label",24),c(4," \u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A "),a(),u(5,"input",25),Z("input",function(){let r=rt(t).index,o=q();return ot(o.calculatePaymentTotal(r))}),a(),u(6,"small",26),c(7),a()(),u(8,"div",15)(9,"label",27),c(10,"\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644"),a(),M(11,"input",28),a(),u(12,"div",15)(13,"label",29),c(14,"\u0635\u0648\u0631\u0629 \u062F\u0641\u0639 \u0628\u0627\u0644\u0634\u0628\u0643\u0629"),a(),u(15,"input",30),Z("change",function(r){let o=rt(t).index,s=q();return ot(s.onFileSelected(r,"online_payment",o))}),a()(),u(16,"div",31)(17,"button",32),Z("click",function(){let r=rt(t).index,o=q();return ot(o.removeOnlinePayment(r))}),M(18,"i",33),c(19," \u0625\u0632\u0627\u0644\u0629 \u0627\u0644\u062F\u0641\u0639 "),a()()()()}if(n&2){let t=e.index,i=q();E("formGroupName",t),f(7),Se(" \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628: ",i.paymentResults[t]," ")}}function eZ(n,e){if(n&1&&M(0,"img",35),n&2){let t=q().$implicit;E("src",t==null?null:t.image,On)}}function tZ(n,e){if(n&1){let t=ht();u(0,"div",15)(1,"div",16),D(2,eZ,1,1,"img",34),u(3,"div",18)(4,"h6",19),c(5),a(),u(6,"p",20),c(7),a(),u(8,"p",20),c(9),a(),u(10,"a",21),Z("click",function(){let r=rt(t).$implicit,o=q();return ot(o.deleteClient(r))}),c(11,"\u062D\u0630\u0641"),a()()()()}if(n&2){let t=e.$implicit,i=q();f(2),E("ngIf",t==null?null:t.image),f(3),Se("\u0627\u0633\u0645 \u0627\u0644\u062D\u0633\u0627\u0628: ",t.account.account_name||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631",""),f(2),Se("\u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A: ",t.amount||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631",""),f(2),Se(" \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628: ",t.amount*i.price||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631","")}}function nZ(n,e){if(n&1&&(u(0,"option",41),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function iZ(n,e){if(n&1){let t=ht();u(0,"div",23)(1,"div",2)(2,"div",15)(3,"label",24),c(4," \u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A"),a(),u(5,"input",25),Z("input",function(){let r=rt(t).index,o=q();return ot(o.calculateCounterTotal(r))}),a(),u(6,"small",26),c(7),a()(),u(8,"div",36)(9,"label",37),c(10,"\u0627\u062E\u062A\u0631 \u062D\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064A\u0644 "),a(),u(11,"select",38)(12,"option",39),c(13,"\u0627\u062E\u062A\u0631 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),D(14,nZ,2,2,"option",40),a()(),u(15,"div",15)(16,"label",29),c(17,"\u0635\u0648\u0631\u0629 \u0627\u0644\u0639\u062F\u0627\u062F"),a(),u(18,"input",30),Z("change",function(r){let o=rt(t).index,s=q();return ot(s.onFileSelected(r,"client_counter",o))}),a()(),u(19,"div",31)(20,"button",32),Z("click",function(){let r=rt(t).index,o=q();return ot(o.removeClientCounter(r))}),M(21,"i",33),c(22," \u0625\u0632\u0627\u0644\u0629 \u062F\u0641\u0639 \u0627\u0644\u0639\u0645\u064A\u0644 "),a()()()()}if(n&2){let t=e.index,i=q();E("formGroupName",t),f(7),Se(" \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628: ",i.clientsResult[t]," "),f(7),E("ngForOf",i.accounts)}}var Y2=class n{constructor(e,t,i,r,o,s){this.fb=e;this.router=t;this._ShiftService=i;this.route=r;this.toastr=o;this._AccountingService=s;this.shiftForm=this.fb.group({total_cash:[""],total_client_deposit:[""],total_payed_online:[""],online_payments:this.fb.array([]),client_counters:this.fb.array([])})}msgError=[];isLoading=!1;shiftForm;selectedImages={};price=0;totalAmountSum=0;totalOnlinePayment=0;totalAmountOnline=0;totalAmountClient=0;paymentResults=[];clientsResult=[];total_client_deposit=0;amountTotal=0;accounts;onlinePay=[];clientPay=[];deletePayment(e){this._ShiftService.deleteOnlinePay(e.id).subscribe({next:t=>{console.log("Shift Data:",t),t&&(this.totalOnlinePayment-=e.amount*this.price,this.amountTotal-=e.amount*this.price,this.onlinePay=this.onlinePay.filter(i=>i.id!=e.id),this.toastr.success("\u062A\u0645 \u0627\u0644\u062D\u0632\u0641 \u0628\u0646\u062C\u0627\u062D"))},error:t=>{console.error("Error fetching shift data:",t),this.msgError=t.error.error,this.toastr.error("\u0644\u0642\u062F \u062D\u062F\u062B\u0629 \u0645\u0634\u0643\u0644\u0629 \u0627\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0639\u0646\u0635\u0631")}})}deleteClient(e){this._ShiftService.deleteClientPay(e.id).subscribe({next:t=>{console.log("Shift Data:",t),t&&(this.total_client_deposit-=e.amount*this.price,this.amountTotal-=e.amount*this.price,this.clientPay=this.clientPay.filter(i=>i.id!=e.id),this.toastr.success("\u062A\u0645 \u0627\u0644\u062D\u0632\u0641 \u0628\u0646\u062C\u0627\u062D"))},error:t=>{console.error("Error fetching shift data:",t),this.msgError=t.error.error,this.toastr.error("\u0644\u0642\u062F \u062D\u062F\u062B\u0629 \u0645\u0634\u0643\u0644\u0629 \u0627\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0639\u0646\u0635\u0631")}})}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.fetchShiftData(e),this.getAccounts()}fetchShiftData(e){this._ShiftService.getShiftById(e).subscribe({next:t=>{if(console.log("Shift Data:",t),t){let i=t.data;this.price=parseFloat(t?.data?.machine?.product?.price)||0,console.log(this.price),this.onlinePay=i.online_payments,this.clientPay=i.client_counters,this.updateOldValues()}},error:t=>{console.error("Error fetching shift data:",t),this.msgError=t.error.error}})}getAccounts(){this._AccountingService.getAccountsByParent("12").subscribe({next:e=>{e&&(this.accounts=e.data,console.log(this.accounts))},error:e=>{console.error(e)}})}updateOldValues(){let e=0,t=0,i=this.price;this.onlinePay.forEach(function(o){e+=o.amount*i,t+=o.amount}),this.totalOnlinePayment=e,e=0,this.clientPay.forEach(function(o){e+=o.amount*i,t+=o.amount}),this.total_client_deposit=e;let r=this.totalAmountOnline*this.price;this.totalOnlinePayment+=r,r=this.totalAmountClient*this.price,this.total_client_deposit+=r,this.amountTotal=this.total_client_deposit+this.totalOnlinePayment}setOnlinePayments(e){let t=this.shiftForm.get("online_payments");Array.isArray(e)||(e=[]),e.forEach(i=>{t.push(this.fb.group({id:[i.id],amount:[+i.amount||null,[ae.required,ae.min(0)]],client_name:[i.client_name||null,[ae.maxLength(255)]],image:[i.image||null]}))})}calculatePaymentTotal(e){let t=this.onlinePayments.at(e).get("amount")?.value||0;this.paymentResults[e]=t*this.price,this.calculateTotalAmountSum()}addOnlinePayment(){this.shiftForm.get("online_payments").push(this.fb.group({amount:[null,[ae.required,ae.min(0)]],client_name:[null,[ae.maxLength(255)]],image:[null]})),this.paymentResults.push(0),this.calculateTotalAmountSum()}setClientCounters(e){let t=this.shiftForm.get("client_counters");Array.isArray(e)||(e=[]),e.forEach(i=>{t.push(this.fb.group({account_id:[i.account_id,[ae.required]],amount:[+i.amount,[ae.required,ae.min(0)]],image:[i.image]}))})}calculateTotalAmountSum(){let e=this.onlinePayments.controls.map(i=>i.get("amount")?.value||0),t=this.clientCounters.controls.map(i=>i.get("amount")?.value||0);this.totalAmountOnline=e.reduce((i,r)=>i+r,0),this.totalAmountClient=t.reduce((i,r)=>i+r,0),this.totalAmountSum=[...e,...t].reduce((i,r)=>i+r,0),console.log("Total sum of all amounts (before multiplication):",this.totalAmountSum),console.log("totalAmountOnline  (before multiplication):",this.totalAmountOnline),console.log("totalAmountClient  (before multiplication):",this.totalAmountClient),this.updateOldValues()}calculateCounterTotal(e){let t=this.clientCounters.at(e).get("amount")?.value||0;this.clientsResult[e]=t*this.price,this.calculateTotalAmountSum()}addClientCounter(){this.shiftForm.get("client_counters").push(this.fb.group({account_id:[null,[ae.required]],amount:[null,[ae.required,ae.min(0)]],image:[null]})),this.calculateTotalAmountSum()}removeClientCounter(e){this.shiftForm.get("client_counters").removeAt(e),this.clientsResult.splice(e,1),this.calculateTotalAmountSum()}removeOnlinePayment(e){this.shiftForm.get("online_payments").removeAt(e),this.paymentResults.splice(e,1),this.calculateTotalAmountSum()}updateAmountTotal(){this.amountTotal=this.totalOnlinePayment+this.total_client_deposit,this.calculateTotalAmountSum()}handleForm(){if(this.shiftForm.invalid){console.log("Form validation failed:",this.shiftForm.errors),this.shiftForm.markAllAsTouched(),this.toastr.error("\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u062F\u062E\u0627\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0644\u062A\u062A\u0645\u0643\u0646 \u0645\u0646  \u0627\u0644\u062D\u0641\u0638");return}this.isLoading=!0;let e=new FormData;e.append("amount",this.totalAmountSum.toString()),console.log(this.totalAmountSum.toString()),e.append("total_payed_online",this.totalOnlinePayment.toString()),console.log(this.totalOnlinePayment.toString()),e.append("total_client_deposit",this.total_client_deposit.toString()),console.log(this.total_client_deposit.toString());let t=!0;if(this.onlinePayments.controls.forEach((i,r)=>{e.append(`online_payments[${r}][amount]`,i.get("amount")?.value||""),e.append(`online_payments[${r}][client_name]`,i.get("client_name")?.value||"");let o=this.selectedImages[`online_payment_${r}`];o&&e.append(`online_payments[${r}][image]`,o)}),t){this.clientCounters.controls.forEach((r,o)=>{e.append(`client_counters[${o}][account_id]`,r.get("account_id")?.value||""),e.append(`client_counters[${o}][amount]`,r.get("amount")?.value||"");let s=this.selectedImages[`client_counter_${o}`];s&&e.append(`client_counters[${o}][image]`,s)});for(let r of e.entries())console.log(`${r[0]}:`,r[1]);let i=this.route.snapshot.paramMap.get("id");i&&this._ShiftService.updateShift(i,e).subscribe({next:r=>{this.isLoading=!1,r&&(this.toastr.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0648\u0631\u062F\u064A\u0629 \u0628\u0646\u062C\u0627\u062D"),this.router.navigate(["/dashboard/shifts"]))},error:r=>{this.isLoading=!1,this.msgError=r.error.error,this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649")}}),console.log("Form values before submitting:",this.shiftForm.value)}}onCancel(){this.shiftForm.reset(),this.router.navigate(["/dashboard/shifts"])}get onlinePayments(){return this.shiftForm.get("online_payments")}get clientCounters(){return this.shiftForm.get("client_counters")}onFileSelected(e,t,i){let r=e.target.files[0];r&&(this.selectedImages[`${t}_${i}`]=r)}static \u0275fac=function(t){return new(t||n)(O(Si),O(Me),O(pi),O(ft),O(Qe),O(bn))};static \u0275cmp=Ae({type:n,selectors:[["app-update-shift"]],decls:53,vars:11,consts:[[3,"ngSubmit","formGroup"],[1,"mt-4"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],["formArrayName","online_payments",1,"mt-4"],["class","mb-3",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","mt-3",3,"click"],[1,"fa-solid","fa-plus"],[1,"form-group","col-md-12","mt-4"],["for","totalOnlinePayment"],["formArrayName","client_counters",1,"mt-4"],["for","total_client_deposit"],["for","amountTotal"],["type","submit",1,"btn","btn-success","mt-3",3,"disabled"],[1,"fa-solid","fa-save"],[1,"col-md-4"],[1,"card","mb-3","shadow-sm"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A","class","card-img-top",3,"src",4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-danger","btn-sm",3,"click"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A",1,"card-img-top",3,"src"],[1,"mb-3",3,"formGroupName"],["for","amount"],["formControlName","amount","type","number",1,"form-control",3,"input"],[1,"text-muted"],["for","client_name"],["formControlName","client_name","type","text",1,"form-control"],["for","image"],["type","file",1,"form-control",3,"change"],[1,"col-md-12"],["type","button",1,"btn","btn-danger","mt-2",3,"click"],[1,"fa-solid","fa-trash"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0639\u062F\u0627\u062F","class","card-img-top",3,"src",4,"ngIf"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0639\u062F\u0627\u062F",1,"card-img-top",3,"src"],[1,"form-group","col-md-4"],[1,"form-label"],["formControlName","account_id",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,i){t&1&&(u(0,"form",0),Z("ngSubmit",function(){return i.handleForm()}),u(1,"h6",1),c(2,"\u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A \u0639\u0628\u0631 \u0627\u0644\u0634\u0628\u0643\u0629"),a(),u(3,"div",2),D(4,JQ,12,4,"div",3),a(),u(5,"div",4),D(6,XQ,20,2,"div",5),u(7,"button",6),Z("click",function(){return i.addOnlinePayment()}),M(8,"i",7),c(9," \u0627\u0636\u0627\u0641\u0629 \u062F\u0641\u0639 \u0628\u0627\u0644\u0634\u0628\u0643\u0629 "),a()(),u(10,"div",8)(11,"label",9),c(12,"\u0625\u062C\u0645\u0627\u0644\u064A \u0645\u0628\u0644\u063A \u0627\u0644\u062F\u0641\u0639 \u0639\u0628\u0631 \u0627\u0644\u0634\u0628\u0643\u0629: "),u(13,"small"),c(14),a()()(),u(15,"div",8)(16,"label",9),c(17,"\u0625\u062C\u0645\u0627\u0644\u064A \u0639\u062F\u062F \u0627\u0644\u062A\u0631\u0627\u062A \u0639\u0628\u0631 \u0627\u0644\u0634\u0628\u0643\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 \u062D\u0627\u0644\u064A\u0627: "),u(18,"small"),c(19),a()()(),M(20,"br")(21,"hr")(22,"br"),u(23,"h6",1),c(24,"\u0627\u0644\u062F\u0641\u0639 \u0622\u062C\u0644 \u0644\u0644\u0639\u0645\u0644\u0627\u0621"),a(),u(25,"div",2),D(26,tZ,12,4,"div",3),a(),u(27,"div",10),D(28,iZ,23,3,"div",5),u(29,"button",6),Z("click",function(){return i.addClientCounter()}),M(30,"i",7),c(31," \u0625\u0636\u0627\u0641\u0629 \u062F\u0641\u0639 \u0639\u0645\u064A\u0644 \u0628\u0627\u0644\u0622\u062C\u0644 "),a()(),u(32,"div",8)(33,"label",11),c(34,"\u0625\u062C\u0645\u0627\u0644\u064A \u062F\u064A\u0646 \u0627\u0644\u0639\u0645\u064A\u0644 : "),u(35,"small"),c(36),a()()(),u(37,"div",8)(38,"label",11),c(39," \u0625\u062C\u0645\u0627\u0644\u064A \u0639\u062F\u062F \u0627\u0644\u062A\u0631\u0627\u062A \u0627\u0644\u0639\u0645\u0644\u0627\u0621 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 \u062D\u0627\u0644\u064A\u0627: "),u(40,"small"),c(41),a()()(),M(42,"br")(43,"hr")(44,"br"),u(45,"div",8)(46,"label",12),c(47,"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A : "),u(48,"small"),c(49),a()()(),u(50,"button",13),M(51,"i",14),c(52," \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A "),a()()),t&2&&(E("formGroup",i.shiftForm),f(4),E("ngForOf",i.onlinePay),f(2),E("ngForOf",i.onlinePayments.controls),f(8),C(i.totalOnlinePayment),f(5),C(i.totalAmountOnline),f(7),E("ngForOf",i.clientPay),f(2),E("ngForOf",i.clientCounters.controls),f(8),C(i.total_client_deposit),f(5),C(i.totalAmountClient),f(8),C(i.amountTotal),f(),E("disabled",i.isLoading))},dependencies:[Ne,He,tt,xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,Dt,Mt,Qd,Zd],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};function rZ(n,e){if(n&1&&M(0,"img",18),n&2){let t=q();E("src",t.shiftData==null?null:t.shiftData.opening_image,On)}}function oZ(n,e){n&1&&(u(0,"p",9),c(1,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0635\u0648\u0631\u0629 \u0645\u062A\u0648\u0641\u0631\u0629"),a())}function sZ(n,e){if(n&1&&M(0,"img",18),n&2){let t=q();E("src",t.shiftData==null?null:t.shiftData.ending_image,On)}}function aZ(n,e){n&1&&(u(0,"p",9),c(1,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0635\u0648\u0631\u0629 \u0645\u062A\u0648\u0641\u0631\u0629"),a())}function uZ(n,e){if(n&1&&M(0,"img",24),n&2){let t=q().$implicit;E("src",t==null?null:t.image,On)}}function lZ(n,e){if(n&1&&(u(0,"div",19)(1,"div",11),D(2,uZ,1,1,"img",20),u(3,"div",21)(4,"h6",22),c(5),a(),u(6,"p",23),c(7),a()()()()),n&2){let t=e.$implicit;f(2),E("ngIf",t==null?null:t.image),f(3),C((t==null?null:t.client_name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(2),Se("\u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A: ",(t==null?null:t.amount)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631","")}}function cZ(n,e){if(n&1&&M(0,"img",26),n&2){let t=q().$implicit;E("src",t==null?null:t.image,On)}}function dZ(n,e){if(n&1&&(u(0,"div",19)(1,"div",11),D(2,cZ,1,1,"img",25),u(3,"div",21)(4,"h6",22),c(5),a(),u(6,"p",23),c(7),a()()()()),n&2){let t=e.$implicit;f(2),E("ngIf",t==null?null:t.image),f(3),Se("\u0627\u0633\u0645 \u0627\u0644\u062D\u0633\u0627\u0628: ",(t==null?null:t.account.account_name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631",""),f(2),Se("\u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A: ",(t==null?null:t.amount)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631","")}}var K2=class n{constructor(e,t,i){this._ShiftService=e;this.router=t;this.route=i}shiftData;userData;onlinePayments=[];clientCounters=[];machineDetails;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.fetchShiftData(e)}roleTranslations={admin:"\u0645\u062F\u064A\u0631",worker:"\u0639\u0627\u0645\u0644",supervisor:"\u0645\u0634\u0631\u0641",accountant:"\u0645\u062D\u0627\u0633\u0628"};translateRole(e){return this.roleTranslations[e]||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"}statusTranslations={open:"\u0645\u0641\u062A\u0648\u062D",closed:"\u0645\u063A\u0644\u0642",approved:"\u0645\u0639\u062A\u0645\u062F"};translateStatus(e){return console.log("herherohfeborifbeoifbvohiefbvohifb",e),this.statusTranslations[e]||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"}fetchShiftData(e){this._ShiftService.getShiftById(e).subscribe({next:t=>{console.log(t),this.shiftData=t?.data||{},this.userData=this.shiftData?.user||{},this.onlinePayments=this.shiftData?.online_payments||[],this.clientCounters=this.shiftData?.client_counters||[],this.machineDetails=this.shiftData?.machine||{}},error:t=>{console.error("Error fetching shift data:",t.message)}})}static \u0275fac=function(t){return new(t||n)(O(pi),O(Me),O(ft))};static \u0275cmp=Ae({type:n,selectors:[["app-show-shift"]],decls:92,vars:16,consts:[[1,"mt-4","mb-4"],[1,"container"],[1,"card","shadow","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"row"],[1,"col-md-6"],[1,"mb-3"],[1,"fw-bold"],[1,"text-muted"],[1,"mt-4"],[1,"card","mb-3","shadow-sm"],[1,"m-3"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0625\u0646\u0647\u0627\u0621","class","img-fluid rounded w-75",3,"src",4,"ngIf"],["class","text-muted",4,"ngIf"],["class","col-md-4",4,"ngFor","ngForOf"],["routerLinkActive","active","routerLink","/dashboard/shifts",1,"nav-link"],["type","button",1,"btn","btn-primary","px-4"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0625\u0646\u0647\u0627\u0621",1,"img-fluid","rounded","w-75",3,"src"],[1,"col-md-4"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A","class","card-img-top",3,"src",4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A",1,"card-img-top",3,"src"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0639\u062F\u0627\u062F","class","card-img-top",3,"src",4,"ngIf"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0639\u062F\u0627\u062F",1,"card-img-top",3,"src"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5"),c(5,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0648\u0631\u062F\u064A\u0629"),a()(),u(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),c(11,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645:"),a(),u(12,"p",9),c(13),a()(),u(14,"div",7)(15,"label",8),c(16,"\u0627\u0644\u062F\u0648\u0631:"),a(),u(17,"p",9),c(18),a()()(),u(19,"div",6)(20,"div",7)(21,"label",8),c(22,"\u0631\u0642\u0645 \u0627\u0644\u0648\u0631\u062F\u064A\u0629:"),a(),u(23,"p",9),c(24),a()(),u(25,"div",7)(26,"label",8),c(27,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0627\u0644 \u0627\u0644\u0645\u062D\u0635\u0644 \u0645\u0646 \u0627\u0644\u0648\u0631\u062F\u064A\u0629 :"),a(),u(28,"p",9),c(29),a()(),u(30,"div",7)(31,"label",8),c(32,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0646\u0642\u062F\u064A\u0629:"),a(),u(33,"p",9),c(34),a()(),u(35,"div",7)(36,"label",8),c(37,"\u0625\u062C\u0645\u0627\u0644\u064A \u0622\u062C\u0644 \u0639\u0644\u0649 \u0627\u0644\u0639\u0645\u0644\u0627\u0621:"),a(),u(38,"p",9),c(39),a()(),u(40,"div",7)(41,"label",8),c(42,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0639\u0628\u0631 \u0627\u0644\u0634\u0628\u0643\u0629 :"),a(),u(43,"p",9),c(44),a()(),u(45,"div",7)(46,"label",8),c(47,"\u0627\u0644\u062D\u0627\u0644\u0629:"),a(),u(48,"p",9),c(49),a()()()()()(),u(50,"h6",10),c(51,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0641\u062A\u062D \u0627\u0644\u0639\u062F\u0627\u062F"),a(),u(52,"div",11)(53,"div",5)(54,"div",6)(55,"div",12)(56,"label",8),c(57,"\u0635\u0648\u0631\u0629 \u0641\u062A\u062D \u0627\u0644\u0639\u062F\u0627\u062F :"),a(),D(58,rZ,1,1,"img",13)(59,oZ,2,0,"p",14),a()(),u(60,"div",6)(61,"label",8),c(62,"\u0631\u0642\u0645 \u0641\u062A\u062D \u0627\u0644\u0639\u062F\u0627\u062F :"),a(),u(63,"p",9),c(64),a()()()(),u(65,"h6",10),c(66,"\u062A\u0641\u0627\u0635\u064A\u0644 \u063A\u0644\u0642 \u0627\u0644\u0639\u062F\u0627\u062F"),a(),u(67,"div",11)(68,"div",5)(69,"div",6)(70,"div",12)(71,"label",8),c(72,"\u0635\u0648\u0631\u0629 \u0627\u0644\u0625\u0646\u0647\u0627\u0621:"),a(),D(73,sZ,1,1,"img",13)(74,aZ,2,0,"p",14),a()(),u(75,"div",6)(76,"label",8),c(77,"\u0631\u0642\u0645 \u063A\u0644\u0642 \u0627\u0644\u0639\u062F\u0627\u062F :"),a(),u(78,"p",9),c(79),a()()()(),u(80,"h6",10),c(81,"\u0627\u0644\u0645\u062F\u0641\u0648\u0639\u0627\u062A \u0639\u0628\u0631 \u0627\u0644\u0634\u0628\u0643\u0629"),a(),u(82,"div",5),D(83,lZ,8,3,"div",15),a(),u(84,"h6",10),c(85,"\u0627\u0644\u062F\u0641\u0639 \u0622\u062C\u0644 \u0644\u0644\u0639\u0645\u0644\u0627\u0621"),a(),u(86,"div",5),D(87,dZ,8,3,"div",15),a(),u(88,"div",10)(89,"a",16)(90,"button",17),c(91,"\u0631\u062C\u0648\u0639"),a()()()()()),t&2&&(f(13),C((i.userData==null?null:i.userData.name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),Se(" ",i.roleTranslations[i.userData==null?null:i.userData.role]||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631",""),f(6),C((i.shiftData==null?null:i.shiftData.shift)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.shiftData==null?null:i.shiftData.total_money)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.shiftData==null?null:i.shiftData.total_cash)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.shiftData==null?null:i.shiftData.total_client_deposit)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.shiftData==null?null:i.shiftData.total_payed_online)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C(i.statusTranslations[i.shiftData==null?null:i.shiftData.status]||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(9),E("ngIf",i.shiftData==null?null:i.shiftData.ending_image),f(),E("ngIf",!(i.shiftData!=null&&i.shiftData.opening_image)),f(5),C((i.shiftData==null?null:i.shiftData.opening_amount)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(9),E("ngIf",i.shiftData==null?null:i.shiftData.ending_image),f(),E("ngIf",!(i.shiftData!=null&&i.shiftData.ending_image)),f(5),C((i.shiftData==null?null:i.shiftData.ending_amount)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(4),E("ngForOf",i.onlinePayments),f(4),E("ngForOf",i.clientCounters))},dependencies:[Ne,He,tt,qi,wt,Ct],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var pZ=(n,e)=>["/dashboard/accounting/",n,"showAccount",e],fZ=(n,e)=>["/dashboard/accounting/",n,"updateAccount",e];function mZ(n,e){if(n&1&&(u(0,"a",14),M(1,"i",15),a()),n&2){let t=q();Id("routerLink","/dashboard/addAccount/",t.accountId,"")}}function hZ(n,e){n&1&&(u(0,"a",16),M(1,"i",17),c(2," \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 "),a())}function gZ(n,e){if(n&1){let t=ht();u(0,"input",18),Tt("ngModelChange",function(r){rt(t);let o=q();return Pt(o.searchTerm,r)||(o.searchTerm=r),ot(r)}),Z("input",function(){rt(t);let r=q();return ot(r.filterAccounts())}),a()}if(n&2){let t=q();It("ngModel",t.searchTerm)}}function vZ(n,e){if(n&1&&(u(0,"span",7),c(1),a()),n&2){let t=q();f(),Se("\u0627\u0644\u0636\u0631\u064A\u0628\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629: ",t.taxRate==null?null:t.taxRate.rate," %")}}function _Z(n,e){if(n&1&&(u(0,"td"),c(1),a()),n&2){let t=q().$implicit;f(),C(t.current_balance*-1)}}function yZ(n,e){if(n&1&&(u(0,"td"),c(1),a()),n&2){let t=q().$implicit;f(),Se(" ",t.current_balance,"")}}function bZ(n,e){n&1&&(u(0,"td"),c(1," \u062F\u0627\u0626\u0646 "),a())}function EZ(n,e){n&1&&(u(0,"td"),c(1," \u0645\u062F\u064A\u0646 "),a())}function SZ(n,e){if(n&1&&(u(0,"a",14),M(1,"i",24),a()),n&2){let t=q().$implicit,i=q();E("routerLink",Td(1,fZ,i.accountId,t.id))}}function xZ(n,e){if(n&1){let t=ht();u(0,"i",25),Z("click",function(){rt(t);let r=q().$implicit,o=q();return ot(o.deleteAccount(r.id))}),a()}}function CZ(n,e){if(n&1&&(u(0,"tr")(1,"th",19),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),D(9,_Z,2,1,"td",20)(10,yZ,2,1,"td",20),u(11,"td"),c(12),a(),D(13,bZ,2,0,"td",20)(14,EZ,2,0,"td",20),u(15,"td"),c(16),a(),u(17,"td")(18,"div",21)(19,"a",14),M(20,"i",22),a(),D(21,SZ,2,4,"a",3)(22,xZ,1,0,"i",23),a()()()),n&2){let t=e.$implicit,i=e.index,r=q();f(2),C(i+1),f(2),C(t.account_name),f(2),C(t.net_debit),f(2),C(t.net_credit),f(),E("ngIf",t.current_balance<0),f(),E("ngIf",t.current_balance>=0),f(2),C(t.start_amount),f(),E("ngIf",t.current_balance<0),f(),E("ngIf",t.current_balance>=0),f(2),C(r.getAccountMessage(t.type)),f(3),E("routerLink",Td(13,pZ,r.accountId,t.id)),f(2),E("ngIf",r.userRole!=="accountant"),f(),E("ngIf",r.accountId!=="7"&&r.userRole!=="accountant")}}var Q2=class n{constructor(e,t,i,r){this.route=e;this._AccountingService=t;this._Router=i;this.toastr=r}userRole=null;accountTypes=[{id:"1",message:"\u0627\u0644\u0646\u0642\u062F\u064A\u0629 \u0648 \u0645\u0627 \u0641\u0649 \u062D\u0643\u0645\u0647\u0627"},{id:"2",message:"\u0645\u062E\u0632\u0648\u0646"},{id:"3",message:"\u0627\u0644\u0630\u0645\u0645 \u0627\u0644\u0645\u062F\u064A\u0646\u0629 \u0627\u0644\u062A\u062C\u0627\u0631\u064A\u0629"},{id:"4",message:"\u0645\u0635\u0631\u0648\u0641\u0627\u062A \u0645\u062F\u0641\u0648\u0639\u0629 \u0645\u0642\u062F\u0645\u0627"},{id:"5",message:"\u0627\u0631\u0635\u062F\u0629 \u0645\u062F\u064A\u0646\u0629 \u0627\u0644\u062A\u062C\u0627\u0631\u064A\u0629"},{id:"6",message:"\u0627\u0635\u0631\u0627\u0641 \u0630\u0627\u062A \u0639\u0644\u0627\u0642\u0629 \u0645\u062F\u064A\u0646\u0629"},{id:"7",message:"\u0645\u0645\u062A\u0644\u0643\u0627\u062A \u0648 \u0623\u0644\u0627\u062A \u0648 \u0645\u0639\u062F\u0627\u062A \u0635\u0627\u0641\u0649"},{id:"8",message:"\u0645\u0634\u0631\u0648\u0639\u0627\u062A \u062A\u062D\u062A \u0627\u0644\u062A\u0646\u0641\u064A\u0630"},{id:"9",message:"\u0630\u0645\u0645 \u062F\u0627\u0626\u0646\u0629 \u062A\u062C\u0627\u0631\u064A\u0629"},{id:"10",message:"\u0627\u0637\u0631\u0627\u0641 \u0630\u0627\u062A \u0639\u0644\u0627\u0642\u0629 \u062F\u0627\u0626\u0646\u0629"},{id:"11",message:"\u0627\u0631\u0635\u062F\u0629 \u062F\u0627\u0626\u0646\u0629 \u0627\u062E\u0631\u0649"},{id:"13",message:"\u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062D\u0642\u0629"},{id:"14",message:"\u0642\u0631\u0648\u0636 \u0637\u0648\u064A\u0644\u0629 \u0627\u0644\u0627\u062C\u0644"},{id:"15",message:"\u0631\u0623\u0633 \u0627\u0644\u0645\u0627\u0644"},{id:"16",message:"\u062C\u0627\u0631\u0649 \u0627\u0644\u0634\u0631\u0643\u0627\u0621"},{id:"17",message:"\u0627\u0631\u0628\u0627\u062D \u0627\u0644\u0639\u0627\u0645"},{id:"18",message:"\u0635\u0627\u0641\u0649 \u0627\u0644\u0627\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u062A\u0634\u063A\u064A\u0644\u064A\u0629"},{id:"19",message:"\u062A\u0643\u0644\u0641\u0629 \u0627\u0644\u0627\u064A\u0631\u0627\u062F\u0627\u062A"},{id:"20",message:"\u0627\u0644\u062A\u0643\u0627\u0644\u064A\u0641 \u0627\u0644\u062A\u0634\u063A\u064A\u0644\u064A\u0629"},{id:"21",message:"\u0645\u0635\u0627\u0631\u064A\u0641 \u0628\u064A\u0639 \u0648 \u062A\u0648\u0632\u064A\u0639"},{id:"22",message:"\u0645\u062E\u0635\u0635 \u0627\u0647\u0644\u0627\u0643 \u0627\u0644\u0627\u0635\u0648\u0644 \u0627\u0644\u062B\u0627\u0628\u062A\u0647"},{id:"23",message:"\u0645\u0635\u0627\u0631\u064A\u0641 \u0627\u062F\u0627\u0631\u064A\u0629 \u0648 \u0639\u0645\u0648\u0645\u064A\u0629"},{id:"24",message:"\u0627\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u062E\u0631\u0649"},{id:"25",message:"\u0627\u0644\u0632\u0643\u0627\u0629 \u0627\u0644\u062A\u0642\u062F\u064A\u0631\u064A\u0629"},{id:"26",message:"\u0635\u0627\u0641\u0649 \u0627\u0644\u0627\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u062A\u0634\u062E\u064A\u0644\u064A\u0629"},{id:"none",message:"\u0646\u0648\u0639 \u0627\u062E\u0631"}];accounts;accountId=null;searchTerm="";filteredAccounts=[];taxRate;ngOnInit(){this.route.paramMap.subscribe(e=>{this.accountId=e.get("id"),this.onAccountIdChange(this.accountId)}),this.getAccounts(),this.getTaxRate(),this.getUserRole()}getAccounts(){this._AccountingService.getAccountsByParent(this.accountId||"").subscribe({next:e=>{e&&(this.accounts=e.data,console.log(this.accounts),this.filteredAccounts=[...this.accounts])},error:e=>{console.error(e)}})}getTaxRate(){this._AccountingService.getTaxRate().subscribe({next:e=>{e&&(this.taxRate=e,console.log(this.taxRate))},error:e=>{console.error(e)}})}onAccountIdChange(e){this.accountId=e,this.getAccounts()}filterAccounts(){let e=this.searchTerm.toLowerCase();this.filteredAccounts=this.accounts.filter(t=>t.account_name.toLowerCase().includes(e)||t.net_debit.toString().toLowerCase().includes(e)||t.net_credit.toString().toLowerCase().includes(e)||t.current_balance.toString().toLowerCase().includes(e))}deleteAccount(e){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u062D\u0633\u0627\u0628\u061F")&&this._AccountingService.deleteAccount(e).subscribe({next:t=>{t&&(this.toastr.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u062D\u0633\u0627\u0628 \u0628\u0646\u062C\u0627\u062D"),this._Router.navigate([`/dashboard/accounting/${this.accountId}`]),this.getAccounts())},error:t=>{console.error(t),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u062D\u0633\u0627\u0628.")}})}getAccountMessage(e){let t=this.accountTypes.find(i=>i.id==e);return console.log(e),t?t.message:"Unknown Type"}getUserRole(){let e=localStorage.getItem("userRole");e?this.userRole=Zo.decode(e):this.userRole=null}static \u0275fac=function(t){return new(t||n)(O(ft),O(bn),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-accounting"]],decls:41,vars:5,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],["class","nav-link",3,"routerLink",4,"ngIf"],["class","nav-link text-white bg-primary p-2 rounded","routerLink","/dashboard/editTaxRate",4,"ngIf"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"fw-bold"],["class","form-control search w-25","type","search","placeholder","\u0627\u0644\u0628\u062D\u062B...","aria-label","Search",3,"ngModel","ngModelChange","input",4,"ngIf"],["class","fw-bold",4,"ngIf"],[1,"table-responsive"],[1,"table","mt-3"],["scope","col",1,"bg-light"],[4,"ngFor","ngForOf"],[1,"nav-link",3,"routerLink"],[1,"fa-solid","fa-plus","text-white","iconPlus","rounded"],["routerLink","/dashboard/editTaxRate",1,"nav-link","text-white","bg-primary","p-2","rounded"],[1,"fa-solid","fa-edit"],["type","search","placeholder","\u0627\u0644\u0628\u062D\u062B...","aria-label","Search",1,"form-control","search","w-25",3,"ngModelChange","input","ngModel"],["scope","row"],[4,"ngIf"],[1,"d-flex","justify-content-around","align-items-center"],[1,"fa-solid","fa-eye","btn1","bg-primary","rounded"],["class","fa-solid fa-trash-can btn1 bg-danger rounded",3,"click",4,"ngIf"],[1,"fa-solid","fa-pencil","btn1","bg-success","rounded"],[1,"fa-solid","fa-trash-can","btn1","bg-danger","rounded",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629"),a(),u(4,"span",1),c(5,"\u0627\u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 "),M(6,"i",2),c(7," \u0627\u0644\u0645\u062D\u0627\u0633\u0628\u0629"),a()(),D(8,mZ,2,2,"a",3)(9,hZ,3,0,"a",4),a(),u(10,"div",5)(11,"div",6)(12,"div",0)(13,"span",7),c(14,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A"),a(),D(15,gZ,1,1,"input",8)(16,vZ,2,1,"span",9),a()(),u(17,"div",10)(18,"table",11)(19,"thead")(20,"tr")(21,"th",12),c(22,"#"),a(),u(23,"th",12),c(24,"\u0627\u0644\u0627\u0633\u0645"),a(),u(25,"th",12),c(26,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0645\u062F\u064A\u0646"),a(),u(27,"th",12),c(28,"\u0627\u062C\u0645\u0627\u0644\u0649 \u062F\u0627\u0626\u0646"),a(),u(29,"th",12),c(30,"\u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u062D\u0627\u0644\u0649"),a(),u(31,"th",12),c(32,"\u0631\u0635\u064A\u062F \u0627\u0648\u0644 \u0645\u062F\u0629"),a(),u(33,"th",12),c(34,"\u0637\u0628\u064A\u0639\u0629 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),u(35,"th",12),c(36," \u0646\u0648\u0639 \u0627\u0644\u062D\u0633\u0627\u0628 "),a(),u(37,"th",12),c(38,"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"),a()()(),u(39,"tbody"),D(40,CZ,23,16,"tr",13),a()()()()),t&2&&(f(8),E("ngIf",i.accountId&&i.accountId!="7"),f(),E("ngIf",i.accountId&&i.accountId=="7"),f(6),E("ngIf",i.accountId&&i.accountId!="7"),f(),E("ngIf",i.accountId&&i.accountId=="7"),f(24),E("ngForOf",i.filteredAccounts))},dependencies:[xt,Ze,et,Xt,xn,Ne,He,tt,wt,Ct],styles:["span[_ngcontent-%COMP%]{font-size:12px}.iconPlus[_ngcontent-%COMP%]{background-color:#145388;padding:11px;font-size:10px}.vendortable[_ngcontent-%COMP%]{background-color:#fff}.search[_ngcontent-%COMP%]{width:20%}.search[_ngcontent-%COMP%]{border-radius:20px;padding:.5rem 1rem;max-width:300px}.btn1[_ngcontent-%COMP%]{color:#fff;padding:5px}thead[_ngcontent-%COMP%]{background-color:#000!important}tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}i[_ngcontent-%COMP%]{cursor:pointer}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table[_ngcontent-%COMP%]{min-width:100%}@media (max-width: 768px){.table[_ngcontent-%COMP%]{font-size:12px}}"]})};function wZ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0633\u0645 \u0627\u0644\u062D\u0633\u0627\u0628 \u0645\u0637\u0644\u0648\u0628"),a())}function AZ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0637\u0648\u0644 \u0647\u0648 255"),a())}function DZ(n,e){if(n&1&&(u(0,"div",25),D(1,wZ,2,0,"p",26)(2,AZ,2,0,"p",26),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.accountForm.get("account_name"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.accountForm.get("account_name"))==null?null:i.getError("maxLength"))}}function IZ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0637\u0648\u0644 \u0647\u0648 255"),a())}function TZ(n,e){if(n&1&&(u(0,"div",25),D(1,IZ,2,0,"p",26),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.accountForm.get("phone"))==null?null:t.getError("maxLength"))}}function MZ(n,e){n&1&&(u(0,"p"),c(1," \u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D\u0649 \u0645\u0637\u0644\u0648\u0628 "),a())}function FZ(n,e){n&1&&(u(0,"p"),c(1," \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0633\u0644\u0628\u064A "),a())}function NZ(n,e){if(n&1&&(u(0,"div",25),D(1,MZ,2,0,"p",26)(2,FZ,2,0,"p",26),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.accountForm.get("current_balance"))==null?null:t.hasError("required")),f(),E("ngIf",(i=r.accountForm.get("current_balance"))==null?null:i.hasError("min"))}}function PZ(n,e){if(n&1&&(u(0,"option",27),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.message)}}function OZ(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function RZ(n,e){if(n&1&&(u(0,"div",25)(1,"ul"),D(2,OZ,2,1,"li",28),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function LZ(n,e){n&1&&M(0,"i",29)}var Z2=class n{constructor(e,t,i,r,o){this.route=e;this.fb=t;this._AccountingService=i;this._Router=r;this.toastr=o;this.accountForm=this.fb.group({account_name:["",[ae.required,ae.maxLength(255)]],phone:["",[ae.maxLength(255)]],current_balance:[0,[ae.required,ae.min(0)]],type:["",[ae.required]],net_debit:[null,[ae.min(0)]],net_credit:[null,[ae.min(0)]]})}accountForm;parentAccounts=[];isLoading=!1;accountTypes=[{id:"1",message:"\u0627\u0644\u0646\u0642\u062F\u064A\u0629 \u0648 \u0645\u0627 \u0641\u0649 \u062D\u0643\u0645\u0647\u0627"},{id:"2",message:"\u0645\u062E\u0632\u0648\u0646"},{id:"3",message:"\u0627\u0644\u0630\u0645\u0645 \u0627\u0644\u0645\u062F\u064A\u0646\u0629 \u0627\u0644\u062A\u062C\u0627\u0631\u064A\u0629"},{id:"4",message:"\u0645\u0635\u0631\u0648\u0641\u0627\u062A \u0645\u062F\u0641\u0648\u0639\u0629 \u0645\u0642\u062F\u0645\u0627"},{id:"5",message:"\u0627\u0631\u0635\u062F\u0629 \u0645\u062F\u064A\u0646\u0629 \u0627\u0644\u062A\u062C\u0627\u0631\u064A\u0629"},{id:"6",message:"\u0627\u0635\u0631\u0627\u0641 \u0630\u0627\u062A \u0639\u0644\u0627\u0642\u0629 \u0645\u062F\u064A\u0646\u0629"},{id:"7",message:"\u0645\u0645\u062A\u0644\u0643\u0627\u062A \u0648 \u0623\u0644\u0627\u062A \u0648 \u0645\u0639\u062F\u0627\u062A \u0635\u0627\u0641\u0649"},{id:"8",message:"\u0645\u0634\u0631\u0648\u0639\u0627\u062A \u062A\u062D\u062A \u0627\u0644\u062A\u0646\u0641\u064A\u0630"},{id:"9",message:"\u0630\u0645\u0645 \u062F\u0627\u0626\u0646\u0629 \u062A\u062C\u0627\u0631\u064A\u0629"},{id:"10",message:"\u0627\u0637\u0631\u0627\u0641 \u0630\u0627\u062A \u0639\u0644\u0627\u0642\u0629 \u062F\u0627\u0626\u0646\u0629"},{id:"11",message:"\u0627\u0631\u0635\u062F\u0629 \u062F\u0627\u0626\u0646\u0629 \u0627\u062E\u0631\u0649"},{id:"13",message:"\u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062D\u0642\u0629"},{id:"14",message:"\u0642\u0631\u0648\u0636 \u0637\u0648\u064A\u0644\u0629 \u0627\u0644\u0627\u062C\u0644"},{id:"15",message:"\u0631\u0623\u0633 \u0627\u0644\u0645\u0627\u0644"},{id:"16",message:"\u062C\u0627\u0631\u0649 \u0627\u0644\u0634\u0631\u0643\u0627\u0621"},{id:"17",message:"\u0627\u0631\u0628\u0627\u062D \u0627\u0644\u0639\u0627\u0645"},{id:"18",message:"\u0635\u0627\u0641\u0649 \u0627\u0644\u0627\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u062A\u0634\u063A\u064A\u0644\u064A\u0629"},{id:"19",message:"\u062A\u0643\u0644\u0641\u0629 \u0627\u0644\u0627\u064A\u0631\u0627\u062F\u0627\u062A"},{id:"20",message:"\u0627\u0644\u062A\u0643\u0627\u0644\u064A\u0641 \u0627\u0644\u062A\u0634\u063A\u064A\u0644\u064A\u0629"},{id:"21",message:"\u0645\u0635\u0627\u0631\u064A\u0641 \u0628\u064A\u0639 \u0648 \u062A\u0648\u0632\u064A\u0639"},{id:"22",message:"\u0645\u062E\u0635\u0635 \u0627\u0647\u0644\u0627\u0643 \u0627\u0644\u0627\u0635\u0648\u0644 \u0627\u0644\u062B\u0627\u0628\u062A\u0647"},{id:"23",message:"\u0645\u0635\u0627\u0631\u064A\u0641 \u0627\u062F\u0627\u0631\u064A\u0629 \u0648 \u0639\u0645\u0648\u0645\u064A\u0629"},{id:"24",message:"\u0627\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u062E\u0631\u0649"},{id:"25",message:"\u0627\u0644\u0632\u0643\u0627\u0629 \u0627\u0644\u062A\u0642\u062F\u064A\u0631\u064A\u0629"},{id:"26",message:"\u0635\u0627\u0641\u0649 \u0627\u0644\u0627\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u062A\u0634\u062E\u064A\u0644\u064A\u0629"},{id:"none",message:"\u0646\u0648\u0639 \u0627\u062E\u0631"}];msgError=[];accountId=null;account;ngOnInit(){this.route.paramMap.subscribe(e=>{this.accountId=e.get("id"),this.onAccountIdChange(this.accountId)}),this.getParentAccount()}getParentAccount(){this._AccountingService.getParentAccount(this.accountId||"").subscribe({next:e=>{e&&(this.account=e.data,console.log(this.account))},error:e=>{console.error(e)}})}onAccountIdChange(e){this.accountId=e,this.getParentAccount()}handleForm(){if(this.accountForm.valid&&this.account){this.isLoading=!0;let e=new FormData;e.append("account_name",this.accountForm.get("account_name")?.value),e.append("phone",this.accountForm.get("phone")?.value||""),e.append("current_balance",this.accountForm.get("current_balance")?.value||0),e.append("net_debit",this.accountForm.get("net_debit")?.value||0),e.append("net_credit",this.accountForm.get("net_credit")?.value||0),e.append("parent_id",this.account.id),e.append("type",this.accountForm.get("type")?.value),this._AccountingService.addAccount(e).subscribe({next:t=>{console.log(t),t&&(this.isLoading=!1,this.toastr.success("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062D\u0633\u0627\u0628 \u0628\u0646\u062C\u0627\u062D"),this._Router.navigate(["/dashboard/accounting/"+this.account.id]))},error:t=>{if(this.isLoading=!1,this.msgError=[],t.error&&t.error.errors)for(let i in t.error.errors)t.error.errors[i]instanceof Array?this.msgError.push(...t.error.errors[i]):this.msgError.push(t.error.errors[i]);console.error(this.msgError),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649")}})}else this.msgError=["\u064A\u0631\u062C\u0649 \u0645\u0644\u0621 \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629 \u0628\u0634\u0643\u0644 \u0635\u062D\u064A\u062D."]}static \u0275fac=function(t){return new(t||n)(O(ft),O(Si),O(bn),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-add-account"]],decls:47,vars:9,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","account_name",1,"form-label"],["id","account_name","formControlName","account_name","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u062D\u0633\u0627\u0628","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","phone",1,"form-label"],["id","phone","formControlName","phone","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641",1,"form-control"],["for","current_balance",1,"form-label"],["id","current_balance","formControlName","current_balance","type","number","step","0.01","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D\u0649",1,"form-control"],[1,"form-label"],["formControlName","type",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A"),a(),u(3,"span",1),c(4,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(5,"i",2),c(6," \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A "),M(7,"i",2),c(8," \u0625\u0646\u0634\u0627\u0621 \u062D\u0633\u0627\u0628"),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0627\u0633\u0645 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),M(23,"input",13),D(24,DZ,3,2,"div",14),a(),u(25,"div",11)(26,"label",15),c(27,"\u0627\u0644\u0647\u0627\u062A\u0641"),a(),M(28,"input",16),D(29,TZ,2,1,"div",14),a(),u(30,"div",11)(31,"label",17),c(32,"\u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D\u0649"),a(),M(33,"input",18),D(34,NZ,3,2,"div",14),a(),u(35,"div",11)(36,"label",19),c(37,"\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u062D\u0633\u0627\u0628 "),a(),u(38,"select",20)(39,"option",21),c(40," \u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),D(41,PZ,2,2,"option",22),a()()()()()(),D(42,RZ,3,1,"div",14),u(43,"div",3)(44,"button",23),D(45,LZ,1,0,"i",24),c(46," \u062D\u0641\u0638 "),a()()()()()()),t&2){let r,o,s;f(10),E("formGroup",i.accountForm),f(7),Se("\u0625\u0636\u0627\u0641\u0629 \u062D\u0633\u0627\u0628 \u0625\u0644\u0649: ",i.account==null?null:i.account.account_name,""),f(7),E("ngIf",((r=i.accountForm.get("account_name"))==null?null:r.errors)&&((r=i.accountForm.get("account_name"))==null?null:r.touched)),f(5),E("ngIf",((o=i.accountForm.get("phone"))==null?null:o.errors)&&((o=i.accountForm.get("phone"))==null?null:o.touched)),f(5),E("ngIf",((s=i.accountForm.get("current_balance"))==null?null:s.errors)&&((s=i.accountForm.get("current_balance"))==null?null:s.touched)),f(7),E("ngForOf",i.accountTypes),f(),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.accountForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,sn,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var sa=class n{constructor(e){this._HttpClient=e}baseURL=ui.apiUrl;getAllByType(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(`${this.baseURL}/payment-documents/by-type/${e}`,{headers:i})}addDocument(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.post(`${this.baseURL}/payment_documents`,e,{headers:i})}deleteDocument(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.delete(`${this.baseURL}/payment_documents/${e}`,{headers:i})}getDocumentById(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(this.baseURL+"/payment_documents/"+e,{headers:i})}updateDocument(e,t){let i=localStorage.getItem("Gtoken"),r=new Le().set("Authorization",`Bearer ${i}`);return t.append("_method","PUT"),this._HttpClient.post(`${this.baseURL}/payment_documents/${e}`,t,{headers:r})}static \u0275fac=function(t){return new(t||n)(Ge(ni))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var kZ=(n,e)=>["/dashboard/paymentDocument/",n,"showDocument",e],jZ=(n,e)=>["/dashboard/paymentDocument/",n,"updateDocument",e];function BZ(n,e){if(n&1){let t=ht();u(0,"tr")(1,"th",13),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td"),c(10),a(),u(11,"td"),c(12),a(),u(13,"td"),c(14),a(),u(15,"td")(16,"div",14)(17,"a",3),M(18,"i",15),a(),u(19,"a",3),M(20,"i",16),a(),u(21,"i",17),Z("click",function(){let r=rt(t).$implicit,o=q();return ot(o.deleteDocument(r.id))}),a()()()()}if(n&2){let t=e.$implicit,i=e.index,r=q();f(2),C(i+1),f(2),C(t.receiver_name),f(2),C(t.amount),f(2),C(t.type),f(2),C(t.statement),f(2),C(t.company_account.account_name),f(2),C(t.customer_account.account_name),f(3),E("routerLink",Td(9,kZ,r.type,t.id)),f(2),E("routerLink",Td(12,jZ,r.type,t.id))}}var X2=class n{constructor(e,t,i,r){this.route=e;this._DocumentService=t;this.router=i;this.toastr=r}type=null;documents;filteredDocuments=[];searchQuery="";ngOnInit(){this.route.paramMap.subscribe(e=>{this.type=e.get("type"),this.onType(this.type)}),this.getPaymentDocuments()}getPaymentDocuments(){this._DocumentService.getAllByType(this.type||"").subscribe({next:e=>{e&&(this.documents=e.data,console.log(this.documents),this.filteredDocuments=[...this.documents])},error:e=>{console.error(e)}})}onSearch(){let e=this.searchQuery.toLowerCase();this.filteredDocuments=this.documents.filter(t=>t.receiver_name.toLowerCase().includes(e)||t.amount.toString().toLowerCase().includes(e)||t.type.toLowerCase().includes(e)||t.customer_account.account_name.toLowerCase().includes(e)||t.company_account.account_name.toLowerCase().includes(e))}onType(e){this.type=e,this.getPaymentDocuments()}deleteDocument(e){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u061F")&&this._DocumentService.deleteDocument(e).subscribe({next:t=>{t&&(this.toastr.success("\u062A\u0645 \u062D\u0630\u0641 \u0645\u0633\u062A\u0646\u062F \u0627\u0644\u062F\u0641\u0639 \u0628\u0646\u062C\u0627\u062D"),this.router.navigate([`/dashboard/paymentDocument/${this.type}`]),this.getPaymentDocuments())},error:t=>{console.error(t),alert("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0645\u0633\u062A\u0646\u062F.")}})}static \u0275fac=function(t){return new(t||n)(O(ft),O(sa),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-payment-document"]],decls:38,vars:4,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"nav-link",3,"routerLink"],[1,"fa-solid","fa-plus","text-white","iconPlus","rounded"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"fw-bold"],["type","search","placeholder","\u0627\u0628\u062D\u062B...","aria-label","\u0628\u062D\u062B",1,"form-control","search","w-25",3,"ngModelChange","input","ngModel"],[1,"table-responsive"],[1,"table","mt-3"],["scope","col",1,"bg-light"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","justify-content-around","align-items-center"],[1,"fa-solid","fa-eye","btn1","bg-primary","rounded"],[1,"fa-solid","fa-pencil","btn1","bg-success","rounded"],[1,"fa-solid","fa-trash-can","btn1","bg-danger","rounded",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A"),a(),u(4,"span",1),c(5,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(6,"i",2),c(7," \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A"),a()(),u(8,"a",3),M(9,"i",4),a()(),u(10,"div",5)(11,"div",6)(12,"div",0)(13,"span",7),c(14,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F\u0627\u062A"),a(),u(15,"input",8),Tt("ngModelChange",function(o){return Pt(i.searchQuery,o)||(i.searchQuery=o),o}),Z("input",function(){return i.onSearch()}),a()()(),u(16,"div",9)(17,"table",10)(18,"thead")(19,"tr")(20,"th",11),c(21,"#"),a(),u(22,"th",11),c(23,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u0644\u0645"),a(),u(24,"th",11),c(25,"\u0627\u0644\u0645\u0628\u0644\u063A"),a(),u(26,"th",11),c(27,"\u0627\u0644\u0646\u0648\u0639"),a(),u(28,"th",11),c(29,"\u0627\u0644\u0628\u064A\u0627\u0646"),a(),u(30,"th",11),c(31,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064A\u0644"),a(),u(32,"th",11),c(33,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0634\u0631\u0643\u0629"),a(),u(34,"th",11),c(35,"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"),a()()(),u(36,"tbody"),D(37,BZ,22,15,"tr",12),a()()()()),t&2&&(f(8),Id("routerLink","/dashboard/addPaymentDocument/",i.type,""),f(7),It("ngModel",i.searchQuery),f(22),E("ngForOf",i.filteredDocuments))},dependencies:[xt,Ze,et,Xt,xn,Ne,He,wt,Ct],styles:["span[_ngcontent-%COMP%]{font-size:12px}.iconPlus[_ngcontent-%COMP%]{background-color:#145388;padding:11px;font-size:10px}.vendortable[_ngcontent-%COMP%]{background-color:#fff}.search[_ngcontent-%COMP%]{width:20%}.search[_ngcontent-%COMP%]{border-radius:20px;padding:.5rem 1rem;max-width:300px}.btn1[_ngcontent-%COMP%]{color:#fff;padding:5px}thead[_ngcontent-%COMP%]{background-color:#000!important}tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}i[_ngcontent-%COMP%]{cursor:pointer}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table[_ngcontent-%COMP%]{min-width:100%}@media (max-width: 768px){.table[_ngcontent-%COMP%]{font-size:12px}}"]})};function VZ(n,e){if(n&1&&(u(0,"option",37),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.name)}}function UZ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0637\u0644\u0648\u0628"),a())}function qZ(n,e){if(n&1&&(u(0,"div",38),D(1,UZ,2,0,"p",39),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.transactionForm.get("user_id"))==null?null:t.hasError("required"))}}function $Z(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0645\u0628\u0644\u063A \u0645\u0637\u0644\u0648\u0628"),a())}function HZ(n,e){n&1&&(u(0,"p"),c(1,"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0644\u0645\u0628\u0644\u063A \u063A\u064A\u0631 \u0633\u0644\u0628\u064A"),a())}function zZ(n,e){if(n&1&&(u(0,"div",38),D(1,$Z,2,0,"p",39)(2,HZ,2,0,"p",39),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.transactionForm.get("amount"))==null?null:t.hasError("required")),f(),E("ngIf",(i=r.transactionForm.get("amount"))==null?null:i.hasError("min"))}}function GZ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u0644\u0645 \u0645\u0637\u0644\u0648\u0628"),a())}function WZ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0637\u0648\u0644 \u0647\u0648 255"),a())}function YZ(n,e){if(n&1&&(u(0,"div",38),D(1,GZ,2,0,"p",39)(2,WZ,2,0,"p",39),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.transactionForm.get("receiver_name"))==null?null:t.hasError("required")),f(),E("ngIf",(i=r.transactionForm.get("receiver_name"))==null?null:i.hasError("maxLength"))}}function KZ(n,e){if(n&1&&(u(0,"option",37),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function QZ(n,e){n&1&&(u(0,"p"),c(1,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0634\u0631\u0643\u0629 \u0645\u0637\u0644\u0648\u0628"),a())}function ZZ(n,e){n&1&&(u(0,"p"),c(1,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0634\u0631\u0643\u0629 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D"),a())}function JZ(n,e){if(n&1&&(u(0,"div",38),D(1,QZ,2,0,"p",39)(2,ZZ,2,0,"p",39),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.transactionForm.get("company_account_id"))==null?null:t.hasError("required")),f(),E("ngIf",(i=r.transactionForm.get("company_account_id"))==null?null:i.hasError("exists"))}}function XZ(n,e){n&1&&(u(0,"label",40),c(1,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064A\u0644"),a())}function eJ(n,e){n&1&&(u(0,"label",40),c(1,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0645\u0635\u0631\u0648\u0641"),a())}function tJ(n,e){if(n&1&&(u(0,"option",37),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function nJ(n,e){n&1&&(u(0,"p"),c(1,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064A\u0644 \u0645\u0637\u0644\u0648\u0628"),a())}function iJ(n,e){n&1&&(u(0,"p"),c(1,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064A\u0644 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D"),a())}function rJ(n,e){if(n&1&&(u(0,"div",38),D(1,nJ,2,0,"p",39)(2,iJ,2,0,"p",39),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.transactionForm.get("customer_account_id"))==null?null:t.hasError("required")),f(),E("ngIf",(i=r.transactionForm.get("customer_account_id"))==null?null:i.hasError("exists"))}}function oJ(n,e){n&1&&(u(0,"p"),c(1,"\u062A\u0646\u0633\u064A\u0642 \u0627\u0644\u0635\u0648\u0631\u0629 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D"),a())}function sJ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0645\u0644\u0641 \u0643\u0628\u064A\u0631 \u062C\u062F\u064B\u0627 (\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649: 2 \u0645\u064A\u062C\u0627\u0628\u0627\u064A\u062A)"),a())}function aJ(n,e){if(n&1&&(u(0,"div",38),D(1,oJ,2,0,"p",39)(2,sJ,2,0,"p",39),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.transactionForm.get("image"))==null?null:t.getError("invalidFileType")),f(),E("ngIf",(i=r.transactionForm.get("image"))==null?null:i.getError("fileTooLarge"))}}function uJ(n,e){n&1&&M(0,"i",41)}var e1=class n{constructor(e,t,i,r,o,s,l){this.fb=e;this.route=t;this._DocumentService=i;this._Router=r;this._UserService=o;this._AccountingService=s;this.toastr=l;this.transactionForm=this.fb.group({user_id:[null,[ae.required]],amount:["",[ae.required,ae.min(0)]],statement:[""],receiver_name:["",[ae.required,ae.maxLength(255)]],company_account_id:["",[ae.required]],customer_account_id:["",[ae.required]],image:[null,[this.validateImage.bind(this)]]})}users=[];transactionForm;companyAccounts=[];customerAccounts=[];isLoading=!1;type;msgError;maxImageSize=2048*1024;selectedFile=null;onFileSelected(e){let t=e.target.files[0];t&&(this.selectedFile=t,this.transactionForm.patchValue({image:t}))}validateImage(e){let t=this.selectedFile;if(t){let i=t.type,r=t.size;if(!["image/jpeg","image/png","image/jpg","image/gif"].includes(i))return{invalidFileType:!0};if(r>this.maxImageSize)return{fileTooLarge:!0}}return null}ngOnInit(){this.route.paramMap.subscribe(e=>{this.type=e.get("type"),console.log("Received type:",this.type)}),this.loadUsers(),this.type=="payment"?this.getExpensesAccounts():this.getCustomerAccounts(),this.getCompanyAccounts()}loadUsers(){this._UserService.viewAllUsers().subscribe({next:e=>{e&&(console.log(e),this.users=e.data)},error:e=>{console.error(e)}})}getExpensesAccounts(){this._AccountingService.viewAllExpensesAccounts().subscribe({next:e=>{e&&(this.customerAccounts=e.data,console.log(this.customerAccounts))},error:e=>{console.error(e)}})}getCustomerAccounts(){this._AccountingService.viewAllCustomerAccounts().subscribe({next:e=>{e&&(this.customerAccounts=e.data,console.log(this.customerAccounts))},error:e=>{console.error(e)}})}getCompanyAccounts(){this._AccountingService.viewAllCompanyAccounts().subscribe({next:e=>{e&&(this.companyAccounts=e.data,console.log(this.companyAccounts))},error:e=>{console.error(e)}})}handleForm(){if(this.transactionForm.valid){this.isLoading=!0;let e=new FormData;e.append("amount",this.transactionForm.get("amount")?.value),e.append("statement",this.transactionForm.get("statement")?.value||""),e.append("type",this.type),e.append("user_id",this.transactionForm.get("user_id")?.value),e.append("receiver_name",this.transactionForm.get("receiver_name")?.value),e.append("type",this.type),e.append("company_account_id",this.transactionForm.get("company_account_id")?.value),e.append("customer_account_id",this.transactionForm.get("customer_account_id")?.value),this.selectedFile&&(e.append("image",this.transactionForm.get("image")?.value),console.log(this.selectedFile)),this._DocumentService.addDocument(e).subscribe({next:t=>{console.log(t),t&&(this.isLoading=!1,this.toastr.success("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062F\u0641\u0639 \u0628\u0646\u062C\u0627\u062D"),this._Router.navigate([`/dashboard/paymentDocument/${this.type}`]))},error:t=>{if(this.isLoading=!1,this.msgError=[],t.error&&t.error.errors)for(let i in t.error.errors)t.error.errors[i]instanceof Array?this.msgError.push(...t.error.errors[i]):this.msgError.push(t.error.errors[i]);console.error(this.msgError),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u062F\u0641\u0639. \u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.")}})}}static \u0275fac=function(t){return new(t||n)(O(Si),O(ft),O(sa),O(Me),O($i),O(bn),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-add-payment-document"]],decls:74,vars:15,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],[1,"form-label"],["formControlName","user_id",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],["for","amount",1,"form-label"],["id","amount","formControlName","amount","type","number","step","0.01","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0645\u0628\u0644\u063A",1,"form-control"],["for","receiver_name",1,"form-label"],["id","receiver_name","formControlName","receiver_name","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u0644\u0645",1,"form-control"],["for","statement",1,"form-label"],["id","statement","formControlName","statement","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0628\u064A\u0627\u0646",1,"form-control"],["for","company_account_id",1,"form-label"],["id","company_account_id","formControlName","company_account_id",1,"form-control"],["for","customer_account_id","class","form-label",4,"ngIf"],["id","customer_account_id","formControlName","customer_account_id",1,"form-control"],[1,"form-group"],["for","image",1,"form-label"],[1,"fa-solid","fa-image"],[1,"custom-file"],["type","file","id","image","accept","image/*",1,"custom-file-input",2,"display","none",3,"change"],["for","image",1,"btn","btn-image"],[1,"fa-solid","fa-file-arrow-up"],["id","file-name"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[3,"value"],[1,"alert","alert-danger"],[4,"ngIf"],["for","customer_account_id",1,"form-label"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A"),a(),u(3,"span",1),c(4,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(5,"i",2),c(6," \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A "),M(7,"i",2),c(8," \u0625\u0646\u0634\u0627\u0621 \u0645\u0639\u0627\u0645\u0644\u0629"),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17,"\u0625\u0646\u0634\u0627\u0621 \u0645\u0639\u0627\u0645\u0644\u0629 \u062C\u062F\u064A\u062F\u0629"),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646"),a(),u(23,"select",13)(24,"option",14),c(25,"\u0627\u062E\u062A\u0631 \u0645\u0633\u062A\u062E\u062F\u0645"),a(),D(26,VZ,2,2,"option",15),a(),D(27,qZ,2,1,"div",16),a(),u(28,"div",11)(29,"label",17),c(30,"\u0627\u0644\u0645\u0628\u0644\u063A"),a(),M(31,"input",18),D(32,zZ,3,2,"div",16),a(),u(33,"div",11)(34,"label",19),c(35,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u0644\u0645"),a(),M(36,"input",20),D(37,YZ,3,2,"div",16),a(),u(38,"div",11)(39,"label",21),c(40,"\u0627\u0644\u0628\u064A\u0627\u0646"),a(),M(41,"input",22),a(),u(42,"div",11)(43,"label",23),c(44,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0634\u0631\u0643\u0629"),a(),u(45,"select",24)(46,"option",14),c(47,"\u0627\u062E\u062A\u0631 \u062D\u0633\u0627\u0628 \u0627\u0644\u0634\u0631\u0643\u0629"),a(),D(48,KZ,2,2,"option",15),a(),D(49,JZ,3,2,"div",16),a(),u(50,"div",11),D(51,XZ,2,0,"label",25)(52,eJ,2,0,"label",25),u(53,"select",26)(54,"option",14),c(55,"\u0627\u062E\u062A\u0631 \u062D\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064A\u0644"),a(),D(56,tJ,2,2,"option",15),a(),D(57,rJ,3,2,"div",16),a(),u(58,"div",27)(59,"label",28),M(60,"i",29),c(61," \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)"),a(),u(62,"div",30)(63,"input",31),Z("change",function(o){return i.onFileSelected(o)}),a(),u(64,"label",32),M(65,"i",33),c(66," \u0627\u062E\u062A\u0631 \u0645\u0644\u0641 "),a(),u(67,"span",34),c(68),a()(),D(69,aJ,3,2,"div",16),a()()()()(),u(70,"div",3)(71,"button",35),D(72,uJ,1,0,"i",36),c(73," \u062D\u0641\u0638 "),a()()()()()()),t&2){let r,o,s,l,d,m;f(10),E("formGroup",i.transactionForm),f(16),E("ngForOf",i.users),f(),E("ngIf",((r=i.transactionForm.get("user_id"))==null?null:r.errors)&&((r=i.transactionForm.get("user_id"))==null?null:r.touched)),f(5),E("ngIf",((o=i.transactionForm.get("amount"))==null?null:o.errors)&&((o=i.transactionForm.get("amount"))==null?null:o.touched)),f(5),E("ngIf",((s=i.transactionForm.get("receiver_name"))==null?null:s.errors)&&((s=i.transactionForm.get("receiver_name"))==null?null:s.touched)),f(11),E("ngForOf",i.companyAccounts),f(),E("ngIf",((l=i.transactionForm.get("company_account_id"))==null?null:l.errors)&&((l=i.transactionForm.get("company_account_id"))==null?null:l.touched)),f(2),E("ngIf",i.type!="payment"),f(),E("ngIf",i.type=="payment"),f(4),E("ngForOf",i.customerAccounts),f(),E("ngIf",((d=i.transactionForm.get("customer_account_id"))==null?null:d.errors)&&((d=i.transactionForm.get("customer_account_id"))==null?null:d.touched)),f(11),C((i.selectedFile==null?null:i.selectedFile.name)||"\u0644\u0645 \u064A\u062A\u0645 \u0627\u062E\u062A\u064A\u0627\u0631 \u0645\u0644\u0641"),f(),E("ngIf",((m=i.transactionForm.get("image"))==null?null:m.errors)&&((m=i.transactionForm.get("image"))==null?null:m.touched)),f(2),E("disabled",i.transactionForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};function lJ(n,e){n&1&&(u(0,"small"),c(1," \u0631\u0642\u0645 \u063A\u0644\u0642 \u0627\u0644\u0639\u062F\u0627\u062F \u0645\u0637\u0644\u0648\u0628"),a())}function cJ(n,e){n&1&&(u(0,"small"),c(1,"\u0623\u0642\u0635\u0649 \u0637\u0648\u0644 \u0647\u0648 0"),a())}function dJ(n,e){if(n&1&&(u(0,"div",35),D(1,lJ,2,0,"small",36)(2,cJ,2,0,"small",36),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.closeForm.get("ending_amount"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.closeForm.get("ending_amount"))==null?null:i.getError("min"))}}function pJ(n,e){if(n&1&&(u(0,"div",37),c(1),a()),n&2){let t=q();f(),Se(" ",t.errorMessage," ")}}function fJ(n,e){n&1&&(u(0,"small"),c(1,"\u062A\u0646\u0633\u064A\u0642 \u0627\u0644\u0635\u0648\u0631\u0629 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D"),a())}function mJ(n,e){n&1&&(u(0,"small"),c(1,"\u0627\u0644\u0645\u0644\u0641 \u0643\u0628\u064A\u0631 \u062C\u062F\u064B\u0627 (\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649: 2MB)"),a())}function hJ(n,e){if(n&1&&(u(0,"div",35),D(1,fJ,2,0,"small",36)(2,mJ,2,0,"small",36),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.closeForm.get("image"))==null?null:t.getError("invalidFileType")),f(),E("ngIf",(i=r.closeForm.get("image"))==null?null:i.getError("fileTooLarge"))}}function gJ(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function vJ(n,e){if(n&1&&(u(0,"div",38)(1,"ul"),D(2,gJ,2,1,"li",39),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function _J(n,e){n&1&&M(0,"i",40)}var t1=class n{constructor(e,t,i,r,o){this.fb=e;this.router=t;this._ShiftService=i;this.route=r;this._ToastrService=o;this.closeForm=new dn({image:this.fb.control(null,[this.validateImage.bind(this)]),ending_amount:this.fb.control(null,[ae.required,ae.min(0)])})}msgError=[];isLoading=!1;closeImageUrl=null;price=0;openingAmount=0;closeAmount=0;totalAmount=0;totalOnlinePayment=0;totalClientCounter=0;resultAmount=0;isSubmitDisabled=!1;errorMessage=null;formSubscription=null;totalMoney=0;totalCash=0;maxImageSize=2048*1024;closeForm;selectedFile=null;onFileSelected(e){let t=e.target.files[0];t&&(this.selectedFile=t,this.closeForm.patchValue({image:t}))}validateImage(e){let t=this.selectedFile;if(t){let i=t.type,r=t.size;if(!["image/jpeg","image/png","image/jpg","image/gif"].includes(i))return{invalidFileType:!0};if(r>this.maxImageSize)return{fileTooLarge:!0}}return null}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.fetchShiftData(e);let t=this.closeForm.get("ending_amount");t&&(this.formSubscription=t.valueChanges.subscribe(i=>{if(i!=null){let r=this.openingAmount+this.totalAmount;i<r?(this.isSubmitDisabled=!0,this.errorMessage=`Ending Amount must be greater than or equal to ${r}`):(this.isSubmitDisabled=!1,this.errorMessage=null),this.resultAmount=+i-this.openingAmount,this.closeAmount=i,this.totalMoney=this.resultAmount*this.price,this.totalCash=this.totalMoney-(this.totalOnlinePayment+this.totalClientCounter)}else this.resultAmount=0,this.totalMoney=0,this.totalCash=0,this.isSubmitDisabled=!0,this.errorMessage="Ending Amount is required"}))}fetchShiftData(e){this._ShiftService.getShiftById(e).subscribe({next:t=>{t&&(console.log("Shift Data:",t),t&&(console.log(t),this.price=parseFloat(t?.data?.machine?.product?.price)||0,console.log("price",this.price),this.openingAmount=parseFloat(t?.data?.opening_amount)||0,console.log("openingAmount",this.openingAmount),this.totalOnlinePayment=parseFloat(t?.data?.total_payed_online)||0,console.log("totalOnlinePayment",this.totalOnlinePayment),this.totalClientCounter=parseFloat(t?.data?.total_client_deposit),console.log("totalClientCounter",this.totalClientCounter),this.totalAmount=parseFloat(t?.data?.amount),console.log(this.totalAmount)))},error:t=>{this.msgError=t.error.error}})}handleForm(){if(this.closeForm.valid){this.isLoading=!0;let e=new FormData;e.append("amount",this.resultAmount.toString()),e.append("ending_amount",this.closeForm.get("ending_amount")?.value),e.append("total_money",this.totalMoney.toString()),e.append("total_cash",this.totalCash.toString()),e.append("total_payed_online",this.totalOnlinePayment.toString()),e.append("total_client_deposit",this.totalClientCounter.toString()),this.selectedFile&&e.append("ending_image",this.selectedFile);let t=this.route.snapshot.paramMap.get("id");t&&this._ShiftService.closeShift(t,e).subscribe({next:i=>{this.isLoading=!1,i&&(this.router.navigate(["/dashboard/shifts"]),this._ToastrService.success("\u062A\u0645 \u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0648\u0631\u062F\u064A\u0629 \u0628\u0646\u062C\u0627\u062D"))},error:i=>{this.isLoading=!1,this.msgError=i.error.errors.ending_image,this._ToastrService.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0648\u0631\u062F\u064A\u0629")}})}}onCancel(){this.closeForm.reset(),this.router.navigate(["/dashboard/shifts"])}ngOnDestroy(){this.formSubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||n)(O(Si),O(Me),O(pi),O(ft),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-close-shift"]],decls:93,vars:18,consts:[[1,"mt-3","mb-3"],[1,"text-primary","fw-bold"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow-sm","border-0","rounded-lg"],[1,"card-header","py-3"],[1,"mb-0"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","ending_amount",1,"form-label","fw-bold"],["id","ending_amount","formControlName","ending_amount","type","text","placeholder","\u0623\u062F\u062E\u0644  \u0631\u0642\u0645 \u063A\u0644\u0642 \u0627\u0644\u0639\u062F\u0627\u062F","required","",1,"form-control","rounded-pill"],["class","alert alert-danger mt-2 py-1 px-2",4,"ngIf"],["class","alert alert-warning mt-2",4,"ngIf"],[1,"form-group","text-center","col-md-12"],["for","image",1,"form-label","d-block","fw-bold"],[1,"fa-solid","fa-image"],[1,"custom-file","position-relative"],["type","file","id","image","accept","image/*",1,"custom-file-input","d-none",3,"change"],["for","image",1,"btn","btn-outline-primary","rounded-pill","px-4","py-2"],[1,"fa-solid","fa-file-arrow-up"],["id","file-name",1,"d-block","mt-2","text-muted"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"mt-4"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"list-group-item","bold"],[1,"mt-4","d-flex","justify-content-center","gap-3"],["type","submit",1,"btn","btn-primary","rounded-pill","px-5",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],["type","button",1,"btn","btn-secondary","rounded-pill","px-4","py-2",3,"click"],[1,"alert","alert-danger","mt-2","py-1","px-2"],[4,"ngIf"],[1,"alert","alert-warning","mt-2"],[1,"alert","alert-danger","mt-3"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5",1),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0648\u0631\u062F\u064A\u0627\u062A"),a(),u(3,"span",2),c(4," \u0644\u0648\u062D\u0629 \u0627\u0644\u0642\u064A\u0627\u062F\u0629 "),M(5,"i",3),c(6," \u0648\u0631\u062F\u064A\u0629 "),M(7,"i",3),c(8," \u0625\u063A\u0644\u0627\u0642 \u0648\u0631\u062F\u064A\u0629 "),a()(),u(9,"div",4)(10,"form",5),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"div",10)(16,"h5",11),c(17,"\u0625\u063A\u0644\u0627\u0642 \u0648\u0631\u062F\u064A\u0629"),a()(),u(18,"div",12)(19,"div",7)(20,"div",13)(21,"label",14),c(22," \u0631\u0642\u0645 \u063A\u0644\u0642 \u0627\u0644\u0639\u062F\u0627\u062F"),a(),M(23,"input",15),D(24,dJ,3,2,"div",16),a(),D(25,pJ,2,1,"div",17),u(26,"div",18)(27,"label",19),M(28,"i",20),c(29," \u0635\u0648\u0631\u0629 \u063A\u0644\u0642 \u0627\u0644\u0639\u062F\u0627\u062F "),a(),u(30,"div",21)(31,"input",22),Z("change",function(o){return i.onFileSelected(o)}),a(),u(32,"label",23),M(33,"i",24),c(34," \u0627\u062E\u062A\u0631 \u0645\u0644\u0641 "),a(),u(35,"span",25),c(36),a()(),D(37,hJ,3,2,"div",16),a()(),D(38,vJ,3,1,"div",26),u(39,"div",27)(40,"h6",1),c(41,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0648\u0631\u062F\u064A\u0629"),a(),u(42,"ul",28)(43,"li",29),c(44,"\u0633\u0639\u0631 \u0627\u0644\u0644\u062A\u0631 \u0627\u0644\u0648\u0627\u062D\u062F : "),u(45,"span",2),c(46),a()(),u(47,"li",29),c(48," \u0631\u0642\u0645 \u0641\u062A\u062D \u0627\u0644\u0639\u062F\u0627\u062F \u0644\u0644\u0648\u0631\u062F\u064A\u0629: "),u(49,"span",2),c(50),a()(),u(51,"li",29),c(52," \u0631\u0642\u0645 \u063A\u0644\u0642 \u0627\u0644\u0639\u062F\u0627\u062F \u0644\u0644\u0648\u0631\u062F\u064A\u0629: "),u(53,"span",2),c(54),a()(),u(55,"li",30),c(56," \u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A \u0627\u0644\u0643\u0644\u0649: "),u(57,"span",2),c(58),a()(),M(59,"br")(60,"br"),u(61,"li",29),c(62,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062F\u0641\u0639 \u0628\u0627\u0644\u0634\u0628\u0643\u0629: "),u(63,"span",2),c(64),a()(),u(65,"li",29),c(66," \u0639\u062F\u062F \u0644\u062A\u0631\u0627\u062A \u0627\u0644\u062F\u0641\u0639 \u0628\u0627\u0644\u0634\u0628\u0643\u0629: "),u(67,"span",2),c(68),a()(),M(69,"br"),u(70,"li",29),c(71,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062F\u0641\u0639 \u0622\u062C\u0644 \u0644\u0644\u0639\u0645\u0644\u0627\u0621: "),u(72,"span",2),c(73),a()(),u(74,"li",29),c(75," \u0639\u062F\u062F \u0644\u062A\u0631\u0627\u062A \u0627\u0644\u062F\u0641\u0639 \u0622\u062C\u0644 \u0644\u0644\u0639\u0645\u0644\u0627\u0621: "),u(76,"span",2),c(77),a()(),M(78,"br"),u(79,"li",29),c(80,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0637\u0644\u0648\u0628 \u0643\u0627\u0634: "),u(81,"span",2),c(82),a()(),u(83,"li",29),c(84,"\u0625\u062C\u0645\u0627\u0644\u064A \u0645\u0628\u0644\u063A \u0627\u0644\u0648\u0631\u062F\u064A\u0629 \u0643\u0627\u0634 + \u0634\u0628\u0643\u0629 +\u0622\u062C\u0644: "),u(85,"span",2),c(86),a()()()()()()(),u(87,"div",31)(88,"button",32),D(89,_J,1,0,"i",33),c(90," \u062D\u0641\u0638 "),a(),u(91,"button",34),Z("click",function(){return i.onCancel()}),c(92," \u0625\u0644\u063A\u0627\u0621 "),a()()()()()()),t&2){let r,o;f(10),E("formGroup",i.closeForm),f(14),E("ngIf",((r=i.closeForm.get("ending_amount"))==null?null:r.errors)&&((r=i.closeForm.get("ending_amount"))==null?null:r.touched)),f(),E("ngIf",i.errorMessage),f(11),C((i.selectedFile==null?null:i.selectedFile.name)||"\u0644\u0645 \u064A\u062A\u0645 \u0627\u062E\u062A\u064A\u0627\u0631 \u0645\u0644\u0641"),f(),E("ngIf",((o=i.closeForm.get("image"))==null?null:o.errors)&&((o=i.closeForm.get("image"))==null?null:o.touched)),f(),E("ngIf",i.msgError&&i.msgError.length>0),f(8),C(i.price),f(4),C(i.openingAmount),f(4),C(i.closeAmount),f(4),C(i.resultAmount),f(6),C(i.totalOnlinePayment),f(4),C(i.totalOnlinePayment/i.price),f(5),C(i.totalClientCounter),f(4),C(i.totalClientCounter/i.price),f(5),C(i.totalCash),f(4),C(i.totalMoney),f(2),E("disabled",i.isSubmitDisabled||i.closeForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,xt,Rt,Ze,et,Ot,sn,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var yJ=n=>["/dashboard/accounting",n],n1=class n{constructor(e,t,i){this._AccountingService=e;this.router=t;this.route=i}AccountData;parentId=null;ngOnInit(){let e=this.route.snapshot.paramMap.get("accountId"),t=this.route.snapshot.paramMap.get("id");this.parentId=t,e&&this.fetchAccountData(e)}fetchAccountData(e){this._AccountingService.getAccountById(e).subscribe({next:t=>{console.log(t.data),this.AccountData=t.data||{}},error:t=>{console.error("Error fetching Product data:",t.message)}})}static \u0275fac=function(t){return new(t||n)(O(bn),O(Me),O(ft))};static \u0275cmp=Ae({type:n,selectors:[["app-show-account"]],decls:71,vars:14,consts:[[1,"mt-4","mb-4"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"col-md-6"],[1,"mb-3"],[1,"fw-bold"],[1,"text-muted"],[1,"nav-link",3,"routerLink"],["type","button",1,"btn","btn-primary","px-4"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5"),c(7,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u062D\u0633\u0627\u0628"),a()(),u(8,"div",6)(9,"div",2)(10,"div",7)(11,"div",8)(12,"label",9),c(13,"\u0627\u0644\u0627\u0633\u0645:"),a(),u(14,"p",10),c(15),a()(),u(16,"div",8)(17,"label",9),c(18,"\u0627\u0644\u0647\u0627\u062A\u0641:"),a(),u(19,"p",10),c(20),a()(),u(21,"div",8)(22,"label",9),c(23,"\u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u062D\u0627\u0644\u064A:"),a(),u(24,"p",10),c(25),a()(),u(26,"div",8)(27,"label",9),c(28,"\u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D\u0649:"),a(),u(29,"p",10),c(30),a()(),u(31,"div",8)(32,"label",9),c(33," \u0627\u0644\u0635\u0627\u0641\u0649 \u062F\u0627\u0626\u0646:"),a(),u(34,"p",10),c(35),a()(),u(36,"div",8)(37,"label",9),c(38," \u0627\u0644\u0635\u0627\u0641\u0649 \u0645\u062F\u064A\u0646:"),a(),u(39,"p",10),c(40),a()()(),u(41,"div",7)(42,"div",8)(43,"label",9),c(44,"\u0627\u0633\u0645 \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0631\u0626\u064A\u0633\u064A:"),a(),u(45,"p",10),c(46),a()(),u(47,"div",8)(48,"label",9),c(49,"\u0631\u0635\u064A\u062F \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0631\u0626\u064A\u0633\u064A:"),a(),u(50,"p",10),c(51),a()(),u(52,"div",8)(53,"label",9),c(54," \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0631\u0626\u064A\u0633\u0649 \u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D\u0649:"),a(),u(55,"p",10),c(56),a()(),u(57,"div",8)(58,"label",9),c(59," \u0635\u0627\u0641\u0649 \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0631\u0626\u064A\u0633\u0649 \u062F\u0627\u0626\u0646:"),a(),u(60,"p",10),c(61),a()(),u(62,"div",8)(63,"label",9),c(64," \u0635\u0627\u0641\u0649 \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0631\u0626\u064A\u0633\u0649 \u0645\u062F\u064A\u0646:"),a(),u(65,"p",10),c(66),a()()()()()()()(),u(67,"div",0)(68,"a",11)(69,"button",12),c(70,"\u0631\u062C\u0648\u0639"),a()()()()()),t&2&&(f(15),C((i.AccountData==null?null:i.AccountData.account_name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.AccountData==null?null:i.AccountData.phone)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.AccountData==null?null:i.AccountData.current_balance)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.AccountData==null?null:i.AccountData.start_amount)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.AccountData==null?null:i.AccountData.net_credit)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.AccountData==null?null:i.AccountData.net_debit)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(6),C((i.AccountData==null||i.AccountData.parent==null?null:i.AccountData.parent.account_name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.AccountData==null||i.AccountData.parent==null?null:i.AccountData.parent.current_balance)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.AccountData==null||i.AccountData.parent==null?null:i.AccountData.parent.start_amount)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.AccountData==null||i.AccountData.parent==null?null:i.AccountData.parent.net_credit)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.AccountData==null||i.AccountData.parent==null?null:i.AccountData.parent.net_debit)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(2),E("routerLink",mn(12,yJ,i.parentId)))},dependencies:[Ne,wt,Ct],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};function bJ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0633\u0645 \u0627\u0644\u062D\u0633\u0627\u0628 \u0645\u0637\u0644\u0648\u0628"),a())}function EJ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0637\u0648\u0644 \u0647\u0648 255"),a())}function SJ(n,e){if(n&1&&(u(0,"div",31),D(1,bJ,2,0,"p",32)(2,EJ,2,0,"p",32),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.accountForm.get("account_name"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.accountForm.get("account_name"))==null?null:i.getError("maxLength"))}}function xJ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0637\u0648\u0644 \u0647\u0648 255"),a())}function CJ(n,e){if(n&1&&(u(0,"div",31),D(1,xJ,2,0,"p",32),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.accountForm.get("phone"))==null?null:t.getError("maxLength"))}}function wJ(n,e){n&1&&(u(0,"p"),c(1," \u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u062D\u0627\u0644\u064A \u0645\u0637\u0644\u0648\u0628 "),a())}function AJ(n,e){n&1&&(u(0,"p"),c(1," \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0644\u0631\u0635\u064A\u062F \u063A\u064A\u0631 \u0633\u0644\u0628\u064A "),a())}function DJ(n,e){if(n&1&&(u(0,"div",31),D(1,wJ,2,0,"p",32)(2,AJ,2,0,"p",32),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.accountForm.get("current_balance"))==null?null:t.hasError("required")),f(),E("ngIf",(i=r.accountForm.get("current_balance"))==null?null:i.hasError("min"))}}function IJ(n,e){n&1&&(u(0,"p"),c(1," \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0644\u062F\u064A\u0646 \u0627\u0644\u0635\u0627\u0641\u064A \u063A\u064A\u0631 \u0633\u0644\u0628\u064A "),a())}function TJ(n,e){if(n&1&&(u(0,"div",31),D(1,IJ,2,0,"p",32),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.accountForm.get("net_debit"))==null?null:t.hasError("min"))}}function MJ(n,e){n&1&&(u(0,"p"),c(1," \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0644\u0627\u0626\u062A\u0645\u0627\u0646 \u0627\u0644\u0635\u0627\u0641\u064A \u063A\u064A\u0631 \u0633\u0644\u0628\u064A "),a())}function FJ(n,e){if(n&1&&(u(0,"div",31),D(1,MJ,2,0,"p",32),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.accountForm.get("net_credit"))==null?null:t.hasError("min"))}}function NJ(n,e){if(n&1&&(u(0,"option",33),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.message)}}function PJ(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function OJ(n,e){if(n&1&&(u(0,"div",31)(1,"ul"),D(2,PJ,2,1,"li",34),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function RJ(n,e){n&1&&M(0,"i",35)}var i1=class n{constructor(e,t,i,r,o){this.route=e;this.fb=t;this._AccountingService=i;this._Router=r;this.toastr=o;this.accountForm=this.fb.group({account_name:["",[ae.required,ae.maxLength(255)]],phone:["",[ae.maxLength(255)]],current_balance:[0,[ae.required,ae.min(0)]],net_debit:[null,[ae.min(0)]],net_credit:[null,[ae.min(0)]],type:["",[ae.required]]})}accountTypes=[{id:"1",message:"\u0627\u0644\u0646\u0642\u062F\u064A\u0629 \u0648 \u0645\u0627 \u0641\u0649 \u062D\u0643\u0645\u0647\u0627"},{id:"2",message:"\u0645\u062E\u0632\u0648\u0646"},{id:"3",message:"\u0627\u0644\u0630\u0645\u0645 \u0627\u0644\u0645\u062F\u064A\u0646\u0629 \u0627\u0644\u062A\u062C\u0627\u0631\u064A\u0629"},{id:"4",message:"\u0645\u0635\u0631\u0648\u0641\u0627\u062A \u0645\u062F\u0641\u0648\u0639\u0629 \u0645\u0642\u062F\u0645\u0627"},{id:"5",message:"\u0627\u0631\u0635\u062F\u0629 \u0645\u062F\u064A\u0646\u0629 \u0627\u0644\u062A\u062C\u0627\u0631\u064A\u0629"},{id:"6",message:"\u0627\u0635\u0631\u0627\u0641 \u0630\u0627\u062A \u0639\u0644\u0627\u0642\u0629 \u0645\u062F\u064A\u0646\u0629"},{id:"7",message:"\u0645\u0645\u062A\u0644\u0643\u0627\u062A \u0648 \u0623\u0644\u0627\u062A \u0648 \u0645\u0639\u062F\u0627\u062A \u0635\u0627\u0641\u0649"},{id:"8",message:"\u0645\u0634\u0631\u0648\u0639\u0627\u062A \u062A\u062D\u062A \u0627\u0644\u062A\u0646\u0641\u064A\u0630"},{id:"9",message:"\u0630\u0645\u0645 \u062F\u0627\u0626\u0646\u0629 \u062A\u062C\u0627\u0631\u064A\u0629"},{id:"10",message:"\u0627\u0637\u0631\u0627\u0641 \u0630\u0627\u062A \u0639\u0644\u0627\u0642\u0629 \u062F\u0627\u0626\u0646\u0629"},{id:"11",message:"\u0627\u0631\u0635\u062F\u0629 \u062F\u0627\u0626\u0646\u0629 \u0627\u062E\u0631\u0649"},{id:"13",message:"\u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062D\u0642\u0629"},{id:"14",message:"\u0642\u0631\u0648\u0636 \u0637\u0648\u064A\u0644\u0629 \u0627\u0644\u0627\u062C\u0644"},{id:"15",message:"\u0631\u0623\u0633 \u0627\u0644\u0645\u0627\u0644"},{id:"16",message:"\u062C\u0627\u0631\u0649 \u0627\u0644\u0634\u0631\u0643\u0627\u0621"},{id:"17",message:"\u0627\u0631\u0628\u0627\u062D \u0627\u0644\u0639\u0627\u0645"},{id:"18",message:"\u0635\u0627\u0641\u0649 \u0627\u0644\u0627\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u062A\u0634\u063A\u064A\u0644\u064A\u0629"},{id:"19",message:"\u062A\u0643\u0644\u0641\u0629 \u0627\u0644\u0627\u064A\u0631\u0627\u062F\u0627\u062A"},{id:"20",message:"\u0627\u0644\u062A\u0643\u0627\u0644\u064A\u0641 \u0627\u0644\u062A\u0634\u063A\u064A\u0644\u064A\u0629"},{id:"21",message:"\u0645\u0635\u0627\u0631\u064A\u0641 \u0628\u064A\u0639 \u0648 \u062A\u0648\u0632\u064A\u0639"},{id:"22",message:"\u0645\u062E\u0635\u0635 \u0627\u0647\u0644\u0627\u0643 \u0627\u0644\u0627\u0635\u0648\u0644 \u0627\u0644\u062B\u0627\u0628\u062A\u0647"},{id:"23",message:"\u0645\u0635\u0627\u0631\u064A\u0641 \u0627\u062F\u0627\u0631\u064A\u0629 \u0648 \u0639\u0645\u0648\u0645\u064A\u0629"},{id:"24",message:"\u0627\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u062E\u0631\u0649"},{id:"25",message:"\u0627\u0644\u0632\u0643\u0627\u0629 \u0627\u0644\u062A\u0642\u062F\u064A\u0631\u064A\u0629"},{id:"26",message:"\u0635\u0627\u0641\u0649 \u0627\u0644\u0627\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u062A\u0634\u062E\u064A\u0644\u064A\u0629"},{id:"none",message:"\u0646\u0648\u0639 \u0627\u062E\u0631"}];accountForm;parentAccounts=[];isLoading=!1;msgError=[];accountId=null;account;ngOnInit(){this.route.paramMap.subscribe(t=>{this.accountId=t.get("id"),console.log(this.accountId),this.onAccountIdChange(this.accountId)});let e=this.route.snapshot.paramMap.get("accountId");e&&this.fetchAccountData(e),this.getParentAccount()}fetchAccountData(e){this._AccountingService.getAccountById(e).subscribe({next:t=>{if(t){let i=t.data;console.log(i),this.accountForm.patchValue({account_name:i.account_name,phone:i.phone,current_balance:i.current_balance,net_debit:i.net_debit,net_credit:i.net_credit})}},error:t=>{this.msgError=t.error.error}})}getParentAccount(){this._AccountingService.getParentAccount(this.accountId||"").subscribe({next:e=>{e&&(this.account=e.data,console.log(this.account))},error:e=>{console.error(e)}})}onAccountIdChange(e){this.accountId=e,this.getParentAccount()}handleForm(){if(this.accountForm.valid&&this.account){this.isLoading=!0;let e=new FormData;e.append("account_name",this.accountForm.get("account_name")?.value),e.append("phone",this.accountForm.get("phone")?.value||""),e.append("current_balance",this.accountForm.get("current_balance")?.value||0),e.append("net_debit",this.accountForm.get("net_debit")?.value||0),e.append("net_credit",this.accountForm.get("net_credit")?.value||0),e.append("parent_id",this.account.id),e.append("type",this.accountForm.get("type")?.value);let t=this.route.snapshot.paramMap.get("accountId");console.log(t),t&&this._AccountingService.updateAccount(t,e).subscribe({next:i=>{console.log(i),i&&(this.toastr.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062D\u0633\u0627\u0628 \u0628\u0646\u062C\u0627\u062D"),this.isLoading=!1,this._Router.navigate(["/dashboard/accounting/"+this.account.id]))},error:i=>{if(this.isLoading=!1,this.msgError=[],i.error&&i.error.errors)for(let r in i.error.errors)i.error.errors[r]instanceof Array?this.msgError.push(...i.error.errors[r]):this.msgError.push(i.error.errors[r]);console.error(this.msgError),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649")}})}else this.msgError=["\u064A\u0631\u062C\u0649 \u0645\u0644\u0621 \u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0642\u0648\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629 \u0628\u0634\u0643\u0644 \u0635\u062D\u064A\u062D."]}onCancel(){this.accountForm.reset(),this._Router.navigate(["/dashboard/accounting/"+this.account.id])}static \u0275fac=function(t){return new(t||n)(O(ft),O(Si),O(bn),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-update-account"]],decls:59,vars:11,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","account_name",1,"form-label"],["id","account_name","formControlName","account_name","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u062D\u0633\u0627\u0628","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","phone",1,"form-label"],["id","phone","formControlName","phone","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641",1,"form-control"],["for","current_balance",1,"form-label"],["id","current_balance","formControlName","current_balance","type","number","step","0.01","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u062D\u0627\u0644\u064A",1,"form-control"],["for","net_debit",1,"form-label"],["id","net_debit","formControlName","net_debit","type","number","step","0.01","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u062F\u064A\u0646 \u0627\u0644\u0635\u0627\u0641\u064A",1,"form-control"],["for","net_credit",1,"form-label"],["id","net_credit","formControlName","net_credit","type","number","step","0.01","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0627\u0626\u062A\u0645\u0627\u0646 \u0627\u0644\u0635\u0627\u0641\u064A",1,"form-control"],[1,"form-label"],["formControlName","type",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"mt-4","mb-4","d-flex","justify-content-around","w-25"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A"),a(),u(3,"span",1),c(4,"\u0627\u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 "),M(5,"i",2),c(6," \u0627\u0644\u062D\u0633\u0627\u0628\u0627\u062A "),M(7,"i",2),c(8," \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062D\u0633\u0627\u0628"),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0627\u0633\u0645 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),M(23,"input",13),D(24,SJ,3,2,"div",14),a(),u(25,"div",11)(26,"label",15),c(27,"\u0627\u0644\u0647\u0627\u062A\u0641"),a(),M(28,"input",16),D(29,CJ,2,1,"div",14),a(),u(30,"div",11)(31,"label",17),c(32,"\u0627\u0644\u0631\u0635\u064A\u062F \u0627\u0644\u062D\u0627\u0644\u064A"),a(),M(33,"input",18),D(34,DJ,3,2,"div",14),a(),u(35,"div",11)(36,"label",19),c(37,"\u0627\u0644\u062F\u064A\u0646 \u0627\u0644\u0635\u0627\u0641\u064A"),a(),M(38,"input",20),D(39,TJ,2,1,"div",14),a(),u(40,"div",11)(41,"label",21),c(42,"\u0627\u0644\u0627\u0626\u062A\u0645\u0627\u0646 \u0627\u0644\u0635\u0627\u0641\u064A"),a(),M(43,"input",22),D(44,FJ,2,1,"div",14),a(),u(45,"div",11)(46,"label",23),c(47,"\u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u062D\u0633\u0627\u0628 "),a(),u(48,"select",24)(49,"option",25),c(50," \u0627\u062E\u062A\u0631 \u0646\u0648\u0639 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),D(51,NJ,2,2,"option",26),a()()()()()(),D(52,OJ,3,1,"div",14),u(53,"div",27)(54,"button",28),D(55,RJ,1,0,"i",29),c(56," \u062D\u0641\u0638 "),a(),u(57,"button",30),Z("click",function(){return i.onCancel()}),c(58,"\u0625\u0644\u063A\u0627\u0621"),a()()()()()()),t&2){let r,o,s,l,d;f(10),E("formGroup",i.accountForm),f(7),Se("\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062D\u0633\u0627\u0628 \u0625\u0644\u0649: ",i.account==null?null:i.account.account_name,""),f(7),E("ngIf",((r=i.accountForm.get("account_name"))==null?null:r.errors)&&((r=i.accountForm.get("account_name"))==null?null:r.touched)),f(5),E("ngIf",((o=i.accountForm.get("phone"))==null?null:o.errors)&&((o=i.accountForm.get("phone"))==null?null:o.touched)),f(5),E("ngIf",((s=i.accountForm.get("current_balance"))==null?null:s.errors)&&((s=i.accountForm.get("current_balance"))==null?null:s.touched)),f(5),E("ngIf",((l=i.accountForm.get("net_debit"))==null?null:l.errors)&&((l=i.accountForm.get("net_debit"))==null?null:l.touched)),f(5),E("ngIf",((d=i.accountForm.get("net_credit"))==null?null:d.errors)&&((d=i.accountForm.get("net_credit"))==null?null:d.touched)),f(7),E("ngForOf",i.accountTypes),f(),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.accountForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,sn,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var LJ=n=>["/dashboard/paymentDocument",n];function kJ(n,e){if(n&1&&M(0,"img",15),n&2){let t=q();E("src",t.documentData.image,On)}}function jJ(n,e){n&1&&(u(0,"span"),c(1,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0635\u0648\u0631\u0629"),a())}var r1=class n{constructor(e,t,i){this._DocumentService=e;this.router=t;this.route=i}documentData;type=null;ngOnInit(){let e=this.route.snapshot.paramMap.get("id"),t=this.route.snapshot.paramMap.get("type");console.log(t),this.type=t,e&&this.fetchDocumentData(e)}fetchDocumentData(e){this._DocumentService.getDocumentById(e).subscribe({next:t=>{console.log(t.data),this.documentData=t.data||{}},error:t=>{console.error("Error fetching Document data:",t.message)}})}static \u0275fac=function(t){return new(t||n)(O(sa),O(Me),O(ft))};static \u0275cmp=Ae({type:n,selectors:[["app-show-document"]],decls:67,vars:14,consts:[[1,"mt-4","mb-4"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"col-md-6"],[1,"mb-3"],[1,"fw-bold"],[1,"text-muted"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F","class","img-fluid",3,"src",4,"ngIf"],[4,"ngIf"],[1,"nav-link",3,"routerLink"],["type","button",1,"btn","btn-primary","px-4"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u0646\u062F",1,"img-fluid",3,"src"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5"),c(7,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u0646\u062F"),a()(),u(8,"div",6)(9,"div",2)(10,"div",7)(11,"div",8)(12,"label",9),c(13,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u0644\u0645:"),a(),u(14,"p",10),c(15),a()(),u(16,"div",8)(17,"label",9),c(18,"\u0627\u0644\u0645\u0628\u0644\u063A:"),a(),u(19,"p",10),c(20),a()(),u(21,"div",8)(22,"label",9),c(23,"\u0627\u0644\u0646\u0648\u0639:"),a(),u(24,"p",10),c(25),a()(),u(26,"div",8)(27,"label",9),c(28,"\u062A\u0645 \u0627\u0644\u0625\u0646\u0634\u0627\u0621 \u0641\u064A:"),a(),u(29,"p",10),c(30),a()(),u(31,"div",8)(32,"label",9),c(33," \u0627\u0644\u0628\u064A\u0627\u0646:"),a(),u(34,"p",10),c(35),a()(),u(36,"div",8)(37,"label",9),c(38,"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0641\u064A:"),a(),u(39,"p",10),c(40),a()()(),u(41,"div",7)(42,"div",8)(43,"label",9),c(44,"\u0631\u0642\u0645 \u062D\u0633\u0627\u0628 \u0627\u0644\u0634\u0631\u0643\u0629:"),a(),u(45,"p",10),c(46),a()(),u(47,"div",8)(48,"label",9),c(49,"\u0631\u0642\u0645 \u062D\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064A\u0644:"),a(),u(50,"p",10),c(51),a()(),u(52,"div",8)(53,"label",9),c(54,"\u0631\u0642\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645:"),a(),u(55,"p",10),c(56),a()(),u(57,"div",8)(58,"label",9),c(59,"\u0627\u0644\u0635\u0648\u0631\u0629:"),a(),u(60,"p",10),D(61,kJ,1,1,"img",11)(62,jJ,2,0,"span",12),a()()()()()()()(),u(63,"div",0)(64,"a",13)(65,"button",14),c(66,"\u0631\u062C\u0648\u0639"),a()()()()()),t&2&&(f(15),C((i.documentData==null?null:i.documentData.receiver_name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.documentData==null?null:i.documentData.amount)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.documentData==null?null:i.documentData.type)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.documentData==null?null:i.documentData.created_at)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.documentData==null?null:i.documentData.statement)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.documentData==null?null:i.documentData.updated_at)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(6),C((i.documentData==null?null:i.documentData.company_account.account_name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.documentData==null?null:i.documentData.customer_account.account_name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.documentData==null?null:i.documentData.user_id)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),E("ngIf",i.documentData==null?null:i.documentData.image),f(),E("ngIf",!(i.documentData!=null&&i.documentData.image)),f(2),E("routerLink",mn(12,LJ,i.type)))},dependencies:[Ne,tt,wt,Ct],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};function BJ(n,e){if(n&1&&(u(0,"option",40),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.name)}}function VJ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0637\u0644\u0648\u0628"),a())}function UJ(n,e){if(n&1&&(u(0,"div",41),D(1,VJ,2,0,"p",42),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.transactionForm.get("user_id"))==null?null:t.hasError("required"))}}function qJ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0645\u0628\u0644\u063A \u0645\u0637\u0644\u0648\u0628"),a())}function $J(n,e){n&1&&(u(0,"p"),c(1,"\u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0644\u0645\u0628\u0644\u063A \u063A\u064A\u0631 \u0633\u0644\u0628\u064A"),a())}function HJ(n,e){if(n&1&&(u(0,"div",41),D(1,qJ,2,0,"p",42)(2,$J,2,0,"p",42),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.transactionForm.get("amount"))==null?null:t.hasError("required")),f(),E("ngIf",(i=r.transactionForm.get("amount"))==null?null:i.hasError("min"))}}function zJ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u0644\u0645 \u0645\u0637\u0644\u0648\u0628"),a())}function GJ(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0644\u0644\u0637\u0648\u0644 \u0647\u0648 255"),a())}function WJ(n,e){if(n&1&&(u(0,"div",41),D(1,zJ,2,0,"p",42)(2,GJ,2,0,"p",42),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.transactionForm.get("receiver_name"))==null?null:t.hasError("required")),f(),E("ngIf",(i=r.transactionForm.get("receiver_name"))==null?null:i.hasError("maxLength"))}}function YJ(n,e){if(n&1&&(u(0,"option",40),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function KJ(n,e){n&1&&(u(0,"p"),c(1,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0634\u0631\u0643\u0629 \u0645\u0637\u0644\u0648\u0628"),a())}function QJ(n,e){n&1&&(u(0,"p"),c(1,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0634\u0631\u0643\u0629 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D"),a())}function ZJ(n,e){if(n&1&&(u(0,"div",41),D(1,KJ,2,0,"p",42)(2,QJ,2,0,"p",42),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.transactionForm.get("company_account_id"))==null?null:t.hasError("required")),f(),E("ngIf",(i=r.transactionForm.get("company_account_id"))==null?null:i.hasError("exists"))}}function JJ(n,e){if(n&1&&(u(0,"option",40),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function XJ(n,e){n&1&&(u(0,"p"),c(1,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064A\u0644 \u0645\u0637\u0644\u0648\u0628"),a())}function eX(n,e){n&1&&(u(0,"p"),c(1,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064A\u0644 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D"),a())}function tX(n,e){if(n&1&&(u(0,"div",41),D(1,XJ,2,0,"p",42)(2,eX,2,0,"p",42),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.transactionForm.get("customer_account_id"))==null?null:t.hasError("required")),f(),E("ngIf",(i=r.transactionForm.get("customer_account_id"))==null?null:i.hasError("exists"))}}function nX(n,e){if(n&1&&(u(0,"div",43),M(1,"img",44),a()),n&2){let t=q();f(),E("src",t.documentImageUrl,On)}}function iX(n,e){n&1&&(u(0,"p"),c(1,"\u062A\u0646\u0633\u064A\u0642 \u0627\u0644\u0635\u0648\u0631\u0629 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D"),a())}function rX(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0645\u0644\u0641 \u0643\u0628\u064A\u0631 \u062C\u062F\u064B\u0627 (\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649: 2MB)"),a())}function oX(n,e){if(n&1&&(u(0,"div",41),D(1,iX,2,0,"p",42)(2,rX,2,0,"p",42),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.transactionForm.get("image"))==null?null:t.getError("invalidFileType")),f(),E("ngIf",(i=r.transactionForm.get("image"))==null?null:i.getError("fileTooLarge"))}}function sX(n,e){n&1&&M(0,"i",45)}var o1=class n{constructor(e,t,i,r,o,s,l){this.fb=e;this.route=t;this._DocumentService=i;this._Router=r;this._UserService=o;this._AccountingService=s;this.toastr=l;this.transactionForm=this.fb.group({user_id:[null,[ae.required]],amount:["",[ae.required,ae.min(0)]],statement:[""],receiver_name:["",[ae.required,ae.maxLength(255)]],company_account_id:["",[ae.required]],customer_account_id:["",[ae.required]],image:[null,[this.validateImage.bind(this)]]})}users=[];transactionForm;documentImageUrl=null;companyAccounts=[];customerAccounts=[];isLoading=!1;type;msgError;maxImageSize=2048*1024;selectedFile=null;onFileSelected(e){let t=e.target.files[0];t&&(this.selectedFile=t,this.transactionForm.patchValue({image:t}))}validateImage(e){let t=this.selectedFile;if(t){let i=t.type,r=t.size;if(!["image/jpeg","image/png","image/jpg","image/gif"].includes(i))return{invalidFileType:!0};if(r>this.maxImageSize)return{fileTooLarge:!0}}return null}ngOnInit(){this.route.paramMap.subscribe(t=>{this.type=t.get("type"),console.log("Received type:",this.type)});let e=this.route.snapshot.paramMap.get("id");e&&this.fetchDocumentData(e),this.loadUsers(),this.getCustomerAccounts(),this.getCompanyAccounts()}fetchDocumentData(e){this._DocumentService.getDocumentById(e).subscribe({next:t=>{if(t){let i=t.data;console.log(i),this.transactionForm.patchValue({user_id:i.user_id,amount:i.amount,receiver_name:i.receiver_name,company_account_id:i.company_account_id,customer_account_id:i.customer_account_id,statement:i.statement}),this.documentImageUrl=i.image}},error:t=>{this.msgError=t.error.error}})}loadUsers(){this._UserService.viewAllUsers().subscribe({next:e=>{e&&(console.log(e),this.users=e.data)},error:e=>{console.error(e)}})}getCustomerAccounts(){this._AccountingService.viewAllCustomerAccounts().subscribe({next:e=>{e&&(this.customerAccounts=e.data,console.log(this.customerAccounts))},error:e=>{console.error(e)}})}getCompanyAccounts(){this._AccountingService.viewAllCompanyAccounts().subscribe({next:e=>{e&&(this.companyAccounts=e.data,console.log(this.companyAccounts))},error:e=>{console.error(e)}})}handleForm(){if(this.transactionForm.valid){this.isLoading=!0;let e=new FormData;e.append("amount",this.transactionForm.get("amount")?.value),e.append("type",this.type),e.append("user_id",this.transactionForm.get("user_id")?.value),e.append("receiver_name",this.transactionForm.get("receiver_name")?.value),e.append("type",this.type),e.append("statement",this.transactionForm.get("statement")?.value||""),e.append("company_account_id",this.transactionForm.get("company_account_id")?.value),e.append("customer_account_id",this.transactionForm.get("customer_account_id")?.value),this.selectedFile&&(e.append("image",this.transactionForm.get("image")?.value),console.log(this.selectedFile));let t=this.route.snapshot.paramMap.get("id");console.log(t),t&&this._DocumentService.updateDocument(t,e).subscribe({next:i=>{console.log(i),i&&(this.isLoading=!1,this.toastr.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0645\u0633\u062A\u0646\u062F \u0627\u0644\u062F\u0641\u0639 \u0628\u0646\u062C\u0627\u062D"),this._Router.navigate([`/dashboard/paymentDocument/${this.type}`]))},error:i=>{if(this.isLoading=!1,this.msgError=[],i.error&&i.error.errors)for(let r in i.error.errors)i.error.errors[r]instanceof Array?this.msgError.push(...i.error.errors[r]):this.msgError.push(i.error.errors[r]);console.error(this.msgError),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649")}})}}onCancel(){this.transactionForm.reset(),this._Router.navigate([`/dashboard/paymentDocument/${this.type}`])}static \u0275fac=function(t){return new(t||n)(O(Si),O(ft),O(sa),O(Me),O($i),O(bn),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-update-document"]],decls:77,vars:14,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],[1,"form-label"],["formControlName","user_id",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],["for","amount",1,"form-label"],["id","amount","formControlName","amount","type","number","step","0.01","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0645\u0628\u0644\u063A",1,"form-control"],["for","receiver_name",1,"form-label"],["id","receiver_name","formControlName","receiver_name","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u0644\u0645",1,"form-control"],["for","statement",1,"form-label"],["id","statement","formControlName","statement","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0628\u064A\u0627\u0646",1,"form-control"],["for","company_account_id",1,"form-label"],["id","company_account_id","formControlName","company_account_id",1,"form-control"],["for","customer_account_id",1,"form-label"],["id","customer_account_id","formControlName","customer_account_id",1,"form-control"],[1,"form-group","text-center"],["for","image",1,"form-label"],[1,"fa-solid","fa-image"],["class","mb-3",4,"ngIf"],[1,"custom-file"],["type","file","id","image","accept","image/*",1,"custom-file-input",2,"display","none",3,"change"],["for","image",1,"btn","btn-image"],[1,"fa-solid","fa-file-arrow-up"],["id","file-name"],[1,"mt-4","mb-4","d-flex","justify-content-around","w-25"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[3,"value"],[1,"alert","alert-danger"],[4,"ngIf"],[1,"mb-3"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0646\u062A\u062C \u0627\u0644\u062D\u0627\u0644\u064A\u0629","width","150",3,"src"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A"),a(),u(3,"span",1),c(4,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(5,"i",2),c(6," \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A "),M(7,"i",2),c(8," \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629"),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17,"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629"),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646"),a(),u(23,"select",13)(24,"option",14),c(25,"\u0627\u062E\u062A\u0631 \u0645\u0633\u062A\u062E\u062F\u0645"),a(),D(26,BJ,2,2,"option",15),a(),D(27,UJ,2,1,"div",16),a(),u(28,"div",11)(29,"label",17),c(30,"\u0627\u0644\u0645\u0628\u0644\u063A"),a(),M(31,"input",18),D(32,HJ,3,2,"div",16),a(),u(33,"div",11)(34,"label",19),c(35,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u0644\u0645"),a(),M(36,"input",20),D(37,WJ,3,2,"div",16),a(),u(38,"div",11)(39,"label",21),c(40,"\u0627\u0644\u0628\u064A\u0627\u0646"),a(),M(41,"input",22),a(),u(42,"div",11)(43,"label",23),c(44,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0634\u0631\u0643\u0629"),a(),u(45,"select",24)(46,"option",14),c(47,"\u0627\u062E\u062A\u0631 \u062D\u0633\u0627\u0628 \u0627\u0644\u0634\u0631\u0643\u0629"),a(),D(48,YJ,2,2,"option",15),a(),D(49,ZJ,3,2,"div",16),a(),u(50,"div",11)(51,"label",25),c(52,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064A\u0644"),a(),u(53,"select",26)(54,"option",14),c(55,"\u0627\u062E\u062A\u0631 \u062D\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064A\u0644"),a(),D(56,JJ,2,2,"option",15),a(),D(57,tX,3,2,"div",16),a(),u(58,"div",27)(59,"label",28),M(60,"i",29),c(61," \u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),D(62,nX,2,1,"div",30),u(63,"div",31)(64,"input",32),Z("change",function(o){return i.onFileSelected(o)}),a(),u(65,"label",33),M(66,"i",34),c(67," \u0627\u062E\u062A\u0631 \u0645\u0644\u0641 "),a(),u(68,"span",35),c(69),a()(),D(70,oX,3,2,"div",16),a()()()()(),u(71,"div",36)(72,"button",37),D(73,sX,1,0,"i",38),c(74," \u062A\u062D\u062F\u064A\u062B "),a(),u(75,"button",39),Z("click",function(){return i.onCancel()}),c(76,"\u0625\u0644\u063A\u0627\u0621"),a()()()()()()),t&2){let r,o,s,l,d,m;f(10),E("formGroup",i.transactionForm),f(16),E("ngForOf",i.users),f(),E("ngIf",((r=i.transactionForm.get("user_id"))==null?null:r.errors)&&((r=i.transactionForm.get("user_id"))==null?null:r.touched)),f(5),E("ngIf",((o=i.transactionForm.get("amount"))==null?null:o.errors)&&((o=i.transactionForm.get("amount"))==null?null:o.touched)),f(5),E("ngIf",((s=i.transactionForm.get("receiver_name"))==null?null:s.errors)&&((s=i.transactionForm.get("receiver_name"))==null?null:s.touched)),f(11),E("ngForOf",i.companyAccounts),f(),E("ngIf",((l=i.transactionForm.get("company_account_id"))==null?null:l.errors)&&((l=i.transactionForm.get("company_account_id"))==null?null:l.touched)),f(7),E("ngForOf",i.customerAccounts),f(),E("ngIf",((d=i.transactionForm.get("customer_account_id"))==null?null:d.errors)&&((d=i.transactionForm.get("customer_account_id"))==null?null:d.touched)),f(5),E("ngIf",i.documentImageUrl),f(7),C((i.selectedFile==null?null:i.selectedFile.name)||"\u0644\u0645 \u064A\u062A\u0645 \u0627\u062E\u062A\u064A\u0627\u0631 \u0645\u0644\u0641"),f(),E("ngIf",((m=i.transactionForm.get("image"))==null?null:m.errors)&&((m=i.transactionForm.get("image"))==null?null:m.touched)),f(2),E("disabled",i.transactionForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};function aX(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0645\u0639\u062F\u0644 \u0645\u0637\u0644\u0648\u0628"),a())}function uX(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function lX(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0647\u0648 100"),a())}function cX(n,e){if(n&1&&(u(0,"div",17),D(1,aX,2,0,"p",18)(2,uX,2,0,"p",18)(3,lX,2,0,"p",18),a()),n&2){let t,i,r,o=q();f(),E("ngIf",(t=o.taxRate.get("rate"))==null?null:t.getError("required")),f(),E("ngIf",(i=o.taxRate.get("rate"))==null?null:i.getError("min")),f(),E("ngIf",(r=o.taxRate.get("rate"))==null?null:r.getError("max"))}}function dX(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function pX(n,e){if(n&1&&(u(0,"div",17)(1,"ul"),D(2,dX,2,1,"li",19),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function fX(n,e){n&1&&M(0,"i",20)}var s1=class n{constructor(e,t,i){this._AccountingService=e;this._Router=t;this.toastr=i}msgError=[];isLoading=!1;taxRate=new dn({rate:new je(null,[ae.required,ae.min(0),ae.max(100)])});ngOnInit(){this.fetchRateData()}fetchRateData(){this._AccountingService.getTaxRate().subscribe({next:e=>{if(e){let t=e;console.log(t),this.taxRate.patchValue({rate:t.rate})}},error:e=>{this.msgError=e.error.error}})}handleForm(){if(this.taxRate.valid){this.isLoading=!0;let e=new FormData;e.append("rate",this.taxRate.get("rate")?.value),this._AccountingService.updateTaxRate(e).subscribe({next:t=>{console.log(t),t&&(this.toastr.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0645\u0639\u062F\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629 \u0628\u0646\u062C\u0627\u062D"),this.isLoading=!1,this._Router.navigate(["/dashboard/accounting/7"]))},error:t=>{if(this.isLoading=!1,this.msgError=[],t.error&&t.error.errors)for(let i in t.error.errors)t.error.errors[i]instanceof Array?this.msgError.push(...t.error.errors[i]):this.msgError.push(t.error.errors[i]);console.error(this.msgError),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0645\u0639\u062F\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629")}})}}static \u0275fac=function(t){return new(t||n)(O(bn),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-edit-tax-rate"]],decls:30,vars:5,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","rate",1,"form-label"],["id","rate","formControlName","rate","type","number","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0645\u0639\u062F\u0644","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0645\u0639\u062F\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(3,"span",1),c(4,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(5,"i",2),c(6," \u0627\u0644\u0645\u0639\u062F\u0644 "),M(7,"i",2),c(8," \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0639\u062F\u0644"),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17,"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0639\u062F\u0644"),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0627\u0644\u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0626\u0648\u064A\u0629"),a(),M(23,"input",13),D(24,cX,4,3,"div",14),a()()()()(),D(25,pX,3,1,"div",14),u(26,"div",3)(27,"button",15),D(28,fX,1,0,"i",16),c(29," \u062D\u0641\u0638"),a()()()()()()),t&2){let r;f(10),E("formGroup",i.taxRate),f(14),E("ngIf",((r=i.taxRate.get("rate"))==null?null:r.errors)&&((r=i.taxRate.get("rate"))==null?null:r.touched)),f(),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.taxRate.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,xt,Rt,Ze,on,et,Ot,sn,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var ar=class n{constructor(e){this._HttpClient=e}baseURL=ui.apiUrl;viewAllPurchaseInvoices(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/purchase_invoices`,{headers:t})}deletePurchaseInvoice(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.delete(`${this.baseURL}/purchase_invoices/${e}`,{headers:i})}addPurchaseInvoice(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.post(`${this.baseURL}/purchase_invoices`,e,{headers:i})}getPurchaseInvoiceById(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(this.baseURL+"/purchase_invoices/"+e,{headers:i})}updatePurchaseInvoice(e,t){let i=localStorage.getItem("Gtoken"),r=new Le().set("Authorization",`Bearer ${i}`);return t.append("_method","PUT"),this._HttpClient.post(`${this.baseURL}/purchase_invoices/${e}`,t,{headers:r})}viewAllExpenses(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/expense_invoices`,{headers:t})}deleteExpenses(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.delete(`${this.baseURL}/expense_invoices/${e}`,{headers:i})}addExpenses(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.post(`${this.baseURL}/expense_invoices`,e,{headers:i})}getExpensesById(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(this.baseURL+"/expense_invoices/"+e,{headers:i})}updateExpenses(e,t){let i=localStorage.getItem("Gtoken"),r=new Le().set("Authorization",`Bearer ${i}`);return t.append("_method","PUT"),this._HttpClient.post(`${this.baseURL}/expense_invoices/${e}`,t,{headers:r})}static \u0275fac=function(t){return new(t||n)(Ge(ni))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var mX=n=>["/dashboard/showPurchase",n],hX=n=>["/dashboard/updatePurchase",n];function gX(n,e){if(n&1){let t=ht();u(0,"tr")(1,"th",13),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td"),c(10),a(),u(11,"td")(12,"div",14)(13,"a",15),M(14,"i",16),a(),u(15,"a",15),M(16,"i",17),a(),u(17,"i",18),Z("click",function(){let r=rt(t).$implicit,o=q();return ot(o.deletePurchase(r.id))}),a()()()()}if(n&2){let t=e.$implicit,i=e.index;f(2),C(i+1),f(2),C(t.date),f(2),C(t.account.account_name),f(2),C(t.supplier.account_name),f(2),C(t.payment_type),f(3),E("routerLink",mn(7,mX,t.id)),f(2),E("routerLink",mn(9,hX,t.id))}}var a1=class n{constructor(e,t,i){this._InvoiceService=e;this.router=t;this.toastr=i}isLoading=!1;purchases=[];filteredPurchases=[];searchQuery="";ngOnInit(){this.loadAllPurchases()}loadAllPurchases(){this._InvoiceService.viewAllPurchaseInvoices().subscribe({next:e=>{e&&(console.log(e.data),this.purchases=e.data,this.filteredPurchases=this.purchases)},error:e=>{console.error(e)}})}filterPurchases(){let e=this.searchQuery.toLowerCase();this.filteredPurchases=this.purchases.filter(t=>t.date.toLowerCase().includes(e)||t.payment_type.toLowerCase().includes(e))}deletePurchase(e){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629\u061F")&&this._InvoiceService.deletePurchaseInvoice(e).subscribe({next:t=>{t&&(this.router.navigate(["/dashboard/purchaseInvoices"]),this.loadAllPurchases(),this.toastr.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 \u0628\u0646\u062C\u0627\u062D"))},error:t=>{console.error(t),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629.")}})}static \u0275fac=function(t){return new(t||n)(O(ar),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-purchase-invoices"]],decls:34,vars:2,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],["routerLink","/dashboard/addPurchaseInvoice",1,"nav-link"],[1,"fa-solid","fa-plus","text-white","iconPlus","rounded"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"fw-bold"],["type","search","placeholder","\u0627\u0644\u0628\u062D\u062B \u0628\u062A\u0627\u0631\u064A\u062E \u0623\u0648 \u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639...","aria-label","\u0628\u062D\u062B",1,"form-control","search","w-25",3,"ngModelChange","input","ngModel"],[1,"table-responsive"],[1,"table","mt-3"],["scope","col",1,"bg-light"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","justify-content-around","align-items-center"],[1,"nav-link",3,"routerLink"],[1,"fa-solid","fa-eye","btn1","bg-primary","rounded"],[1,"fa-solid","fa-pencil","btn1","bg-success","rounded"],[1,"fa-solid","fa-trash-can","btn1","bg-danger","rounded",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A"),a(),u(4,"span",1),c(5,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(6,"i",2),c(7," \u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A"),a()(),u(8,"a",3),M(9,"i",4),a()(),u(10,"div",5)(11,"div",6)(12,"div",0)(13,"span",7),c(14,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A"),a(),u(15,"input",8),Tt("ngModelChange",function(o){return Pt(i.searchQuery,o)||(i.searchQuery=o),o}),Z("input",function(){return i.filterPurchases()}),a()()(),u(16,"div",9)(17,"table",10)(18,"thead")(19,"tr")(20,"th",11),c(21,"\u0627\u0644\u062A\u0631\u062A\u064A\u0628"),a(),u(22,"th",11),c(23,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),u(24,"th",11),c(25,"\u0627\u0644\u062D\u0633\u0627\u0628 \u0645\u0646"),a(),u(26,"th",11),c(27,"\u0627\u0644\u0645\u0648\u0631\u062F"),a(),u(28,"th",11),c(29,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639"),a(),u(30,"th",11),c(31,"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"),a()()(),u(32,"tbody"),D(33,gX,18,11,"tr",12),a()()()()),t&2&&(f(15),It("ngModel",i.searchQuery),f(18),E("ngForOf",i.filteredPurchases))},dependencies:[Ne,He,wt,Ct,Xt,Ze,et,xn],styles:["span[_ngcontent-%COMP%]{font-size:12px}.iconPlus[_ngcontent-%COMP%]{background-color:#145388;padding:11px;font-size:10px}.vendortable[_ngcontent-%COMP%]{background-color:#fff}.search[_ngcontent-%COMP%]{width:20%}.search[_ngcontent-%COMP%]{border-radius:20px;padding:.5rem 1rem;max-width:300px}.btn1[_ngcontent-%COMP%]{color:#fff;padding:5px}thead[_ngcontent-%COMP%]{background-color:#000!important}tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}i[_ngcontent-%COMP%]{cursor:pointer}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table[_ngcontent-%COMP%]{min-width:100%}@media (max-width: 768px){.table[_ngcontent-%COMP%]{font-size:12px}}"]})};function vX(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0645\u0637\u0644\u0648\u0628"),a())}function _X(n,e){if(n&1&&(u(0,"div",32),D(1,vX,2,0,"p",33),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.purchasesForm.get("date"))==null?null:t.hasError("required"))}}function yX(n,e){if(n&1&&(u(0,"option",34),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.name)}}function bX(n,e){n&1&&(u(0,"p"),c(1,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639 \u0645\u0637\u0644\u0648\u0628"),a())}function EX(n,e){if(n&1&&(u(0,"div",32),D(1,bX,2,0,"p",33),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.purchasesForm.get("payementType"))==null?null:t.hasError("required"))}}function SX(n,e){if(n&1&&(u(0,"option",34),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function xX(n,e){if(n&1){let t=ht();u(0,"div",11)(1,"label",35),c(2,"\u0631\u0641\u0639 \u0635\u0648\u0631\u0629"),a(),u(3,"input",36),Z("change",function(r){rt(t);let o=q();return ot(o.onFileChange(r))}),a()()}}function CX(n,e){if(n&1&&(u(0,"option",34),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function wX(n,e){n&1&&(u(0,"p"),c(1,"\u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A \u0645\u0637\u0644\u0648\u0628"),a())}function AX(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function DX(n,e){if(n&1&&(u(0,"div",32),D(1,wX,2,0,"p",33)(2,AX,2,0,"p",33),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.purchasesForm.get("amount"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.purchasesForm.get("amount"))==null?null:i.getError("min"))}}function IX(n,e){n&1&&(u(0,"p"),c(1,"\u0633\u0639\u0631 \u0627\u0644\u0644\u062A\u0631 \u0645\u0637\u0644\u0648\u0628"),a())}function TX(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function MX(n,e){if(n&1&&(u(0,"div",32),D(1,IX,2,0,"p",33)(2,TX,2,0,"p",33),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.purchasesForm.get("price"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.purchasesForm.get("price"))==null?null:i.getError("min"))}}function FX(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function NX(n,e){if(n&1&&(u(0,"div",32)(1,"ul"),D(2,FX,2,1,"li",37),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function PX(n,e){n&1&&M(0,"i",38)}var u1=class n{constructor(e,t,i,r,o){this._InvoiceService=e;this._Router=t;this.toastr=i;this._ProductService=r;this._AccountingService=o}msgError=[];isLoading=!1;products;selectedImage=null;taxRate;suppliers;accounts;purchasesForm=new dn({date:new je(this.getTodayDate()),product_id:new je(null,[ae.required]),amount:new je(null,[ae.required,ae.min(0)]),price:new je(null,[ae.required,ae.min(0)]),payementType:new je(null,[ae.required]),supplier_id:new je(null,[ae.required]),account_id:new je(null,[ae.required])});ngOnInit(){this.loadProducts(),this.getTaxRate(),this.getSuppliers(),this.purchasesForm.addControl("tax_rate",new je(null,[ae.required,ae.pattern(/^\d+(\.\d{1,2})?$/)])),this.purchasesForm.get("payementType")?.valueChanges.subscribe(e=>{e==="cash"?this.getAccountsByParent("10"):e==="online"&&this.getAccountsByParent("11")})}loadProducts(){this._ProductService.viewAllProducts().subscribe({next:e=>{e&&(console.log(e),this.products=e)},error:e=>{console.error(e)}})}onFileChange(e){let t=e.target;t.files&&t.files.length>0&&(this.selectedImage=t.files[0])}getTodayDate(){let e=new Date,t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${i}-${r}`}getTaxRate(){this._AccountingService.getTaxRate().subscribe({next:e=>{e&&(this.taxRate=parseFloat(e.rate),console.log(this.taxRate),this.purchasesForm.get("tax_rate")?.setValue(this.taxRate))},error:e=>{console.error(e)}})}getAccountsByParent(e){this._AccountingService.getAccountsByParent(e).subscribe({next:t=>{t&&(this.accounts=t.data,console.log(`Accounts for parent ${e}:`,this.accounts))},error:t=>{console.error(t)}})}getSuppliers(){this._AccountingService.getAccountsByParent("22").subscribe({next:e=>{e&&(this.suppliers=e.data,console.log(this.suppliers))},error:e=>{console.error(e)}})}get total(){let e=this.purchasesForm.get("amount")?.value||0,t=this.purchasesForm.get("price")?.value||0;return e*t}get taxAmount(){let e=this.total,t=this.taxRate||0;return e*t/100}get totalAfterTax(){let e=this.total,t=this.taxAmount;return e-t}handleForm(){if(this.purchasesForm.valid){this.isLoading=!0;let e=new FormData;e.append("date",this.purchasesForm.get("date")?.value),e.append("product_id",this.purchasesForm.get("product_id")?.value),e.append("amount_letters",this.purchasesForm.get("amount")?.value),e.append("price",this.purchasesForm.get("price")?.value),e.append("total_cash",this.total.toString()),e.append("supplier_id",this.purchasesForm.get("supplier_id")?.value),e.append("account_id",this.purchasesForm.get("account_id")?.value),e.append("payment_type",this.purchasesForm.get("payementType")?.value),e.append("tax_rate",this.taxRate.toString()),e.append("tax_amount",this.taxAmount.toString()),this.purchasesForm.get("payementType")?.value==="online"&&this.selectedImage&&e.append("online_payment_image",this.selectedImage),this._InvoiceService.addPurchaseInvoice(e).subscribe({next:t=>{console.log(t),t&&(this.toastr.success("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0634\u0631\u0627\u0621 \u0628\u0646\u062C\u0627\u062D"),this.isLoading=!1,this._Router.navigate(["/dashboard/purchaseInvoices"]))},error:t=>{if(this.isLoading=!1,this.msgError=[],t.error&&t.error.errors)for(let i in t.error.errors)t.error.errors[i]instanceof Array?this.msgError.push(...t.error.errors[i]):this.msgError.push(t.error.errors[i]);console.error(this.msgError),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0625\u0636\u0627\u0641\u0629")}})}}static \u0275fac=function(t){return new(t||n)(O(ar),O(Me),O(Qe),O(Ln),O(bn))};static \u0275cmp=Ae({type:n,selectors:[["app-add-purchase-invoices"]],decls:95,vars:25,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","date",1,"form-label"],["id","date","formControlName","date","type","date",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"form-label"],["formControlName","product_id",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","payementType",1,"form-label"],["id","payementType","formControlName","payementType",1,"form-control"],["value","cash"],["value","online"],["formControlName","account_id",1,"form-control"],["class","form-group col-md-6",4,"ngIf"],["formControlName","supplier_id",1,"form-control"],["for","amount",1,"form-label"],["id","amount","formControlName","amount","type","number","placeholder","\u0623\u062F\u062E\u0644 \u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A \u0645\u0646 \u0641\u0636\u0644\u0643","required","",1,"form-control"],["for","price",1,"form-label"],["id","price","formControlName","price","type","number","placeholder","\u0623\u062F\u062E\u0644 \u0633\u0639\u0631 \u0627\u0644\u0644\u062A\u0631 \u0627\u0644\u0648\u0627\u062D\u062F \u0645\u0646 \u0641\u0636\u0644\u0643","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],["for","image",1,"form-label"],["id","image","type","file",1,"form-control",3,"change"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0634\u0631\u0627\u0621"),a(),u(3,"span",1),c(4,"\u0627\u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 "),M(5,"i",2),c(6," \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A "),M(7,"i",2),c(8," \u0625\u0636\u0627\u0641\u0629 \u0641\u0627\u062A\u0648\u0631\u0629 \u0634\u0631\u0627\u0621"),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17,"\u0625\u0636\u0627\u0641\u0629 \u0641\u0627\u062A\u0648\u0631\u0629 \u0634\u0631\u0627\u0621"),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),M(23,"input",13),D(24,_X,2,1,"div",14),a(),u(25,"div",11)(26,"label",15),c(27,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),u(28,"select",16)(29,"option",17),c(30,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),D(31,yX,2,2,"option",18),a()(),u(32,"div",11)(33,"label",19),c(34,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639"),a(),u(35,"select",20)(36,"option",21),c(37,"\u0646\u0642\u062F\u0627\u064B"),a(),u(38,"option",22),c(39,"\u0634\u0628\u0643\u0629"),a()(),D(40,EX,2,1,"div",14),a(),u(41,"div",11)(42,"label",15),c(43,"\u0627\u062E\u062A\u0631 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),u(44,"select",23)(45,"option",17),c(46,"\u0627\u062E\u062A\u0631 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),D(47,SX,2,2,"option",18),a()(),D(48,xX,4,0,"div",24),u(49,"div",11)(50,"label",15),c(51,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0648\u0631\u062F"),a(),u(52,"select",25)(53,"option",17),c(54,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0648\u0631\u062F"),a(),D(55,CX,2,2,"option",18),a()()(),u(56,"div",6)(57,"div",11)(58,"label",26),c(59,"\u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A"),a(),M(60,"input",27),D(61,DX,3,2,"div",14),a(),u(62,"div",11)(63,"label",28),c(64,"\u0633\u0639\u0631 \u0627\u0644\u0644\u062A\u0631 \u0627\u0644\u0648\u0627\u062D\u062F"),a(),M(65,"input",29),D(66,MX,3,2,"div",14),a(),u(67,"div",11)(68,"label",15),c(69,"\u0645\u0639\u062F\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(70,"p"),c(71),a()(),u(72,"div",11)(73,"label",15),c(74,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"),a(),u(75,"p"),c(76),_n(77,"number"),a()(),u(78,"div",11)(79,"label",15),c(80,"\u0645\u0628\u0644\u063A \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(81,"p"),c(82),_n(83,"number"),a()(),u(84,"div",11)(85,"label",15),c(86,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A \u0628\u0639\u062F \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(87,"p"),c(88),_n(89,"number"),a()()()()()(),D(90,NX,3,1,"div",14),u(91,"div",3)(92,"button",30),D(93,PX,1,0,"i",31),c(94," \u062D\u0641\u0638 "),a()()()()()()),t&2){let r,o,s,l,d;f(10),E("formGroup",i.purchasesForm),f(14),E("ngIf",((r=i.purchasesForm.get("date"))==null?null:r.errors)&&((r=i.purchasesForm.get("date"))==null?null:r.touched)),f(7),E("ngForOf",i.products),f(9),E("ngIf",((o=i.purchasesForm.get("payementType"))==null?null:o.errors)&&((o=i.purchasesForm.get("payementType"))==null?null:o.touched)),f(7),E("ngForOf",i.accounts),f(),E("ngIf",((s=i.purchasesForm.get("payementType"))==null?null:s.value)==="online"),f(7),E("ngForOf",i.suppliers),f(6),E("ngIf",((l=i.purchasesForm.get("amount"))==null?null:l.errors)&&((l=i.purchasesForm.get("amount"))==null?null:l.touched)),f(5),E("ngIf",((d=i.purchasesForm.get("price"))==null?null:d.errors)&&((d=i.purchasesForm.get("price"))==null?null:d.touched)),f(5),Se("",i.taxRate," %"),f(5),C(yn(77,16,i.total,"1.2-2")),f(6),C(yn(83,19,i.taxAmount,"1.2-2")),f(6),C(yn(89,22,i.totalAfterTax,"1.2-2")),f(2),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.purchasesForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,nr,xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,sn,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};function OX(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0645\u0637\u0644\u0648\u0628"),a())}function RX(n,e){if(n&1&&(u(0,"div",34),D(1,OX,2,0,"p",35),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.purchasesForm.get("date"))==null?null:t.hasError("required"))}}function LX(n,e){if(n&1&&(u(0,"option",36),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.name)}}function kX(n,e){n&1&&(u(0,"p"),c(1,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639 \u0645\u0637\u0644\u0648\u0628"),a())}function jX(n,e){if(n&1&&(u(0,"div",34),D(1,kX,2,0,"p",35),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.purchasesForm.get("payementType"))==null?null:t.hasError("required"))}}function BX(n,e){if(n&1&&(u(0,"option",36),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function VX(n,e){if(n&1){let t=ht();u(0,"div",11)(1,"label",37),c(2,"\u0631\u0641\u0639 \u0635\u0648\u0631\u0629"),a(),u(3,"input",38),Z("change",function(r){rt(t);let o=q();return ot(o.onFileChange(r))}),a()()}}function UX(n,e){if(n&1&&(u(0,"option",36),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function qX(n,e){n&1&&(u(0,"p"),c(1,"\u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A \u0645\u0637\u0644\u0648\u0628"),a())}function $X(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function HX(n,e){if(n&1&&(u(0,"div",34),D(1,qX,2,0,"p",35)(2,$X,2,0,"p",35),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.purchasesForm.get("amount"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.purchasesForm.get("amount"))==null?null:i.getError("min"))}}function zX(n,e){n&1&&(u(0,"p"),c(1,"\u0633\u0639\u0631 \u0627\u0644\u0644\u062A\u0631 \u0627\u0644\u0648\u0627\u062D\u062F \u0645\u0637\u0644\u0648\u0628"),a())}function GX(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function WX(n,e){if(n&1&&(u(0,"div",34),D(1,zX,2,0,"p",35)(2,GX,2,0,"p",35),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.purchasesForm.get("price"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.purchasesForm.get("price"))==null?null:i.getError("min"))}}function YX(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function KX(n,e){if(n&1&&(u(0,"div",34)(1,"ul"),D(2,YX,2,1,"li",39),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function QX(n,e){n&1&&M(0,"i",40)}var l1=class n{constructor(e,t,i,r,o,s){this._InvoiceService=e;this._Router=t;this.toastr=i;this._ProductService=r;this._AccountingService=o;this.route=s}msgError=[];isLoading=!1;products;selectedImage=null;taxRate;suppliers;accounts;purchasesForm=new dn({date:new je(this.getTodayDate()),product_id:new je(null,[ae.required]),amount:new je(null,[ae.required,ae.min(0)]),price:new je(null,[ae.required,ae.min(0)]),payementType:new je(null,[ae.required]),supplier_id:new je(null,[ae.required]),account_id:new je(null,[ae.required])});ngOnInit(){this.loadProducts(),this.getTaxRate(),this.getSuppliers(),this.purchasesForm.addControl("tax_rate",new je(null,[ae.required,ae.pattern(/^\d+(\.\d{1,2})?$/)])),this.purchasesForm.get("payementType")?.valueChanges.subscribe(t=>{t==="cash"?this.getAccountsByParent("10"):t==="online"&&this.getAccountsByParent("11")});let e=this.route.snapshot.paramMap.get("id");e&&this.fetchPurchaseData(e)}fetchPurchaseData(e){this._InvoiceService.getPurchaseInvoiceById(e).subscribe({next:t=>{if(t){let i=t.data;console.log(i),this.purchasesForm.patchValue({date:i.date,product_id:i.product.id,payementType:i.payment_type,account_id:i.account.id,supplier_id:i.supplier.id,amount:i.amount_letters,price:i.price})}},error:t=>{this.msgError=t.error.error}})}loadProducts(){this._ProductService.viewAllProducts().subscribe({next:e=>{e&&(console.log(e),this.products=e)},error:e=>{console.error(e)}})}onFileChange(e){let t=e.target;t.files&&t.files.length>0&&(this.selectedImage=t.files[0])}getTodayDate(){let e=new Date,t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${i}-${r}`}getTaxRate(){this._AccountingService.getTaxRate().subscribe({next:e=>{e&&(this.taxRate=parseFloat(e.rate),console.log(this.taxRate),this.purchasesForm.get("tax_rate")?.setValue(this.taxRate))},error:e=>{console.error(e)}})}getAccountsByParent(e){this._AccountingService.getAccountsByParent(e).subscribe({next:t=>{t&&(this.accounts=t.data,console.log(`Accounts for parent ${e}:`,this.accounts))},error:t=>{console.error(t)}})}getSuppliers(){this._AccountingService.getAccountsByParent("22").subscribe({next:e=>{e&&(this.suppliers=e.data,console.log(this.suppliers))},error:e=>{console.error(e)}})}get total(){let e=this.purchasesForm.get("amount")?.value||0,t=this.purchasesForm.get("price")?.value||0;return e*t}get taxAmount(){let e=this.total,t=this.taxRate||0;return e*t/100}get totalAfterTax(){let e=this.total,t=this.taxAmount;return e-t}handleForm(){if(this.purchasesForm.valid){this.isLoading=!0;let e=new FormData;e.append("date",this.purchasesForm.get("date")?.value),e.append("product_id",this.purchasesForm.get("product_id")?.value),e.append("amount_letters",this.purchasesForm.get("amount")?.value),e.append("price",this.purchasesForm.get("price")?.value),e.append("total_cash",this.total.toString()),e.append("supplier_id",this.purchasesForm.get("supplier_id")?.value),e.append("account_id",this.purchasesForm.get("account_id")?.value),e.append("payment_type",this.purchasesForm.get("payementType")?.value),e.append("tax_rate",this.taxRate.toString()),e.append("tax_amount",this.taxAmount.toString()),this.purchasesForm.get("payementType")?.value==="online"&&this.selectedImage&&e.append("online_payment_image",this.selectedImage);let t=this.route.snapshot.paramMap.get("id");t&&this._InvoiceService.updatePurchaseInvoice(t,e).subscribe({next:i=>{console.log(i),i&&(this.toastr.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0634\u0631\u0627\u0621 \u0628\u0646\u062C\u0627\u062D"),this.isLoading=!1,this._Router.navigate(["/dashboard/purchaseInvoices"]))},error:i=>{if(this.isLoading=!1,this.msgError=[],i.error&&i.error.errors)for(let r in i.error.errors)i.error.errors[r]instanceof Array?this.msgError.push(...i.error.errors[r]):this.msgError.push(i.error.errors[r]);console.error(this.msgError),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B")}})}}onCancel(){this.purchasesForm.reset(),this._Router.navigate(["/dashboard/purchaseInvoices"])}static \u0275fac=function(t){return new(t||n)(O(ar),O(Me),O(Qe),O(Ln),O(bn),O(ft))};static \u0275cmp=Ae({type:n,selectors:[["app-update-purchase-invoices"]],decls:97,vars:25,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","date",1,"form-label"],["id","date","formControlName","date","type","date",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"form-label"],["formControlName","product_id",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","payementType",1,"form-label"],["id","payementType","formControlName","payementType",1,"form-control"],["value","cash"],["value","online"],["formControlName","account_id",1,"form-control"],["class","form-group col-md-6",4,"ngIf"],["formControlName","supplier_id",1,"form-control"],["for","amount",1,"form-label"],["id","amount","formControlName","amount","type","number","placeholder","\u0627\u0644\u0631\u062C\u0627\u0621 \u0625\u062F\u062E\u0627\u0644 \u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A","required","",1,"form-control"],["for","price",1,"form-label"],["id","price","formControlName","price","type","number","placeholder","\u0627\u0644\u0631\u062C\u0627\u0621 \u0625\u062F\u062E\u0627\u0644 \u0633\u0639\u0631 \u0627\u0644\u0644\u062A\u0631 \u0627\u0644\u0648\u0627\u062D\u062F","required","",1,"form-control"],[1,"mt-4","mb-4","d-flex","justify-content-around","w-25"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],["for","image",1,"form-label"],["id","image","type","file",1,"form-control",3,"change"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A"),a(),u(3,"span",1),c(4,"\u0627\u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 "),M(5,"i",2),c(6," \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A "),M(7,"i",2),c(8," \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A "),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17,"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A"),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),M(23,"input",13),D(24,RX,2,1,"div",14),a(),u(25,"div",11)(26,"label",15),c(27,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),u(28,"select",16)(29,"option",17),c(30,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),D(31,LX,2,2,"option",18),a()(),u(32,"div",11)(33,"label",19),c(34,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639"),a(),u(35,"select",20)(36,"option",21),c(37,"\u0646\u0642\u062F\u064A"),a(),u(38,"option",22),c(39,"\u0623\u0648\u0646\u0644\u0627\u064A\u0646"),a()(),D(40,jX,2,1,"div",14),a(),u(41,"div",11)(42,"label",15),c(43,"\u0627\u062E\u062A\u0631 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),u(44,"select",23)(45,"option",17),c(46,"\u0627\u062E\u062A\u0631 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),D(47,BX,2,2,"option",18),a()(),D(48,VX,4,0,"div",24),u(49,"div",11)(50,"label",15),c(51,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0648\u0631\u062F"),a(),u(52,"select",25)(53,"option",17),c(54,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0648\u0631\u062F"),a(),D(55,UX,2,2,"option",18),a()()(),u(56,"div",6)(57,"div",11)(58,"label",26),c(59,"\u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A"),a(),M(60,"input",27),D(61,HX,3,2,"div",14),a(),u(62,"div",11)(63,"label",28),c(64,"\u0633\u0639\u0631 \u0627\u0644\u0644\u062A\u0631 \u0627\u0644\u0648\u0627\u062D\u062F"),a(),M(65,"input",29),D(66,WX,3,2,"div",14),a(),u(67,"div",11)(68,"label",15),c(69,"\u0645\u0639\u062F\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(70,"p"),c(71),a()(),u(72,"div",11)(73,"label",15),c(74,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"),a(),u(75,"p"),c(76),_n(77,"number"),a()(),u(78,"div",11)(79,"label",15),c(80,"\u0642\u064A\u0645\u0629 \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(81,"p"),c(82),_n(83,"number"),a()(),u(84,"div",11)(85,"label",15),c(86,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A \u0628\u0639\u062F \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(87,"p"),c(88),_n(89,"number"),a()()()()(),D(90,KX,3,1,"div",14),u(91,"div",30)(92,"button",31),D(93,QX,1,0,"i",32),c(94," \u062A\u062D\u062F\u064A\u062B "),a(),u(95,"button",33),Z("click",function(){return i.onCancel()}),c(96,"\u0625\u0644\u063A\u0627\u0621"),a()()()()()()()),t&2){let r,o,s,l,d;f(10),E("formGroup",i.purchasesForm),f(14),E("ngIf",((r=i.purchasesForm.get("date"))==null?null:r.errors)&&((r=i.purchasesForm.get("date"))==null?null:r.touched)),f(7),E("ngForOf",i.products),f(9),E("ngIf",((o=i.purchasesForm.get("payementType"))==null?null:o.errors)&&((o=i.purchasesForm.get("payementType"))==null?null:o.touched)),f(7),E("ngForOf",i.accounts),f(),E("ngIf",((s=i.purchasesForm.get("payementType"))==null?null:s.value)==="online"),f(7),E("ngForOf",i.suppliers),f(6),E("ngIf",((l=i.purchasesForm.get("amount"))==null?null:l.errors)&&((l=i.purchasesForm.get("amount"))==null?null:l.touched)),f(5),E("ngIf",((d=i.purchasesForm.get("price"))==null?null:d.errors)&&((d=i.purchasesForm.get("price"))==null?null:d.touched)),f(5),Se("",i.taxRate," %"),f(5),C(yn(77,16,i.total,"1.2-2")),f(6),C(yn(83,19,i.taxAmount,"1.2-2")),f(6),C(yn(89,22,i.totalAfterTax,"1.2-2")),f(2),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.purchasesForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,nr,xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,sn,Dt,Mt],encapsulation:2})};var Cr=Uint8Array,No=Uint16Array,K5=Int32Array,c1=new Cr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),d1=new Cr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),z5=new Cr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pM=function(n,e){for(var t=new No(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new K5(t[30]),i=1;i<30;++i)for(var o=t[i];o<t[i+1];++o)r[o]=o-t[i]<<5|i;return{b:t,r}},fM=pM(c1,2),mM=fM.b,G5=fM.r;mM[28]=258,G5[258]=28;var hM=pM(d1,0),ZX=hM.b,lM=hM.r,W5=new No(32768);for(Un=0;Un<32768;++Un)iu=(Un&43690)>>1|(Un&21845)<<1,iu=(iu&52428)>>2|(iu&13107)<<2,iu=(iu&61680)>>4|(iu&3855)<<4,W5[Un]=((iu&65280)>>8|(iu&255)<<8)>>1;var iu,Un,aa=function(n,e,t){for(var i=n.length,r=0,o=new No(e);r<i;++r)n[r]&&++o[n[r]-1];var s=new No(e);for(r=1;r<e;++r)s[r]=s[r-1]+o[r-1]<<1;var l;if(t){l=new No(1<<e);var d=15-e;for(r=0;r<i;++r)if(n[r])for(var m=r<<4|n[r],g=e-n[r],y=s[n[r]-1]++<<g,S=y|(1<<g)-1;y<=S;++y)l[W5[y]>>d]=m}else for(l=new No(i),r=0;r<i;++r)n[r]&&(l[r]=W5[s[n[r]-1]++]>>15-n[r]);return l},ol=new Cr(288);for(Un=0;Un<144;++Un)ol[Un]=8;var Un;for(Un=144;Un<256;++Un)ol[Un]=9;var Un;for(Un=256;Un<280;++Un)ol[Un]=7;var Un;for(Un=280;Un<288;++Un)ol[Un]=8;var Un,Wf=new Cr(32);for(Un=0;Un<32;++Un)Wf[Un]=5;var Un,JX=aa(ol,9,0),XX=aa(ol,9,1),eee=aa(Wf,5,0),tee=aa(Wf,5,1),q5=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Ns=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},$5=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Q5=function(n){return(n+7)/8|0},gM=function(n,e,t){return(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length),new Cr(n.subarray(e,t))};var nee=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ps=function(n,e,t){var i=new Error(e||nee[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,Ps),!t)throw i;return i},iee=function(n,e,t,i){var r=n.length,o=i?i.length:0;if(!r||e.f&&!e.l)return t||new Cr(0);var s=!t,l=s||e.i!=2,d=e.i;s&&(t=new Cr(r*3));var m=function(Ue){var ut=t.length;if(Ue>ut){var nt=new Cr(Math.max(ut*2,Ue));nt.set(t),t=nt}},g=e.f||0,y=e.p||0,S=e.b||0,_=e.l,A=e.d,w=e.m,L=e.n,F=r*8;do{if(!_){g=Ns(n,y,1);var k=Ns(n,y+1,3);if(y+=3,k)if(k==1)_=XX,A=tee,w=9,L=5;else if(k==2){var ge=Ns(n,y,31)+257,re=Ns(n,y+10,15)+4,Y=ge+Ns(n,y+5,31)+1;y+=14;for(var me=new Cr(Y),xe=new Cr(19),V=0;V<re;++V)xe[z5[V]]=Ns(n,y+V*3,7);y+=re*3;for(var U=q5(xe),J=(1<<U)-1,Q=aa(xe,U,1),V=0;V<Y;){var Ce=Q[Ns(n,y,J)];y+=Ce&15;var W=Ce>>4;if(W<16)me[V++]=W;else{var X=0,ue=0;for(W==16?(ue=3+Ns(n,y,3),y+=2,X=me[V-1]):W==17?(ue=3+Ns(n,y,7),y+=3):W==18&&(ue=11+Ns(n,y,127),y+=7);ue--;)me[V++]=X}}var ie=me.subarray(0,ge),ve=me.subarray(ge);w=q5(ie),L=q5(ve),_=aa(ie,w,1),A=aa(ve,L,1)}else Ps(1);else{var W=Q5(y)+4,te=n[W-4]|n[W-3]<<8,le=W+te;if(le>r){d&&Ps(0);break}l&&m(S+te),t.set(n.subarray(W,le),S),e.b=S+=te,e.p=y=le*8,e.f=g;continue}if(y>F){d&&Ps(0);break}}l&&m(S+131072);for(var we=(1<<w)-1,Je=(1<<L)-1,N=y;;N=y){var X=_[$5(n,y)&we],H=X>>4;if(y+=X&15,y>F){d&&Ps(0);break}if(X||Ps(2),H<256)t[S++]=H;else if(H==256){N=y,_=null;break}else{var z=H-254;if(H>264){var V=H-257,ee=c1[V];z=Ns(n,y,(1<<ee)-1)+mM[V],y+=ee}var de=A[$5(n,y)&Je],fe=de>>4;de||Ps(3),y+=de&15;var ve=ZX[fe];if(fe>3){var ee=d1[fe];ve+=$5(n,y)&(1<<ee)-1,y+=ee}if(y>F){d&&Ps(0);break}l&&m(S+131072);var _e=S+z;if(S<ve){var ye=o-ve,Ye=Math.min(ve,_e);for(ye+S<0&&Ps(3);S<Ye;++S)t[S]=i[ye+S]}for(;S<_e;++S)t[S]=t[S-ve]}}e.l=_,e.p=N,e.b=S,e.f=g,_&&(g=1,e.m=w,e.d=A,e.n=L)}while(!g);return S!=t.length&&s?gM(t,0,S):t.subarray(0,S)},ru=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8},zf=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8,n[i+2]|=t>>16},H5=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var r=t.length,o=t.slice();if(!r)return{t:_M,l:0};if(r==1){var s=new Cr(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(le,ge){return le.f-ge.f}),t.push({s:-1,f:25001});var l=t[0],d=t[1],m=0,g=1,y=2;for(t[0]={s:-1,f:l.f+d.f,l,r:d};g!=r-1;)l=t[t[m].f<t[y].f?m++:y++],d=t[m!=g&&t[m].f<t[y].f?m++:y++],t[g++]={s:-1,f:l.f+d.f,l,r:d};for(var S=o[0].s,i=1;i<r;++i)o[i].s>S&&(S=o[i].s);var _=new No(S+1),A=Y5(t[g-1],_,0);if(A>e){var i=0,w=0,L=A-e,F=1<<L;for(o.sort(function(ge,re){return _[re.s]-_[ge.s]||ge.f-re.f});i<r;++i){var k=o[i].s;if(_[k]>e)w+=F-(1<<A-_[k]),_[k]=e;else break}for(w>>=L;w>0;){var W=o[i].s;_[W]<e?w-=1<<e-_[W]++-1:++i}for(;i>=0&&w;--i){var te=o[i].s;_[te]==e&&(--_[te],++w)}A=e}return{t:new Cr(_),l:A}},Y5=function(n,e,t){return n.s==-1?Math.max(Y5(n.l,e,t+1),Y5(n.r,e,t+1)):e[n.s]=t},cM=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new No(++e),i=0,r=n[0],o=1,s=function(d){t[i++]=d},l=1;l<=e;++l)if(n[l]==r&&l!=e)++o;else{if(!r&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(r),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(r);o=1,r=n[l]}return{c:t.subarray(0,i),n:e}},Gf=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},vM=function(n,e,t){var i=t.length,r=Q5(e+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var o=0;o<i;++o)n[r+o+4]=t[o];return(r+4+i)*8},dM=function(n,e,t,i,r,o,s,l,d,m,g){ru(e,g++,t),++r[256];for(var y=H5(r,15),S=y.t,_=y.l,A=H5(o,15),w=A.t,L=A.l,F=cM(S),k=F.c,W=F.n,te=cM(w),le=te.c,ge=te.n,re=new No(19),Y=0;Y<k.length;++Y)++re[k[Y]&31];for(var Y=0;Y<le.length;++Y)++re[le[Y]&31];for(var me=H5(re,7),xe=me.t,V=me.l,U=19;U>4&&!xe[z5[U-1]];--U);var J=m+5<<3,Q=Gf(r,ol)+Gf(o,Wf)+s,Ce=Gf(r,S)+Gf(o,w)+s+14+3*U+Gf(re,xe)+2*re[16]+3*re[17]+7*re[18];if(d>=0&&J<=Q&&J<=Ce)return vM(e,g,n.subarray(d,d+m));var X,ue,ie,ve;if(ru(e,g,1+(Ce<Q)),g+=2,Ce<Q){X=aa(S,_,0),ue=S,ie=aa(w,L,0),ve=w;var we=aa(xe,V,0);ru(e,g,W-257),ru(e,g+5,ge-1),ru(e,g+10,U-4),g+=14;for(var Y=0;Y<U;++Y)ru(e,g+3*Y,xe[z5[Y]]);g+=3*U;for(var Je=[k,le],N=0;N<2;++N)for(var H=Je[N],Y=0;Y<H.length;++Y){var z=H[Y]&31;ru(e,g,we[z]),g+=xe[z],z>15&&(ru(e,g,H[Y]>>5&127),g+=H[Y]>>12)}}else X=JX,ue=ol,ie=eee,ve=Wf;for(var Y=0;Y<l;++Y){var ee=i[Y];if(ee>255){var z=ee>>18&31;zf(e,g,X[z+257]),g+=ue[z+257],z>7&&(ru(e,g,ee>>23&31),g+=c1[z]);var de=ee&31;zf(e,g,ie[de]),g+=ve[de],de>3&&(zf(e,g,ee>>5&8191),g+=d1[de])}else zf(e,g,X[ee]),g+=ue[ee]}return zf(e,g,X[256]),g+ue[256]},ree=new K5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_M=new Cr(0),oee=function(n,e,t,i,r,o){var s=o.z||n.length,l=new Cr(i+s+5*(1+Math.ceil(s/7e3))+r),d=l.subarray(i,l.length-r),m=o.l,g=(o.r||0)&7;if(e){g&&(d[0]=o.r>>3);for(var y=ree[e-1],S=y>>13,_=y&8191,A=(1<<t)-1,w=o.p||new No(32768),L=o.h||new No(A+1),F=Math.ceil(t/3),k=2*F,W=function(kt){return(n[kt]^n[kt+1]<<F^n[kt+2]<<k)&A},te=new K5(25e3),le=new No(288),ge=new No(32),re=0,Y=0,me=o.i||0,xe=0,V=o.w||0,U=0;me+2<s;++me){var J=W(me),Q=me&32767,Ce=L[J];if(w[Q]=Ce,L[J]=Q,V<=me){var X=s-me;if((re>7e3||xe>24576)&&(X>423||!m)){g=dM(n,d,0,te,le,ge,Y,xe,U,me-U,g),xe=re=Y=0,U=me;for(var ue=0;ue<286;++ue)le[ue]=0;for(var ue=0;ue<30;++ue)ge[ue]=0}var ie=2,ve=0,we=_,Je=Q-Ce&32767;if(X>2&&J==W(me-Je))for(var N=Math.min(S,X)-1,H=Math.min(32767,me),z=Math.min(258,X);Je<=H&&--we&&Q!=Ce;){if(n[me+ie]==n[me+ie-Je]){for(var ee=0;ee<z&&n[me+ee]==n[me+ee-Je];++ee);if(ee>ie){if(ie=ee,ve=Je,ee>N)break;for(var de=Math.min(Je,ee-2),fe=0,ue=0;ue<de;++ue){var _e=me-Je+ue&32767,ye=w[_e],Ye=_e-ye&32767;Ye>fe&&(fe=Ye,Ce=_e)}}}Q=Ce,Ce=w[Q],Je+=Q-Ce&32767}if(ve){te[xe++]=268435456|G5[ie]<<18|lM[ve];var Ue=G5[ie]&31,ut=lM[ve]&31;Y+=c1[Ue]+d1[ut],++le[257+Ue],++ge[ut],V=me+ie,++re}else te[xe++]=n[me],++le[n[me]]}}for(me=Math.max(me,V);me<s;++me)te[xe++]=n[me],++le[n[me]];g=dM(n,d,m,te,le,ge,Y,xe,U,me-U,g),m||(o.r=g&7|d[g/8|0]<<3,g-=7,o.h=L,o.p=w,o.i=me,o.w=V)}else{for(var me=o.w||0;me<s+m;me+=65535){var nt=me+65535;nt>=s&&(d[g/8|0]=m,nt=s),g=vM(d,g+1,n.subarray(me,nt))}o.i=s}return gM(l,0,i+Q5(g)+r)};var yM=function(){var n=1,e=0;return{p:function(t){for(var i=n,r=e,o=t.length|0,s=0;s!=o;){for(var l=Math.min(s+2655,o);s<l;++s)r+=i+=t[s];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,e=r},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},see=function(n,e,t,i,r){if(!r&&(r={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Cr(o.length+n.length);s.set(o),s.set(n,o.length),n=s,r.w=o.length}return oee(n,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,i,r)};var bM=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8};var aee=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var r=yM();r.p(e.dictionary),bM(n,2,r.d())}},uee=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Ps(6,"invalid zlib data"),(n[1]>>5&1)==+!e&&Ps(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function p1(n,e){e||(e={});var t=yM();t.p(n);var i=see(n,e,e.dictionary?6:2,4);return aee(i,e),bM(i,i.length-4,t.d()),i}function EM(n,e){return iee(n.subarray(uee(n,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var lee=typeof TextDecoder<"u"&&new TextDecoder,cee=0;try{lee.decode(_M,{stream:!0}),cee=1}catch{}var $t=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Z5(){$t.console&&typeof $t.console.log=="function"&&$t.console.log.apply($t.console,arguments)}var ii={log:Z5,warn:function(n){$t.console&&(typeof $t.console.warn=="function"?$t.console.warn.apply($t.console,arguments):Z5.call(null,arguments))},error:function(n){$t.console&&(typeof $t.console.error=="function"?$t.console.error.apply($t.console,arguments):Z5(n))}};function J5(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){vc(i.response,e,t)},i.onerror=function(){ii.error("could not download file")},i.send()}function SM(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function f1(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Yf,iE,vc=$t.saveAs||((typeof window>"u"?"undefined":Qn(window))!=="object"||window!==$t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=$t.URL||$t.webkitURL,r=document.createElement("a");e=e||n.name||"download",r.download=e,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?SM(r.href)?J5(n,e,t):f1(r,r.target="_blank"):f1(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){f1(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(SM(n))J5(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){f1(i)})}else navigator.msSaveOrOpenBlob(function(r,o){return o===void 0?o={autoBom:!1}:Qn(o)!=="object"&&(ii.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(n,t),e)}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return J5(n,e,t);var r=n.type==="application/octet-stream",o=/constructor/i.test($t.HTMLElement)||$t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&o)&&(typeof FileReader>"u"?"undefined":Qn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var g=l.result;g=s?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=g:location=g,i=null},l.readAsDataURL(n)}else{var d=$t.URL||$t.webkitURL,m=d.createObjectURL(n);i?i.location=m:location.href=m,i=null,setTimeout(function(){d.revokeObjectURL(m)},4e4)}});function BM(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],i=0;i<t.length;i++){var r=t[i].re,o=t[i].process,s=r.exec(n);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),d=this.g.toString(16),m=this.b.toString(16);return l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),m.length==1&&(m="0"+m),"#"+l+d+m}}function X5(n,e){var t=n[0],i=n[1],r=n[2],o=n[3];t=wr(t,i,r,o,e[0],7,-680876936),o=wr(o,t,i,r,e[1],12,-389564586),r=wr(r,o,t,i,e[2],17,606105819),i=wr(i,r,o,t,e[3],22,-1044525330),t=wr(t,i,r,o,e[4],7,-176418897),o=wr(o,t,i,r,e[5],12,1200080426),r=wr(r,o,t,i,e[6],17,-1473231341),i=wr(i,r,o,t,e[7],22,-45705983),t=wr(t,i,r,o,e[8],7,1770035416),o=wr(o,t,i,r,e[9],12,-1958414417),r=wr(r,o,t,i,e[10],17,-42063),i=wr(i,r,o,t,e[11],22,-1990404162),t=wr(t,i,r,o,e[12],7,1804603682),o=wr(o,t,i,r,e[13],12,-40341101),r=wr(r,o,t,i,e[14],17,-1502002290),t=Ar(t,i=wr(i,r,o,t,e[15],22,1236535329),r,o,e[1],5,-165796510),o=Ar(o,t,i,r,e[6],9,-1069501632),r=Ar(r,o,t,i,e[11],14,643717713),i=Ar(i,r,o,t,e[0],20,-373897302),t=Ar(t,i,r,o,e[5],5,-701558691),o=Ar(o,t,i,r,e[10],9,38016083),r=Ar(r,o,t,i,e[15],14,-660478335),i=Ar(i,r,o,t,e[4],20,-405537848),t=Ar(t,i,r,o,e[9],5,568446438),o=Ar(o,t,i,r,e[14],9,-1019803690),r=Ar(r,o,t,i,e[3],14,-187363961),i=Ar(i,r,o,t,e[8],20,1163531501),t=Ar(t,i,r,o,e[13],5,-1444681467),o=Ar(o,t,i,r,e[2],9,-51403784),r=Ar(r,o,t,i,e[7],14,1735328473),t=Dr(t,i=Ar(i,r,o,t,e[12],20,-1926607734),r,o,e[5],4,-378558),o=Dr(o,t,i,r,e[8],11,-2022574463),r=Dr(r,o,t,i,e[11],16,1839030562),i=Dr(i,r,o,t,e[14],23,-35309556),t=Dr(t,i,r,o,e[1],4,-1530992060),o=Dr(o,t,i,r,e[4],11,1272893353),r=Dr(r,o,t,i,e[7],16,-155497632),i=Dr(i,r,o,t,e[10],23,-1094730640),t=Dr(t,i,r,o,e[13],4,681279174),o=Dr(o,t,i,r,e[0],11,-358537222),r=Dr(r,o,t,i,e[3],16,-722521979),i=Dr(i,r,o,t,e[6],23,76029189),t=Dr(t,i,r,o,e[9],4,-640364487),o=Dr(o,t,i,r,e[12],11,-421815835),r=Dr(r,o,t,i,e[15],16,530742520),t=Ir(t,i=Dr(i,r,o,t,e[2],23,-995338651),r,o,e[0],6,-198630844),o=Ir(o,t,i,r,e[7],10,1126891415),r=Ir(r,o,t,i,e[14],15,-1416354905),i=Ir(i,r,o,t,e[5],21,-57434055),t=Ir(t,i,r,o,e[12],6,1700485571),o=Ir(o,t,i,r,e[3],10,-1894986606),r=Ir(r,o,t,i,e[10],15,-1051523),i=Ir(i,r,o,t,e[1],21,-2054922799),t=Ir(t,i,r,o,e[8],6,1873313359),o=Ir(o,t,i,r,e[15],10,-30611744),r=Ir(r,o,t,i,e[6],15,-1560198380),i=Ir(i,r,o,t,e[13],21,1309151649),t=Ir(t,i,r,o,e[4],6,-145523070),o=Ir(o,t,i,r,e[11],10,-1120210379),r=Ir(r,o,t,i,e[2],15,718787259),i=Ir(i,r,o,t,e[9],21,-343485551),n[0]=al(t,n[0]),n[1]=al(i,n[1]),n[2]=al(r,n[2]),n[3]=al(o,n[3])}function x1(n,e,t,i,r,o){return e=al(al(e,n),al(i,o)),al(e<<r|e>>>32-r,t)}function wr(n,e,t,i,r,o,s){return x1(e&t|~e&i,n,e,r,o,s)}function Ar(n,e,t,i,r,o,s){return x1(e&i|t&~i,n,e,r,o,s)}function Dr(n,e,t,i,r,o,s){return x1(e^t^i,n,e,r,o,s)}function Ir(n,e,t,i,r,o,s){return x1(t^(e|~i),n,e,r,o,s)}function VM(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)X5(i,dee(n.substring(e-64,e)));n=n.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)r[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(X5(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,X5(i,r),i}function dee(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Yf=$t.atob.bind($t),iE=$t.btoa.bind($t);var xM="0123456789abcdef".split("");function pee(n){for(var e="",t=0;t<4;t++)e+=xM[n>>8*t+4&15]+xM[n>>8*t&15];return e}function fee(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function rE(n){return VM(n).map(fee).join("")}var mee=function(n){for(var e=0;e<n.length;e++)n[e]=pee(n[e]);return n.join("")}(VM("hello"))!="5d41402abc4b2a76b9719d911017c592";function al(n,e){if(mee){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function oE(n,e){var t,i,r,o;if(n!==t){for(var s=(r=n,o=1+(256/n.length>>0),new Array(o+1).join(r)),l=[],d=0;d<256;d++)l[d]=d;var m=0;for(d=0;d<256;d++){var g=l[d];m=(m+g+s.charCodeAt(d))%256,l[d]=l[m],l[m]=g}t=n,i=l}else l=i;var y=e.length,S=0,_=0,A="";for(d=0;d<y;d++)_=(_+(g=l[S=(S+1)%256]))%256,l[S]=l[_],l[_]=g,s=l[(l[S]+l[_])%256],A+=String.fromCharCode(e.charCodeAt(d)^s);return A}var CM={print:4,modify:8,copy:16,"annot-forms":32};function y0(n,e,t,i){this.v=1,this.r=2;var r=192;n.forEach(function(l){if(CM.perm!==void 0)throw new Error("Invalid permission: "+l);r+=CM[l]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var o=(e+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^r)),this.encryptionKey=rE(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=oE(this.encryptionKey,this.padding)}function b0(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var r=n.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?e+="#"+("0"+r.toString(16)).slice(-2):e+=n[i]}return e}function wM(n){if(Qn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,r){if(r=r||!1,typeof t!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[i,!!r],o},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var o in e[t]){var s=e[t][o];try{s[0].apply(n,i)}catch(l){$t.console&&ii.error("jsPDF PubSub Error",l.message,l)}s[1]&&r.push(o)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function E1(n){if(!(this instanceof E1))return new E1(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function UM(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function _c(n,e,t,i,r){if(!(this instanceof _c))return new _c(n,e,t,i,r);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,UM.call(this,i,r)}function E0(n,e,t,i,r){if(!(this instanceof E0))return new E0(n,e,t,i,r);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,UM.call(this,i,r)}function qt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],o=arguments[3],s=[],l=1,d=16,m="S",g=null;Qn(n=n||{})==="object"&&(t=n.orientation,i=n.unit||i,r=n.format||r,o=n.compress||n.compressPdf||o,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),l=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(d=n.floatPrecision),m=n.defaultPathOperation||"S"),s=n.filters||(o===!0?["FlateEncode"]:s),i=i||"mm",t=(""+(t||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,S={},_={internal:{},__private__:{}};_.__private__.PubSub=wM;var A="1.3",w=_.__private__.getPdfVersion=function(){return A};_.__private__.setPdfVersion=function(v){A=v};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return L};var F=_.__private__.getPageFormat=function(v){return L[v]};r=r||"a4";var k={COMPAT:"compat",ADVANCED:"advanced"},W=k.COMPAT;function te(){this.saveGraphicsState(),K(new Bt(ct,0,0,-ct,0,uu()*ct).toString()+" cm"),this.setFontSize(this.getFontSize()/ct),m="n",W=k.ADVANCED}function le(){this.restoreGraphicsState(),m="S",W=k.COMPAT}var ge=_.__private__.combineFontStyleAndFontWeight=function(v,T){if(v=="bold"&&T=="normal"||v=="bold"&&T==400||v=="normal"&&T=="italic"||v=="bold"&&T=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return T&&(v=T==400||T==="normal"?v==="italic"?"italic":"normal":T!=700&&T!=="bold"||v!=="normal"?(T==700?"bold":T)+""+v:"bold"),v};_.advancedAPI=function(v){var T=W===k.COMPAT;return T&&te.call(this),typeof v!="function"||(v(this),T&&le.call(this)),this},_.compatAPI=function(v){var T=W===k.ADVANCED;return T&&le.call(this),typeof v!="function"||(v(this),T&&te.call(this)),this},_.isAdvancedAPI=function(){return W===k.ADVANCED};var re,Y=function(v){if(W!==k.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},me=_.roundToPrecision=_.__private__.roundToPrecision=function(v,T){var G=e||T;if(isNaN(v)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(G).replace(/0+$/,"")};re=_.hpf=_.__private__.hpf=typeof d=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return me(v,d)}:d==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return me(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return me(v,16)};var xe=_.f2=_.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return me(v,2)},V=_.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return me(v,3)},U=_.scale=_.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return W===k.COMPAT?v*ct:W===k.ADVANCED?v:void 0},J=function(v){return W===k.COMPAT?uu()-v:W===k.ADVANCED?v:void 0},Q=function(v){return U(J(v))};_.__private__.setPrecision=_.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var Ce,X="00000000000000000000000000000000",ue=_.__private__.getFileId=function(){return X},ie=_.__private__.setFileId=function(v){return X=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(vr=new y0(g.userPermissions,g.userPassword,g.ownerPassword,X)),X};_.setFileId=function(v){return ie(v),this},_.getFileId=function(){return ue()};var ve=_.__private__.convertDateToPDFDate=function(v){var T=v.getTimezoneOffset(),G=T<0?"+":"-",ne=Math.floor(Math.abs(T/60)),he=Math.abs(T%60),Ie=[G,z(ne),"'",z(he),"'"].join("");return["D:",v.getFullYear(),z(v.getMonth()+1),z(v.getDate()),z(v.getHours()),z(v.getMinutes()),z(v.getSeconds()),Ie].join("")},we=_.__private__.convertPDFDateToDate=function(v){var T=parseInt(v.substr(2,4),10),G=parseInt(v.substr(6,2),10)-1,ne=parseInt(v.substr(8,2),10),he=parseInt(v.substr(10,2),10),Ie=parseInt(v.substr(12,2),10),Be=parseInt(v.substr(14,2),10);return new Date(T,G,ne,he,Ie,Be,0)},Je=_.__private__.setCreationDate=function(v){var T;if(v===void 0&&(v=new Date),v instanceof Date)T=ve(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");T=v}return Ce=T},N=_.__private__.getCreationDate=function(v){var T=Ce;return v==="jsDate"&&(T=we(Ce)),T};_.setCreationDate=function(v){return Je(v),this},_.getCreationDate=function(v){return N(v)};var H,z=_.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},ee=_.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},de=0,fe=[],_e=[],ye=0,Ye=[],Ue=[],ut=!1,nt=_e,kt=function(){de=0,ye=0,_e=[],fe=[],Ye=[],ma=Pi(),ls=Pi()};_.__private__.setCustomOutputDestination=function(v){ut=!0,nt=v};var Te=function(v){ut||(nt=v)};_.__private__.resetCustomOutputDestination=function(){ut=!1,nt=_e};var K=_.__private__.out=function(v){return v=v.toString(),ye+=v.length+1,nt.push(v),nt},Wt=_.__private__.write=function(v){return K(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},yt=_.__private__.getArrayBuffer=function(v){for(var T=v.length,G=new ArrayBuffer(T),ne=new Uint8Array(G);T--;)ne[T]=v.charCodeAt(T);return G},We=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return We};var Xe=n.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(v){return Xe=W===k.ADVANCED?v/ct:v,this};var at,st=_.__private__.getFontSize=_.getFontSize=function(){return W===k.COMPAT?Xe:Xe*ct},Et=n.R2L||!1;_.__private__.setR2L=_.setR2L=function(v){return Et=v,this},_.__private__.getR2L=_.getR2L=function(){return Et};var Ht,Qt=_.__private__.setZoomMode=function(v){var T=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))at=v;else if(isNaN(v)){if(T.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');at=v}else at=parseInt(v,10)};_.__private__.getZoomMode=function(){return at};var pn,Cn=_.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');Ht=v};_.__private__.getPageMode=function(){return Ht};var kn=_.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');pn=v};_.__private__.getLayoutMode=function(){return pn},_.__private__.setDisplayMode=_.setDisplayMode=function(v,T,G){return Qt(v),kn(T),Cn(G),this};var Gt={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(v){if(Object.keys(Gt).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Gt[v]},_.__private__.getDocumentProperties=function(){return Gt},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(v){for(var T in Gt)Gt.hasOwnProperty(T)&&v[T]&&(Gt[T]=v[T]);return this},_.__private__.setDocumentProperty=function(v,T){if(Object.keys(Gt).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Gt[v]=T};var En,ct,gr,Pn,ss,Jn={},ci={},ks=[],qn={},fl={},gi={},as={},fa=null,vi=0,Zt=[],$n=new wM(_),ml=n.hotfixes||[],lr={},js={},Bs=[],Bt=function v(T,G,ne,he,Ie,Be){if(!(this instanceof v))return new v(T,G,ne,he,Ie,Be);isNaN(T)&&(T=1),isNaN(G)&&(G=0),isNaN(ne)&&(ne=0),isNaN(he)&&(he=1),isNaN(Ie)&&(Ie=0),isNaN(Be)&&(Be=0),this._matrix=[T,G,ne,he,Ie,Be]};Object.defineProperty(Bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Bt.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(re).join(v)},Bt.prototype.multiply=function(v){var T=v.sx*this.sx+v.shy*this.shx,G=v.sx*this.shy+v.shy*this.sy,ne=v.shx*this.sx+v.sy*this.shx,he=v.shx*this.shy+v.sy*this.sy,Ie=v.tx*this.sx+v.ty*this.shx+this.tx,Be=v.tx*this.shy+v.ty*this.sy+this.ty;return new Bt(T,G,ne,he,Ie,Be)},Bt.prototype.decompose=function(){var v=this.sx,T=this.shy,G=this.shx,ne=this.sy,he=this.tx,Ie=this.ty,Be=Math.sqrt(v*v+T*T),dt=(v/=Be)*G+(T/=Be)*ne;G-=v*dt,ne-=T*dt;var At=Math.sqrt(G*G+ne*ne);return dt/=At,v*(ne/=At)<T*(G/=At)&&(v=-v,T=-T,dt=-dt,Be=-Be),{scale:new Bt(Be,0,0,At,0,0),translate:new Bt(1,0,0,1,he,Ie),rotate:new Bt(v,T,-T,v,0,0),skew:new Bt(1,0,dt,1,0,0)}},Bt.prototype.toString=function(v){return this.join(" ")},Bt.prototype.inversed=function(){var v=this.sx,T=this.shy,G=this.shx,ne=this.sy,he=this.tx,Ie=this.ty,Be=1/(v*ne-T*G),dt=ne*Be,At=-T*Be,tn=-G*Be,Jt=v*Be;return new Bt(dt,At,tn,Jt,-dt*he-tn*Ie,-At*he-Jt*Ie)},Bt.prototype.applyToPoint=function(v){var T=v.x*this.sx+v.y*this.shx+this.tx,G=v.x*this.shy+v.y*this.sy+this.ty;return new Bc(T,G)},Bt.prototype.applyToRectangle=function(v){var T=this.applyToPoint(v),G=this.applyToPoint(new Bc(v.x+v.w,v.y+v.h));return new $0(T.x,T.y,G.x-T.x,G.y-T.y)},Bt.prototype.clone=function(){var v=this.sx,T=this.shy,G=this.shx,ne=this.sy,he=this.tx,Ie=this.ty;return new Bt(v,T,G,ne,he,Ie)},_.Matrix=Bt;var us=_.matrixMult=function(v,T){return T.multiply(v)},Vs=new Bt(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Vs;var Hr=function(v,T){if(!fl[v]){var G=(T instanceof _c?"Sh":"P")+(Object.keys(qn).length+1).toString(10);T.id=G,fl[v]=G,qn[G]=T,$n.publish("addPattern",T)}};_.ShadingPattern=_c,_.TilingPattern=E0,_.addShadingPattern=function(v,T){return Y("addShadingPattern()"),Hr(v,T),this},_.beginTilingPattern=function(v){Y("beginTilingPattern()"),Sm(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},_.endTilingPattern=function(v,T){Y("endTilingPattern()"),T.stream=Ue[H].join(`
`),Hr(v,T),$n.publish("endTilingPattern",T),Bs.pop().restore()};var Gi=_.__private__.newObject=function(){var v=Pi();return uo(v,!0),v},Pi=_.__private__.newObjectDeferred=function(){return de++,fe[de]=function(){return ye},de},uo=function(v,T){return T=typeof T=="boolean"&&T,fe[v]=ye,T&&K(v+" 0 obj"),v},Ac=_.__private__.newAdditionalObject=function(){var v={objId:Pi(),content:""};return Ye.push(v),v},ma=Pi(),ls=Pi(),cs=_.__private__.decodeColorString=function(v){var T=v.split(" ");if(T.length!==2||T[1]!=="g"&&T[1]!=="G")T.length===5&&(T[4]==="k"||T[4]==="K")&&(T=[(1-T[0])*(1-T[3]),(1-T[1])*(1-T[3]),(1-T[2])*(1-T[3]),"r"]);else{var G=parseFloat(T[0]);T=[G,G,G,"r"]}for(var ne="#",he=0;he<3;he++)ne+=("0"+Math.floor(255*parseFloat(T[he])).toString(16)).slice(-2);return ne},ds=_.__private__.encodeColorString=function(v){var T;typeof v=="string"&&(v={ch1:v});var G=v.ch1,ne=v.ch2,he=v.ch3,Ie=v.ch4,Be=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var dt=new BM(G);if(dt.ok)G=dt.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var At=parseInt(G.substr(1),16);G=At>>16&255,ne=At>>8&255,he=255&At}if(ne===void 0||Ie===void 0&&G===ne&&ne===he)if(typeof G=="string")T=G+" "+Be[0];else switch(v.precision){case 2:T=xe(G/255)+" "+Be[0];break;case 3:default:T=V(G/255)+" "+Be[0]}else if(Ie===void 0||Qn(Ie)==="object"){if(Ie&&!isNaN(Ie.a)&&Ie.a===0)return T=["1.","1.","1.",Be[1]].join(" ");if(typeof G=="string")T=[G,ne,he,Be[1]].join(" ");else switch(v.precision){case 2:T=[xe(G/255),xe(ne/255),xe(he/255),Be[1]].join(" ");break;default:case 3:T=[V(G/255),V(ne/255),V(he/255),Be[1]].join(" ")}}else if(typeof G=="string")T=[G,ne,he,Ie,Be[2]].join(" ");else switch(v.precision){case 2:T=[xe(G),xe(ne),xe(he),xe(Ie),Be[2]].join(" ");break;case 3:default:T=[V(G),V(ne),V(he),V(Ie),Be[2]].join(" ")}return T},Us=_.__private__.getFilters=function(){return s},Po=_.__private__.putStream=function(v){var T=(v=v||{}).data||"",G=v.filters||Us(),ne=v.alreadyAppliedFilters||[],he=v.addLength1||!1,Ie=T.length,Be=v.objectId,dt=function(_r){return _r};if(g!==null&&Be===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(dt=vr.encryptor(Be,0));var At={};G===!0&&(G=["FlateEncode"]);var tn=v.additionalKeyValues||[],Jt=(At=qt.API.processDataByFilters!==void 0?qt.API.processDataByFilters(T,G):{data:T,reverseChain:[]}).reverseChain+(Array.isArray(ne)?ne.join(" "):ne.toString());if(At.data.length!==0&&(tn.push({key:"Length",value:At.data.length}),he===!0&&tn.push({key:"Length1",value:Ie})),Jt.length!=0)if(Jt.split("/").length-1==1)tn.push({key:"Filter",value:Jt});else{tn.push({key:"Filter",value:"["+Jt+"]"});for(var Dn=0;Dn<tn.length;Dn+=1)if(tn[Dn].key==="DecodeParms"){for(var fi=[],_i=0;_i<At.reverseChain.split("/").length-1;_i+=1)fi.push("null");fi.push(tn[Dn].value),tn[Dn].value="["+fi.join(" ")+"]"}}K("<<");for(var Oi=0;Oi<tn.length;Oi++)K("/"+tn[Oi].key+" "+tn[Oi].value);K(">>"),At.data.length!==0&&(K("stream"),K(dt(At.data)),K("endstream"))},qs=_.__private__.putPage=function(v){var T=v.number,G=v.data,ne=v.objId,he=v.contentsObjId;uo(ne,!0),K("<</Type /Page"),K("/Parent "+v.rootDictionaryObjId+" 0 R"),K("/Resources "+v.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(re(v.mediaBox.bottomLeftX))+" "+parseFloat(re(v.mediaBox.bottomLeftY))+" "+re(v.mediaBox.topRightX)+" "+re(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&K("/CropBox ["+re(v.cropBox.bottomLeftX)+" "+re(v.cropBox.bottomLeftY)+" "+re(v.cropBox.topRightX)+" "+re(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&K("/BleedBox ["+re(v.bleedBox.bottomLeftX)+" "+re(v.bleedBox.bottomLeftY)+" "+re(v.bleedBox.topRightX)+" "+re(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&K("/TrimBox ["+re(v.trimBox.bottomLeftX)+" "+re(v.trimBox.bottomLeftY)+" "+re(v.trimBox.topRightX)+" "+re(v.trimBox.topRightY)+"]"),v.artBox!==null&&K("/ArtBox ["+re(v.artBox.bottomLeftX)+" "+re(v.artBox.bottomLeftY)+" "+re(v.artBox.topRightX)+" "+re(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&K("/UserUnit "+v.userUnit),$n.publish("putPage",{objId:ne,pageContext:Zt[T],pageNumber:T,page:G}),K("/Contents "+he+" 0 R"),K(">>"),K("endobj");var Ie=G.join(`
`);return W===k.ADVANCED&&(Ie+=`
Q`),uo(he,!0),Po({data:Ie,filters:Us(),objectId:he}),K("endobj"),ne},hl=_.__private__.putPages=function(){var v,T,G=[];for(v=1;v<=vi;v++)Zt[v].objId=Pi(),Zt[v].contentsObjId=Pi();for(v=1;v<=vi;v++)G.push(qs({number:v,data:Ue[v],objId:Zt[v].objId,contentsObjId:Zt[v].contentsObjId,mediaBox:Zt[v].mediaBox,cropBox:Zt[v].cropBox,bleedBox:Zt[v].bleedBox,trimBox:Zt[v].trimBox,artBox:Zt[v].artBox,userUnit:Zt[v].userUnit,rootDictionaryObjId:ma,resourceDictionaryObjId:ls}));uo(ma,!0),K("<</Type /Pages");var ne="/Kids [";for(T=0;T<vi;T++)ne+=G[T]+" 0 R ";K(ne+"]"),K("/Count "+vi),K(">>"),K("endobj"),$n.publish("postPutPages")},Dc=function(v){$n.publish("putFont",{font:v,out:K,newObject:Gi,putStream:Po}),v.isAlreadyPutted!==!0&&(v.objectNumber=Gi(),K("<<"),K("/Type /Font"),K("/BaseFont /"+b0(v.postScriptName)),K("/Subtype /Type1"),typeof v.encoding=="string"&&K("/Encoding /"+v.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},Ic=function(){for(var v in Jn)Jn.hasOwnProperty(v)&&(y===!1||y===!0&&S.hasOwnProperty(v))&&Dc(Jn[v])},Tc=function(v){v.objectNumber=Gi();var T=[];T.push({key:"Type",value:"/XObject"}),T.push({key:"Subtype",value:"/Form"}),T.push({key:"BBox",value:"["+[re(v.x),re(v.y),re(v.x+v.width),re(v.y+v.height)].join(" ")+"]"}),T.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var G=v.pages[1].join(`
`);Po({data:G,additionalKeyValues:T,objectId:v.objectNumber}),K("endobj")},Mc=function(){for(var v in lr)lr.hasOwnProperty(v)&&Tc(lr[v])},rm=function(v,T){var G,ne=[],he=1/(T-1);for(G=0;G<1;G+=he)ne.push(G);if(ne.push(1),v[0].offset!=0){var Ie={offset:0,color:v[0].color};v.unshift(Ie)}if(v[v.length-1].offset!=1){var Be={offset:1,color:v[v.length-1].color};v.push(Be)}for(var dt="",At=0,tn=0;tn<ne.length;tn++){for(G=ne[tn];G>v[At+1].offset;)At++;var Jt=v[At].offset,Dn=(G-Jt)/(v[At+1].offset-Jt),fi=v[At].color,_i=v[At+1].color;dt+=ee(Math.round((1-Dn)*fi[0]+Dn*_i[0]).toString(16))+ee(Math.round((1-Dn)*fi[1]+Dn*_i[1]).toString(16))+ee(Math.round((1-Dn)*fi[2]+Dn*_i[2]).toString(16))}return dt.trim()},vv=function(v,T){T||(T=21);var G=Gi(),ne=rm(v.colors,T),he=[];he.push({key:"FunctionType",value:"0"}),he.push({key:"Domain",value:"[0.0 1.0]"}),he.push({key:"Size",value:"["+T+"]"}),he.push({key:"BitsPerSample",value:"8"}),he.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),he.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Po({data:ne,additionalKeyValues:he,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),K("endobj"),v.objectNumber=Gi(),K("<< /ShadingType "+v.type),K("/ColorSpace /DeviceRGB");var Ie="/Coords ["+re(parseFloat(v.coords[0]))+" "+re(parseFloat(v.coords[1]))+" ";v.type===2?Ie+=re(parseFloat(v.coords[2]))+" "+re(parseFloat(v.coords[3])):Ie+=re(parseFloat(v.coords[2]))+" "+re(parseFloat(v.coords[3]))+" "+re(parseFloat(v.coords[4]))+" "+re(parseFloat(v.coords[5])),K(Ie+="]"),v.matrix&&K("/Matrix ["+v.matrix.toString()+"]"),K("/Function "+G+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},_v=function(v,T){var G=Pi(),ne=Gi();T.push({resourcesOid:G,objectOid:ne}),v.objectNumber=ne;var he=[];he.push({key:"Type",value:"/Pattern"}),he.push({key:"PatternType",value:"1"}),he.push({key:"PaintType",value:"1"}),he.push({key:"TilingType",value:"1"}),he.push({key:"BBox",value:"["+v.boundingBox.map(re).join(" ")+"]"}),he.push({key:"XStep",value:re(v.xStep)}),he.push({key:"YStep",value:re(v.yStep)}),he.push({key:"Resources",value:G+" 0 R"}),v.matrix&&he.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Po({data:v.stream,additionalKeyValues:he,objectId:v.objectNumber}),K("endobj")},Fc=function(v){var T;for(T in qn)qn.hasOwnProperty(T)&&(qn[T]instanceof _c?vv(qn[T]):qn[T]instanceof E0&&_v(qn[T],v))},om=function(v){for(var T in v.objectNumber=Gi(),K("<<"),v)switch(T){case"opacity":K("/ca "+xe(v[T]));break;case"stroke-opacity":K("/CA "+xe(v[T]))}K(">>"),K("endobj")},yv=function(){var v;for(v in gi)gi.hasOwnProperty(v)&&om(gi[v])},P0=function(){for(var v in K("/XObject <<"),lr)lr.hasOwnProperty(v)&&lr[v].objectNumber>=0&&K("/"+v+" "+lr[v].objectNumber+" 0 R");$n.publish("putXobjectDict"),K(">>")},bv=function(){vr.oid=Gi(),K("<<"),K("/Filter /Standard"),K("/V "+vr.v),K("/R "+vr.r),K("/U <"+vr.toHexString(vr.U)+">"),K("/O <"+vr.toHexString(vr.O)+">"),K("/P "+vr.P),K(">>"),K("endobj")},sm=function(){for(var v in K("/Font <<"),Jn)Jn.hasOwnProperty(v)&&(y===!1||y===!0&&S.hasOwnProperty(v))&&K("/"+v+" "+Jn[v].objectNumber+" 0 R");K(">>")},Ev=function(){if(Object.keys(qn).length>0){for(var v in K("/Shading <<"),qn)qn.hasOwnProperty(v)&&qn[v]instanceof _c&&qn[v].objectNumber>=0&&K("/"+v+" "+qn[v].objectNumber+" 0 R");$n.publish("putShadingPatternDict"),K(">>")}},Nc=function(v){if(Object.keys(qn).length>0){for(var T in K("/Pattern <<"),qn)qn.hasOwnProperty(T)&&qn[T]instanceof _.TilingPattern&&qn[T].objectNumber>=0&&qn[T].objectNumber<v&&K("/"+T+" "+qn[T].objectNumber+" 0 R");$n.publish("putTilingPatternDict"),K(">>")}},Sv=function(){if(Object.keys(gi).length>0){var v;for(v in K("/ExtGState <<"),gi)gi.hasOwnProperty(v)&&gi[v].objectNumber>=0&&K("/"+v+" "+gi[v].objectNumber+" 0 R");$n.publish("putGStateDict"),K(">>")}},wi=function(v){uo(v.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),sm(),Ev(),Nc(v.objectOid),Sv(),P0(),K(">>"),K("endobj")},am=function(){var v=[];Ic(),yv(),Mc(),Fc(v),$n.publish("putResources"),v.forEach(wi),wi({resourcesOid:ls,objectOid:Number.MAX_SAFE_INTEGER}),$n.publish("postPutResources")},um=function(){$n.publish("putAdditionalObjects");for(var v=0;v<Ye.length;v++){var T=Ye[v];uo(T.objId,!0),K(T.content),K("endobj")}$n.publish("postPutAdditionalObjects")},lm=function(v){ci[v.fontName]=ci[v.fontName]||{},ci[v.fontName][v.fontStyle]=v.id},O0=function(v,T,G,ne,he){var Ie={id:"F"+(Object.keys(Jn).length+1).toString(10),postScriptName:v,fontName:T,fontStyle:G,encoding:ne,isStandardFont:he||!1,metadata:{}};return $n.publish("addFont",{font:Ie,instance:this}),Jn[Ie.id]=Ie,lm(Ie),Ie.id},xv=function(v){for(var T=0,G=We.length;T<G;T++){var ne=O0.call(this,v[T][0],v[T][1],v[T][2],We[T][3],!0);y===!1&&(S[ne]=!0);var he=v[T][0].split("-");lm({id:ne,fontName:he[0],fontStyle:he[1]||""})}$n.publish("addFonts",{fonts:Jn,dictionary:ci})},ps=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(ne){var T=ne.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var G="Error in function "+T.split(`
`)[0].split("<")[0]+": "+ne.message;if(!$t.console)throw new Error(G);$t.console.error(G,ne),$t.alert&&alert(G)}},v.foo.bar=v,v.foo},Pc=function(v,T){var G,ne,he,Ie,Be,dt,At,tn,Jt;if(he=(T=T||{}).sourceEncoding||"Unicode",Be=T.outputEncoding,(T.autoencode||Be)&&Jn[En].metadata&&Jn[En].metadata[he]&&Jn[En].metadata[he].encoding&&(Ie=Jn[En].metadata[he].encoding,!Be&&Jn[En].encoding&&(Be=Jn[En].encoding),!Be&&Ie.codePages&&(Be=Ie.codePages[0]),typeof Be=="string"&&(Be=Ie[Be]),Be)){for(At=!1,dt=[],G=0,ne=v.length;G<ne;G++)(tn=Be[v.charCodeAt(G)])?dt.push(String.fromCharCode(tn)):dt.push(v[G]),dt[G].charCodeAt(0)>>8&&(At=!0);v=dt.join("")}for(G=v.length;At===void 0&&G!==0;)v.charCodeAt(G-1)>>8&&(At=!0),G--;if(!At)return v;for(dt=T.noBOM?[]:[254,255],G=0,ne=v.length;G<ne;G++){if((Jt=(tn=v.charCodeAt(G))>>8)>>8)throw new Error("Character at position "+G+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");dt.push(Jt),dt.push(tn-(Jt<<8))}return String.fromCharCode.apply(void 0,dt)},zr=_.__private__.pdfEscape=_.pdfEscape=function(v,T){return Pc(v,T).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},R0=_.__private__.beginPage=function(v){Ue[++vi]=[],Zt[vi]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},dm(vi),Te(Ue[H])},cm=function(v,T){var G,ne,he;switch(t=T||t,typeof v=="string"&&(G=F(v.toLowerCase()),Array.isArray(G)&&(ne=G[0],he=G[1])),Array.isArray(v)&&(ne=v[0]*ct,he=v[1]*ct),isNaN(ne)&&(ne=r[0],he=r[1]),(ne>14400||he>14400)&&(ii.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ne=Math.min(14400,ne),he=Math.min(14400,he)),r=[ne,he],t.substr(0,1)){case"l":he>ne&&(r=[he,ne]);break;case"p":ne>he&&(r=[he,ne])}R0(r),vm(B0),K(fs),U0!==0&&K(U0+" J"),q0!==0&&K(q0+" j"),$n.publish("addPage",{pageNumber:vi})},Cv=function(v){v>0&&v<=vi&&(Ue.splice(v,1),Zt.splice(v,1),vi--,H>vi&&(H=vi),this.setPage(H))},dm=function(v){v>0&&v<=vi&&(H=v)},wv=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return Ue.length-1},pm=function(v,T,G){var ne,he=void 0;return G=G||{},v=v!==void 0?v:Jn[En].fontName,T=T!==void 0?T:Jn[En].fontStyle,ne=v.toLowerCase(),ci[ne]!==void 0&&ci[ne][T]!==void 0?he=ci[ne][T]:ci[v]!==void 0&&ci[v][T]!==void 0?he=ci[v][T]:G.disableWarning===!1&&ii.warn("Unable to look up font label for font '"+v+"', '"+T+"'. Refer to getFontList() for available fonts."),he||G.noFallback||(he=ci.times[T])==null&&(he=ci.times.normal),he},Av=_.__private__.putInfo=function(){var v=Gi(),T=function(ne){return ne};for(var G in g!==null&&(T=vr.encryptor(v,0)),K("<<"),K("/Producer ("+zr(T("jsPDF "+qt.version))+")"),Gt)Gt.hasOwnProperty(G)&&Gt[G]&&K("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+zr(T(Gt[G]))+")");K("/CreationDate ("+zr(T(Ce))+")"),K(">>"),K("endobj")},L0=_.__private__.putCatalog=function(v){var T=(v=v||{}).rootDictionaryObjId||ma;switch(Gi(),K("<<"),K("/Type /Catalog"),K("/Pages "+T+" 0 R"),at||(at="fullwidth"),at){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+at;G.substr(G.length-1)==="%"&&(at=parseInt(at)/100),typeof at=="number"&&K("/OpenAction [3 0 R /XYZ null null "+xe(at)+"]")}switch(pn||(pn="continuous"),pn){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}Ht&&K("/PageMode /"+Ht),$n.publish("putCatalog"),K(">>"),K("endobj")},Dv=_.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(de+1)),K("/Root "+de+" 0 R"),K("/Info "+(de-1)+" 0 R"),g!==null&&K("/Encrypt "+vr.oid+" 0 R"),K("/ID [ <"+X+"> <"+X+"> ]"),K(">>")},Iv=_.__private__.putHeader=function(){K("%PDF-"+A),K("%\xBA\xDF\xAC\xE0")},Tv=_.__private__.putXRef=function(){var v="0000000000";K("xref"),K("0 "+(de+1)),K("0000000000 65535 f ");for(var T=1;T<=de;T++)typeof fe[T]=="function"?K((v+fe[T]()).slice(-10)+" 00000 n "):fe[T]!==void 0?K((v+fe[T]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},ha=_.__private__.buildDocument=function(){kt(),Te(_e),$n.publish("buildDocument"),Iv(),hl(),um(),am(),g!==null&&bv(),Av(),L0();var v=ye;return Tv(),Dv(),K("startxref"),K(""+v),K("%%EOF"),Te(Ue[H]),_e.join(`
`)},Oc=_.__private__.getBlob=function(v){return new Blob([yt(v)],{type:"application/pdf"})},Rc=_.output=_.__private__.output=ps(function(v,T){switch(typeof(T=T||{})=="string"?T={filename:T}:T.filename=T.filename||"generated.pdf",v){case void 0:return ha();case"save":_.save(T.filename);break;case"arraybuffer":return yt(ha());case"blob":return Oc(ha());case"bloburi":case"bloburl":if($t.URL!==void 0&&typeof $t.URL.createObjectURL=="function")return $t.URL&&$t.URL.createObjectURL(Oc(ha()))||void 0;ii.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",ne=ha();try{G=iE(ne)}catch{G=iE(unescape(encodeURIComponent(ne)))}return"data:application/pdf;filename="+T.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var he="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ie=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';T.pdfObjectUrl&&(he=T.pdfObjectUrl,Ie="");var Be='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+he+'"'+Ie+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(T)+");<\/script></body></html>",dt=$t.open();return dt!==null&&dt.document.write(Be),dt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(T.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+T.filename+'" width="500px" height="400px" /></body></html>',tn=$t.open();if(tn!==null){tn.document.write(At);var Jt=this;tn.document.documentElement.querySelector("#pdfViewer").onload=function(){tn.document.title=T.filename,tn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Jt.output("bloburl"))}}return tn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call($t)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",T)+'"></iframe></body></html>',fi=$t.open();if(fi!==null&&(fi.document.write(Dn),fi.document.title=T.filename),fi||typeof safari>"u")return fi;break;case"datauri":case"dataurl":return $t.document.location.href=this.output("datauristring",T);default:return null}}),fm=function(v){return Array.isArray(ml)===!0&&ml.indexOf(v)>-1};switch(i){case"pt":ct=1;break;case"mm":ct=72/25.4;break;case"cm":ct=72/2.54;break;case"in":ct=72;break;case"px":ct=fm("px_scaling")==1?.75:96/72;break;case"pc":case"em":ct=12;break;case"ex":ct=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);ct=i}var vr=null;Je(),ie();var Mv=function(v){return g!==null?vr.encryptor(v,0):function(T){return T}},mm=_.__private__.getPageInfo=_.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Zt[v].objId,pageNumber:v,pageContext:Zt[v]}},Kt=_.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var T in Zt)if(Zt[T].objId===v)break;return mm(T)},Fv=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:Zt[H].objId,pageNumber:H,pageContext:Zt[H]}};_.addPage=function(){return cm.apply(this,arguments),this},_.setPage=function(){return dm.apply(this,arguments),Te.call(this,Ue[H]),this},_.insertPage=function(v){return this.addPage(),this.movePage(H,v),this},_.movePage=function(v,T){var G,ne;if(v>T){G=Ue[v],ne=Zt[v];for(var he=v;he>T;he--)Ue[he]=Ue[he-1],Zt[he]=Zt[he-1];Ue[T]=G,Zt[T]=ne,this.setPage(T)}else if(v<T){G=Ue[v],ne=Zt[v];for(var Ie=v;Ie<T;Ie++)Ue[Ie]=Ue[Ie+1],Zt[Ie]=Zt[Ie+1];Ue[T]=G,Zt[T]=ne,this.setPage(T)}return this},_.deletePage=function(){return Cv.apply(this,arguments),this},_.__private__.text=_.text=function(v,T,G,ne,he){var Ie,Be,dt,At,tn,Jt,Dn,fi,_i,Oi=(ne=ne||{}).scope||this;if(typeof v=="number"&&typeof T=="number"&&(typeof G=="string"||Array.isArray(G))){var _r=G;G=T,T=v,v=_r}if(arguments[3]instanceof Bt?(Y("The transform parameter of text() with a Matrix value"),_i=he):(dt=arguments[4],At=arguments[5],Qn(Dn=arguments[3])==="object"&&Dn!==null||(typeof dt=="string"&&(At=dt,dt=null),typeof Dn=="string"&&(At=Dn,Dn=null),typeof Dn=="number"&&(dt=Dn,Dn=null),ne={flags:Dn,angle:dt,align:At})),isNaN(T)||isNaN(G)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Oi;var Zi="",ms=!1,lo=typeof ne.lineHeightFactor=="number"?ne.lineHeightFactor:vl,zs=Oi.internal.scaleFactor;function xm(ri){return ri=ri.split("	").join(Array(ne.TabLen||9).join(" ")),zr(ri,Dn)}function W0(ri){for(var oi,Di=ri.concat(),Wi=[],ba=Di.length;ba--;)typeof(oi=Di.shift())=="string"?Wi.push(oi):Array.isArray(ri)&&(oi.length===1||oi[1]===void 0&&oi[2]===void 0)?Wi.push(oi[0]):Wi.push([oi[0],oi[1],oi[2]]);return Wi}function Y0(ri,oi){var Di;if(typeof ri=="string")Di=oi(ri)[0];else if(Array.isArray(ri)){for(var Wi,ba,np=ri.concat(),Qc=[],Im=np.length;Im--;)typeof(Wi=np.shift())=="string"?Qc.push(oi(Wi)[0]):Array.isArray(Wi)&&typeof Wi[0]=="string"&&(ba=oi(Wi[0],Wi[1],Wi[2]),Qc.push([ba[0],ba[1],ba[2]]));Di=Qc}return Di}var Uc=!1,K0=!0;if(typeof v=="string")Uc=!0;else if(Array.isArray(v)){var Q0=v.concat();Be=[];for(var qc,cr=Q0.length;cr--;)(typeof(qc=Q0.shift())!="string"||Array.isArray(qc)&&typeof qc[0]!="string")&&(K0=!1);Uc=K0}if(Uc===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var $c=Xe/Oi.internal.scaleFactor,Hc=$c*(lo-1);switch(ne.baseline){case"bottom":G-=Hc;break;case"top":G+=$c-Hc;break;case"hanging":G+=$c-2*Hc;break;case"middle":G+=$c/2-Hc}if((Jt=ne.maxWidth||0)>0&&(typeof v=="string"?v=Oi.splitTextToSize(v,Jt):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(ri,oi){return ri.concat(Oi.splitTextToSize(oi,Jt))},[]))),Ie={text:v,x:T,y:G,options:ne,mutex:{pdfEscape:zr,activeFontKey:En,fonts:Jn,activeFontSize:Xe}},$n.publish("preProcessText",Ie),v=Ie.text,dt=(ne=Ie.options).angle,!(_i instanceof Bt)&&dt&&typeof dt=="number"){dt*=Math.PI/180,ne.rotationDirection===0&&(dt=-dt),W===k.ADVANCED&&(dt=-dt);var zc=Math.cos(dt),Z0=Math.sin(dt);_i=new Bt(zc,Z0,-Z0,zc,0,0)}else dt&&dt instanceof Bt&&(_i=dt);W!==k.ADVANCED||_i||(_i=Vs),(tn=ne.charSpace||jc)!==void 0&&(Zi+=re(U(tn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(fi=ne.horizontalScale)!==void 0&&(Zi+=re(100*fi)+` Tz
`),ne.lang;var Gr=-1,Uv=ne.renderingMode!==void 0?ne.renderingMode:ne.stroke,J0=Oi.internal.getCurrentPageInfo().pageContext;switch(Uv){case 0:case!1:case"fill":Gr=0;break;case 1:case!0:case"stroke":Gr=1;break;case 2:case"fillThenStroke":Gr=2;break;case 3:case"invisible":Gr=3;break;case 4:case"fillAndAddForClipping":Gr=4;break;case 5:case"strokeAndAddPathForClipping":Gr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gr=6;break;case 7:case"addToPathForClipping":Gr=7}var Cm=J0.usedRenderingMode!==void 0?J0.usedRenderingMode:-1;Gr!==-1?Zi+=Gr+` Tr
`:Cm!==-1&&(Zi+=`0 Tr
`),Gr!==-1&&(J0.usedRenderingMode=Gr),At=ne.align||"left";var Oo,Gc=Xe*lo,wm=Oi.internal.pageSize.getWidth(),Am=Jn[En];tn=ne.charSpace||jc,Jt=ne.maxWidth||0,Dn=Object.assign({autoencode:!0,noBOM:!0},ne.flags);var lu=[],bl=function(ri){return Oi.getStringUnitWidth(ri,{font:Am,charSpace:tn,fontSize:Xe,doKerning:!1})*Xe/zs};if(Object.prototype.toString.call(v)==="[object Array]"){var Wr;Be=W0(v),At!=="left"&&(Oo=Be.map(bl));var Fr,cu=0;if(At==="right"){T-=Oo[0],v=[],cr=Be.length;for(var va=0;va<cr;va++)va===0?(Fr=Hs(T),Wr=ga(G)):(Fr=U(cu-Oo[va]),Wr=-Gc),v.push([Be[va],Fr,Wr]),cu=Oo[va]}else if(At==="center"){T-=Oo[0]/2,v=[],cr=Be.length;for(var _a=0;_a<cr;_a++)_a===0?(Fr=Hs(T),Wr=ga(G)):(Fr=U((cu-Oo[_a])/2),Wr=-Gc),v.push([Be[_a],Fr,Wr]),cu=Oo[_a]}else if(At==="left"){v=[],cr=Be.length;for(var Wc=0;Wc<cr;Wc++)v.push(Be[Wc])}else if(At==="justify"&&Am.encoding==="Identity-H"){v=[],cr=Be.length,Jt=Jt!==0?Jt:wm;for(var ya=0,Ai=0;Ai<cr;Ai++)if(Wr=Ai===0?ga(G):-Gc,Fr=Ai===0?Hs(T):ya,Ai<cr-1){var X0=U((Jt-Oo[Ai])/(Be[Ai].split(" ").length-1)),Nr=Be[Ai].split(" ");v.push([Nr[0]+" ",Fr,Wr]),ya=0;for(var Ro=1;Ro<Nr.length;Ro++){var Yc=(bl(Nr[Ro-1]+" "+Nr[Ro])-bl(Nr[Ro]))*zs+X0;Ro==Nr.length-1?v.push([Nr[Ro],Yc,0]):v.push([Nr[Ro]+" ",Yc,0]),ya-=Yc}}else v.push([Be[Ai],Fr,Wr]);v.push(["",ya,0])}else{if(At!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],cr=Be.length,Jt=Jt!==0?Jt:wm,Ai=0;Ai<cr;Ai++)Wr=Ai===0?ga(G):-Gc,Fr=Ai===0?Hs(T):0,Ai<cr-1?lu.push(re(U((Jt-Oo[Ai])/(Be[Ai].split(" ").length-1)))):lu.push(0),v.push([Be[Ai],Fr,Wr])}}var Dm=typeof ne.R2L=="boolean"?ne.R2L:Et;Dm===!0&&(v=Y0(v,function(ri,oi,Di){return[ri.split("").reverse().join(""),oi,Di]})),Ie={text:v,x:T,y:G,options:ne,mutex:{pdfEscape:zr,activeFontKey:En,fonts:Jn,activeFontSize:Xe}},$n.publish("postProcessText",Ie),v=Ie.text,ms=Ie.mutex.isHex||!1;var ep=Jn[En].encoding;ep!=="WinAnsiEncoding"&&ep!=="StandardEncoding"||(v=Y0(v,function(ri,oi,Di){return[xm(ri),oi,Di]})),Be=W0(v),v=[];for(var El,Sl,du,xl=0,Kc=1,Cl=Array.isArray(Be[0])?Kc:xl,pu="",tp=function(ri,oi,Di){var Wi="";return Di instanceof Bt?(Di=typeof ne.angle=="number"?us(Di,new Bt(1,0,0,1,ri,oi)):us(new Bt(1,0,0,1,ri,oi),Di),W===k.ADVANCED&&(Di=us(new Bt(1,0,0,-1,0,0),Di)),Wi=Di.join(" ")+` Tm
`):Wi=re(ri)+" "+re(oi)+` Td
`,Wi},Lo=0;Lo<Be.length;Lo++){switch(pu="",Cl){case Kc:du=(ms?"<":"(")+Be[Lo][0]+(ms?">":")"),El=parseFloat(Be[Lo][1]),Sl=parseFloat(Be[Lo][2]);break;case xl:du=(ms?"<":"(")+Be[Lo]+(ms?">":")"),El=Hs(T),Sl=ga(G)}lu!==void 0&&lu[Lo]!==void 0&&(pu=lu[Lo]+` Tw
`),Lo===0?v.push(pu+tp(El,Sl,_i)+du):Cl===xl?v.push(pu+du):Cl===Kc&&v.push(pu+tp(El,Sl,_i)+du)}v=Cl===xl?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var ko=`BT
/`;return ko+=En+" "+Xe+` Tf
`,ko+=re(Xe*lo)+` TL
`,ko+=_l+`
`,ko+=Zi,ko+=v,K(ko+="ET"),S[En]=!0,Oi};var Nv=_.__private__.clip=_.clip=function(v){return K(v==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return Nv("evenodd")},_.__private__.discardPath=_.discardPath=function(){return K("n"),this};var $s=_.__private__.isValidStyle=function(v){var T=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(T=!0),T};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(v){return $s(v)&&(m=v),this};var hm=_.__private__.getStyle=_.getStyle=function(v){var T=m;switch(v){case"D":case"S":T="S";break;case"F":T="f";break;case"FD":case"DF":T="B";break;case"f":case"f*":case"B":case"B*":T=v}return T},gm=_.close=function(){return K("h"),this};_.stroke=function(){return K("S"),this},_.fill=function(v){return Lc("f",v),this},_.fillEvenOdd=function(v){return Lc("f*",v),this},_.fillStroke=function(v){return Lc("B",v),this},_.fillStrokeEvenOdd=function(v){return Lc("B*",v),this};var Lc=function(v,T){Qn(T)==="object"?Ov(T,v):K(v)},k0=function(v){v===null||W===k.ADVANCED&&v===void 0||(v=hm(v),K(v))};function Pv(v,T,G,ne,he){var Ie=new E0(T||this.boundingBox,G||this.xStep,ne||this.yStep,this.gState,he||this.matrix);Ie.stream=this.stream;var Be=v+"$$"+this.cloneIndex+++"$$";return Hr(Be,Ie),Ie}var Ov=function(v,T){var G=fl[v.key],ne=qn[G];if(ne instanceof _c)K("q"),K(Rv(T)),ne.gState&&_.setGState(ne.gState),K(v.matrix.toString()+" cm"),K("/"+G+" sh"),K("Q");else if(ne instanceof E0){var he=new Bt(1,0,0,-1,0,uu());v.matrix&&(he=he.multiply(v.matrix||Vs),G=Pv.call(ne,v.key,v.boundingBox,v.xStep,v.yStep,he).id),K("q"),K("/Pattern cs"),K("/"+G+" scn"),ne.gState&&_.setGState(ne.gState),K(T),K("Q")}},Rv=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},j0=_.moveTo=function(v,T){return K(re(U(v))+" "+re(Q(T))+" m"),this},gl=_.lineTo=function(v,T){return K(re(U(v))+" "+re(Q(T))+" l"),this},su=_.curveTo=function(v,T,G,ne,he,Ie){return K([re(U(v)),re(Q(T)),re(U(G)),re(Q(ne)),re(U(he)),re(Q(Ie)),"c"].join(" ")),this};_.__private__.line=_.line=function(v,T,G,ne,he){if(isNaN(v)||isNaN(T)||isNaN(G)||isNaN(ne)||!$s(he))throw new Error("Invalid arguments passed to jsPDF.line");return W===k.COMPAT?this.lines([[G-v,ne-T]],v,T,[1,1],he||"S"):this.lines([[G-v,ne-T]],v,T,[1,1]).stroke()},_.__private__.lines=_.lines=function(v,T,G,ne,he,Ie){var Be,dt,At,tn,Jt,Dn,fi,_i,Oi,_r,Zi,ms;if(typeof v=="number"&&(ms=G,G=T,T=v,v=ms),ne=ne||[1,1],Ie=Ie||!1,isNaN(T)||isNaN(G)||!Array.isArray(v)||!Array.isArray(ne)||!$s(he)||typeof Ie!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(j0(T,G),Be=ne[0],dt=ne[1],tn=v.length,_r=T,Zi=G,At=0;At<tn;At++)(Jt=v[At]).length===2?(_r=Jt[0]*Be+_r,Zi=Jt[1]*dt+Zi,gl(_r,Zi)):(Dn=Jt[0]*Be+_r,fi=Jt[1]*dt+Zi,_i=Jt[2]*Be+_r,Oi=Jt[3]*dt+Zi,_r=Jt[4]*Be+_r,Zi=Jt[5]*dt+Zi,su(Dn,fi,_i,Oi,_r,Zi));return Ie&&gm(),k0(he),this},_.path=function(v){for(var T=0;T<v.length;T++){var G=v[T],ne=G.c;switch(G.op){case"m":j0(ne[0],ne[1]);break;case"l":gl(ne[0],ne[1]);break;case"c":su.apply(this,ne);break;case"h":gm()}}return this},_.__private__.rect=_.rect=function(v,T,G,ne,he){if(isNaN(v)||isNaN(T)||isNaN(G)||isNaN(ne)||!$s(he))throw new Error("Invalid arguments passed to jsPDF.rect");return W===k.COMPAT&&(ne=-ne),K([re(U(v)),re(Q(T)),re(U(G)),re(U(ne)),"re"].join(" ")),k0(he),this},_.__private__.triangle=_.triangle=function(v,T,G,ne,he,Ie,Be){if(isNaN(v)||isNaN(T)||isNaN(G)||isNaN(ne)||isNaN(he)||isNaN(Ie)||!$s(Be))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-v,ne-T],[he-G,Ie-ne],[v-he,T-Ie]],v,T,[1,1],Be,!0),this},_.__private__.roundedRect=_.roundedRect=function(v,T,G,ne,he,Ie,Be){if(isNaN(v)||isNaN(T)||isNaN(G)||isNaN(ne)||isNaN(he)||isNaN(Ie)||!$s(Be))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var dt=4/3*(Math.SQRT2-1);return he=Math.min(he,.5*G),Ie=Math.min(Ie,.5*ne),this.lines([[G-2*he,0],[he*dt,0,he,Ie-Ie*dt,he,Ie],[0,ne-2*Ie],[0,Ie*dt,-he*dt,Ie,-he,Ie],[2*he-G,0],[-he*dt,0,-he,-Ie*dt,-he,-Ie],[0,2*Ie-ne],[0,-Ie*dt,he*dt,-Ie,he,-Ie]],v+he,T,[1,1],Be,!0),this},_.__private__.ellipse=_.ellipse=function(v,T,G,ne,he){if(isNaN(v)||isNaN(T)||isNaN(G)||isNaN(ne)||!$s(he))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ie=4/3*(Math.SQRT2-1)*G,Be=4/3*(Math.SQRT2-1)*ne;return j0(v+G,T),su(v+G,T-Be,v+Ie,T-ne,v,T-ne),su(v-Ie,T-ne,v-G,T-Be,v-G,T),su(v-G,T+Be,v-Ie,T+ne,v,T+ne),su(v+Ie,T+ne,v+G,T+Be,v+G,T),k0(he),this},_.__private__.circle=_.circle=function(v,T,G,ne){if(isNaN(v)||isNaN(T)||isNaN(G)||!$s(ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,T,G,G,ne)},_.setFont=function(v,T,G){return G&&(T=ge(T,G)),En=pm(v,T,{disableWarning:!1}),this};var Lv=_.__private__.getFont=_.getFont=function(){return Jn[pm.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var v,T,G={};for(v in ci)if(ci.hasOwnProperty(v))for(T in G[v]=[],ci[v])ci[v].hasOwnProperty(T)&&G[v].push(T);return G},_.addFont=function(v,T,G,ne,he){var Ie=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ie.indexOf(arguments[3])!==-1?he=arguments[3]:arguments[3]&&Ie.indexOf(arguments[3])==-1&&(G=ge(G,ne)),he=he||"Identity-H",O0.call(this,v,T,G,he)};var vl,B0=n.lineWidth||.200025,kc=_.__private__.getLineWidth=_.getLineWidth=function(){return B0},vm=_.__private__.setLineWidth=_.setLineWidth=function(v){return B0=v,K(re(U(v))+" w"),this};_.__private__.setLineDash=qt.API.setLineDash=qt.API.setLineDashPattern=function(v,T){if(v=v||[],T=T||0,isNaN(T)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(G){return re(U(G))}).join(" "),T=re(U(T)),K("["+v+"] "+T+" d"),this};var _m=_.__private__.getLineHeight=_.getLineHeight=function(){return Xe*vl};_.__private__.getLineHeight=_.getLineHeight=function(){return Xe*vl};var ym=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(vl=v),this},bm=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return vl};ym(n.lineHeight);var Hs=_.__private__.getHorizontalCoordinate=function(v){return U(v)},ga=_.__private__.getVerticalCoordinate=function(v){return W===k.ADVANCED?v:Zt[H].mediaBox.topRightY-Zt[H].mediaBox.bottomLeftY-U(v)},kv=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(v){return re(Hs(v))},au=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(v){return re(ga(v))},fs=n.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return cs(fs)},_.__private__.setStrokeColor=_.setDrawColor=function(v,T,G,ne){return fs=ds({ch1:v,ch2:T,ch3:G,ch4:ne,pdfColorType:"draw",precision:2}),K(fs),this};var V0=n.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return cs(V0)},_.__private__.setFillColor=_.setFillColor=function(v,T,G,ne){return V0=ds({ch1:v,ch2:T,ch3:G,ch4:ne,pdfColorType:"fill",precision:2}),K(V0),this};var _l=n.textColor||"0 g",jv=_.__private__.getTextColor=_.getTextColor=function(){return cs(_l)};_.__private__.setTextColor=_.setTextColor=function(v,T,G,ne){return _l=ds({ch1:v,ch2:T,ch3:G,ch4:ne,pdfColorType:"text",precision:3}),this};var jc=n.charSpace,Bv=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(jc||0)};_.__private__.setCharSpace=_.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return jc=v,this};var U0=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(v){var T=_.CapJoinStyles[v];if(T===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return U0=T,K(T+" J"),this};var q0=0;_.__private__.setLineJoin=_.setLineJoin=function(v){var T=_.CapJoinStyles[v];if(T===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return q0=T,K(T+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(re(U(v))+" M"),this},_.GState=E1,_.setGState=function(v){(v=typeof v=="string"?gi[as[v]]:Em(null,v)).equals(fa)||(K("/"+v.id+" gs"),fa=v)};var Em=function(v,T){if(!v||!as[v]){var G=!1;for(var ne in gi)if(gi.hasOwnProperty(ne)&&gi[ne].equals(T)){G=!0;break}if(G)T=gi[ne];else{var he="GS"+(Object.keys(gi).length+1).toString(10);gi[he]=T,T.id=he}return v&&(as[v]=T.id),$n.publish("addGState",T),T}};_.addGState=function(v,T){return Em(v,T),this},_.saveGraphicsState=function(){return K("q"),ks.push({key:En,size:Xe,color:_l}),this},_.restoreGraphicsState=function(){K("Q");var v=ks.pop();return En=v.key,Xe=v.size,_l=v.color,fa=null,this},_.setCurrentTransformationMatrix=function(v){return K(v.toString()+" cm"),this},_.comment=function(v){return K("#"+v),this};var Bc=function(v,T){var G=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(Ie){isNaN(Ie)||(G=parseFloat(Ie))}});var ne=T||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ne},set:function(Ie){isNaN(Ie)||(ne=parseFloat(Ie))}});var he="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return he},set:function(Ie){he=Ie.toString()}}),this},$0=function(v,T,G,ne){Bc.call(this,v,T),this.type="rect";var he=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return he},set:function(Be){isNaN(Be)||(he=parseFloat(Be))}});var Ie=ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ie},set:function(Be){isNaN(Be)||(Ie=parseFloat(Be))}}),this},H0=function(){this.page=vi,this.currentPage=H,this.pages=Ue.slice(0),this.pagesContext=Zt.slice(0),this.x=gr,this.y=Pn,this.matrix=ss,this.width=yl(H),this.height=uu(H),this.outputDestination=nt,this.id="",this.objectNumber=-1};H0.prototype.restore=function(){vi=this.page,H=this.currentPage,Zt=this.pagesContext,Ue=this.pages,gr=this.x,Pn=this.y,ss=this.matrix,z0(H,this.width),G0(H,this.height),nt=this.outputDestination};var Sm=function(v,T,G,ne,he){Bs.push(new H0),vi=H=0,Ue=[],gr=v,Pn=T,ss=he,R0([G,ne])},Vv=function(v){if(js[v])Bs.pop().restore();else{var T=new H0,G="Xo"+(Object.keys(lr).length+1).toString(10);T.id=G,js[v]=G,lr[G]=T,$n.publish("addFormObject",T),Bs.pop().restore()}};for(var Vc in _.beginFormObject=function(v,T,G,ne,he){return Sm(v,T,G,ne,he),this},_.endFormObject=function(v){return Vv(v),this},_.doFormObject=function(v,T){var G=lr[js[v]];return K("q"),K(T.toString()+" cm"),K("/"+G.id+" Do"),K("Q"),this},_.getFormObject=function(v){var T=lr[js[v]];return{x:T.x,y:T.y,width:T.width,height:T.height,matrix:T.matrix}},_.save=function(v,T){return v=v||"generated.pdf",(T=T||{}).returnPromise=T.returnPromise||!1,T.returnPromise===!1?(vc(Oc(ha()),v),typeof vc.unload=="function"&&$t.setTimeout&&setTimeout(vc.unload,911),this):new Promise(function(G,ne){try{var he=vc(Oc(ha()),v);typeof vc.unload=="function"&&$t.setTimeout&&setTimeout(vc.unload,911),G(he)}catch(Ie){ne(Ie.message)}})},qt.API)qt.API.hasOwnProperty(Vc)&&(Vc==="events"&&qt.API.events.length?function(v,T){var G,ne,he;for(he=T.length-1;he!==-1;he--)G=T[he][0],ne=T[he][1],v.subscribe.apply(v,[G].concat(typeof ne=="function"?[ne]:ne))}($n,qt.API.events):_[Vc]=qt.API[Vc]);var yl=_.getPageWidth=function(v){return(Zt[v=v||H].mediaBox.topRightX-Zt[v].mediaBox.bottomLeftX)/ct},z0=_.setPageWidth=function(v,T){Zt[v].mediaBox.topRightX=T*ct+Zt[v].mediaBox.bottomLeftX},uu=_.getPageHeight=function(v){return(Zt[v=v||H].mediaBox.topRightY-Zt[v].mediaBox.bottomLeftY)/ct},G0=_.setPageHeight=function(v,T){Zt[v].mediaBox.topRightY=T*ct+Zt[v].mediaBox.bottomLeftY};return _.internal={pdfEscape:zr,getStyle:hm,getFont:Lv,getFontSize:st,getCharSpace:Bv,getTextColor:jv,getLineHeight:_m,getLineHeightFactor:bm,getLineWidth:kc,write:Wt,getHorizontalCoordinate:Hs,getVerticalCoordinate:ga,getCoordinateString:kv,getVerticalCoordinateString:au,collections:{},newObject:Gi,newAdditionalObject:Ac,newObjectDeferred:Pi,newObjectDeferredBegin:uo,getFilters:Us,putStream:Po,events:$n,scaleFactor:ct,pageSize:{getWidth:function(){return yl(H)},setWidth:function(v){z0(H,v)},getHeight:function(){return uu(H)},setHeight:function(v){G0(H,v)}},encryptionOptions:g,encryption:vr,getEncryptor:Mv,output:Rc,getNumberOfPages:wv,pages:Ue,out:K,f2:xe,f3:V,getPageInfo:mm,getPageInfoByObjId:Kt,getCurrentPageInfo:Fv,getPDFVersion:w,Point:Bc,Rectangle:$0,Matrix:Bt,hasHotfix:fm},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return yl(H)},set:function(v){z0(H,v)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return uu(H)},set:function(v){G0(H,v)},enumerable:!0,configurable:!0}),xv.call(_,We),En="F1",cm(r,t),$n.publish("initialized"),_}y0.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},y0.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},y0.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},y0.prototype.processOwnerPassword=function(n,e){return oE(rE(e).substr(0,5),n)},y0.prototype.encryptor=function(n,e){var t=rE(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return oE(t,i)}},E1.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Qn(n)!==Qn(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},qt.API={events:[]},qt.version="2.5.2";var Ci=qt.API,lE=1,bc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},v0=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},en=function(n){return n.toFixed(2)},sl=function(n){return n.toFixed(5)};Ci.__acroform__={};var so=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},AM=function(n){return n*lE},ua=function(n){var e=new $M,t=_t.internal.getHeight(n)||0,i=_t.internal.getWidth(n)||0;return e.BBox=[0,0,Number(en(i)),Number(en(t))],e},hee=Ci.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},gee=Ci.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},vee=Ci.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Mi=Ci.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return vee(n,e-1)},Fi=Ci.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return hee(n,e-1)},Ni=Ci.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return gee(n,e-1)},_ee=Ci.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=n[0],o=n[1],s=n[2],l=n[3],d={};return d.lowerLeft_X=t(r)||0,d.lowerLeft_Y=i(o+l)||0,d.upperRight_X=t(r+s)||0,d.upperRight_Y=i(o)||0,[Number(en(d.lowerLeft_X)),Number(en(d.lowerLeft_Y)),Number(en(d.upperRight_X)),Number(en(d.upperRight_Y))]},yee=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,i=sE(n,t),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+r+" "+en(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=ua(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},sE=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=n.multiline?r.map(function(V){return V.split(`
`)}):r.map(function(V){return[V]});var o=t,s=_t.internal.getHeight(n)||0;s=s<0?-s:s;var l=_t.internal.getWidth(n)||0;l=l<0?-l:l;var d=function(V,U,J){if(V+1<r.length){var Q=U+" "+r[V+1][0];return m1(Q,n,J).width<=l-4}return!1};o++;e:for(;o>0;){e="",o--;var m,g,y=m1("3",n,o).height,S=n.multiline?s-o:(s-y)/2,_=S+=2,A=0,w=0,L=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+m1(e,n,o=12).width+", FieldWidth:"+l+`
`;break}for(var F="",k=0,W=0;W<r.length;W++)if(r.hasOwnProperty(W)){var te=!1;if(r[W].length!==1&&L!==r[W].length-1){if((y+2)*(k+2)+2>s)continue e;F+=r[W][L],te=!0,w=W,W--}else{F=(F+=r[W][L]+" ").substr(F.length-1)==" "?F.substr(0,F.length-1):F;var le=parseInt(W),ge=d(le,F,o),re=W>=r.length-1;if(ge&&!re){F+=" ",L=0;continue}if(ge||re){if(re)w=le;else if(n.multiline&&(y+2)*(k+2)+2>s)continue e}else{if(!n.multiline||(y+2)*(k+2)+2>s)continue e;w=le}}for(var Y="",me=A;me<=w;me++){var xe=r[me];if(n.multiline){if(me===w){Y+=xe[L]+" ",L=(L+1)%xe.length;continue}if(me===A){Y+=xe[xe.length-1]+" ";continue}}Y+=xe[0]+" "}switch(Y=Y.substr(Y.length-1)==" "?Y.substr(0,Y.length-1):Y,g=m1(Y,n,o).width,n.textAlign){case"right":m=l-g-2;break;case"center":m=(l-g)/2;break;case"left":default:m=2}e+=en(m)+" "+en(_)+` Td
`,e+="("+bc(Y)+`) Tj
`,e+=-en(m)+` 0 Td
`,_=-(o+2),g=0,A=te?w:w+1,k++,F=""}break}return i.text=e,i.fontSize=o,i},m1=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},bee={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Eee=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},See=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var i=t,r=n[t];e.internal.newObjectDeferredBegin(r.objId,!0),Qn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete n[i]}},xee=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Rs.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(bee)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");lE=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new HM,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];o.objId=void 0,o.hasAnnotation&&Eee(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(i,r){var o=!i;for(var s in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(s)){var l=i[s],d=[],m=l.Rect;if(l.Rect&&(l.Rect=_ee(l.Rect,r)),r.internal.newObjectDeferredBegin(l.objId,!0),l.DA=_t.createDefaultAppearanceStream(l),Qn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(d=l.getKeyValueListForStream()),l.Rect=m,l.hasAppearanceStream&&!l.appearanceStreamContent){var g=yee(l);d.push({key:"AP",value:"<</N "+g+">>"}),r.internal.acroformPlugin.xForms.push(g)}if(l.appearanceStreamContent){var y="";for(var S in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(S)){var _=l.appearanceStreamContent[S];if(y+="/"+S+" ",y+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var s in _)if(_.hasOwnProperty(s)){var A=_[s];typeof A=="function"&&(A=A.call(r,l)),y+="/"+s+" "+A+" ",r.internal.acroformPlugin.xForms.indexOf(A)>=0||r.internal.acroformPlugin.xForms.push(A)}}else typeof(A=_)=="function"&&(A=A.call(r,l)),y+="/"+s+" "+A,r.internal.acroformPlugin.xForms.indexOf(A)>=0||r.internal.acroformPlugin.xForms.push(A);y+=">>"}d.push({key:"AP",value:`<<
`+y+">>"})}r.internal.putStream({additionalKeyValues:d,objectId:l.objId}),r.internal.out("endobj")}o&&See(r.internal.acroformPlugin.xForms,r)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},qM=Ci.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(s){return s};if(Array.isArray(n)){for(var r="[",o=0;o<n.length;o++)switch(o!==0&&(r+=" "),Qn(n[o])){case"boolean":case"number":case"object":r+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),r+="("+bc(i(n[o].toString()))+")"):r+=n[o].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},eE=function(n,e,t){var i=function(r){return r};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+bc(i(n))+")"},la=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};la.prototype.toString=function(){return this.objId+" 0 R"},la.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},la.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:qM(r,this.objId,this.scope)}):r instanceof la?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var $M=function(){la.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};so($M,la);var HM=function(){la.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+bc(t(n))+")"}},set:function(t){n=t}})};so(HM,la);var Rs=function n(){la.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute F supplied.');e=F}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Mi(e,3)},set:function(F){F?this.F=Fi(e,3):this.F=Ni(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute Ff supplied.');t=F}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(F){i=F!==void 0?F:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(F){i[0]=F}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(F){i[1]=F}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(F){i[2]=F}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(F){i[3]=F}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(F){switch(F){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=F;break;default:throw new Error('Invalid value "'+F+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof S1)return;o="FieldObject"+n.FieldNum++}var F=function(k){return k};return this.scope&&(F=this.scope.internal.getEncryptor(this.objId)),"("+bc(F(o))+")"},set:function(F){o=F.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(F){o=F}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(F){s=F}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(F){l=F}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(F){d=F}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/lE:m},set:function(F){m=F}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(F){g=F}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof S1||this instanceof yc))return eE(y,this.objId,this.scope)},set:function(F){F=F.toString(),y=F}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof ur?S:eE(S,this.objId,this.scope)},set:function(F){F=F.toString(),S=this instanceof ur?F:F.substr(0,1)==="("?v0(F.substr(1,F.length-2)):v0(F)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ur?v0(S.substr(1,S.length-1)):S},set:function(F){F=F.toString(),S=this instanceof ur?"/"+F:F}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(F){this.V=F}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof ur?_:eE(_,this.objId,this.scope)},set:function(F){F=F.toString(),_=this instanceof ur?F:F.substr(0,1)==="("?v0(F.substr(1,F.length-2)):v0(F)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ur?v0(_.substr(1,_.length-1)):_},set:function(F){F=F.toString(),_=this instanceof ur?"/"+F:F}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(F){F=!!F,w=F}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(F){A=F}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,1)},set:function(F){F?this.Ff=Fi(this.Ff,1):this.Ff=Ni(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,2)},set:function(F){F?this.Ff=Fi(this.Ff,2):this.Ff=Ni(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,3)},set:function(F){F?this.Ff=Fi(this.Ff,3):this.Ff=Ni(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(F){if([0,1,2].indexOf(F)===-1)throw new Error('Invalid value "'+F+'" for attribute Q supplied.');L=F}}),Object.defineProperty(this,"textAlign",{get:function(){var F;switch(L){case 0:default:F="left";break;case 1:F="center";break;case 2:F="right"}return F},configurable:!0,enumerable:!0,set:function(F){switch(F){case"right":case 2:L=2;break;case"center":case 1:L=1;break;case"left":case 0:default:L=0}}})};so(Rs,la);var S0=function(){Rs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qM(e,this.objId,this.scope)},set:function(t){var i,r;r=[],typeof(i=t)=="string"&&(r=function(o,s,l){l||(l=1);for(var d,m=[];d=s.exec(o);)m.push(d[l]);return m}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,18)},set:function(t){t?this.Ff=Fi(this.Ff,18):this.Ff=Ni(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Fi(this.Ff,19):this.Ff=Ni(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,20)},set:function(t){t?(this.Ff=Fi(this.Ff,20),e.sort()):this.Ff=Ni(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,22)},set:function(t){t?this.Ff=Fi(this.Ff,22):this.Ff=Ni(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,23)},set:function(t){t?this.Ff=Fi(this.Ff,23):this.Ff=Ni(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,27)},set:function(t){t?this.Ff=Fi(this.Ff,27):this.Ff=Ni(this.Ff,27)}}),this.hasAppearanceStream=!1};so(S0,Rs);var x0=function(){S0.call(this),this.fontName="helvetica",this.combo=!1};so(x0,S0);var C0=function(){x0.call(this),this.combo=!0};so(C0,x0);var v1=function(){C0.call(this),this.edit=!0};so(v1,C0);var ur=function(){Rs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,15)},set:function(t){t?this.Ff=Fi(this.Ff,15):this.Ff=Ni(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,16)},set:function(t){t?this.Ff=Fi(this.Ff,16):this.Ff=Ni(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,17)},set:function(t){t?this.Ff=Fi(this.Ff,17):this.Ff=Ni(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,26)},set:function(t){t?this.Ff=Fi(this.Ff,26):this.Ff=Ni(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+bc(t(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){Qn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};so(ur,Rs);var _1=function(){ur.call(this),this.pushButton=!0};so(_1,ur);var w0=function(){ur.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};so(w0,ur);var S1=function(){var n,e;Rs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(l){return l};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),i)s.push("/"+o+" ("+bc(r(i[o]))+")");return s.push(">>"),s.join(`
`)},set:function(r){Qn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};so(S1,Rs),w0.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},w0.prototype.createOption=function(n){var e=new S1;return e.Parent=this,e.optionName=n,this.Kids.push(e),Cee.call(this.scope,e),e};var y1=function(){ur.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_t.CheckBox.createAppearanceStream()};so(y1,ur);var yc=function(){Rs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,13)},set:function(e){e?this.Ff=Fi(this.Ff,13):this.Ff=Ni(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,21)},set:function(e){e?this.Ff=Fi(this.Ff,21):this.Ff=Ni(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,23)},set:function(e){e?this.Ff=Fi(this.Ff,23):this.Ff=Ni(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,24)},set:function(e){e?this.Ff=Fi(this.Ff,24):this.Ff=Ni(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,25)},set:function(e){e?this.Ff=Fi(this.Ff,25):this.Ff=Ni(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,26)},set:function(e){e?this.Ff=Fi(this.Ff,26):this.Ff=Ni(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};so(yc,Rs);var b1=function(){yc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,14)},set:function(n){n?this.Ff=Fi(this.Ff,14):this.Ff=Ni(this.Ff,14)}}),this.password=!0};so(b1,yc);var _t={CheckBox:{createAppearanceStream:function(){return{N:{On:_t.CheckBox.YesNormal},D:{On:_t.CheckBox.YesPushDown,Off:_t.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=ua(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),o=sE(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+en(_t.internal.getWidth(n))+" "+en(_t.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+en(o.fontSize)+" Tf "+r),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=ua(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],o=_t.internal.getHeight(n),s=_t.internal.getWidth(n),l=sE(n,n.caption);return r.push("1 g"),r.push("0 0 "+en(s)+" "+en(o)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+en(s-1)+" "+en(o-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+en(l.fontSize)+" Tf "+i),r.push(l.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=ua(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+en(_t.internal.getWidth(n))+" "+en(_t.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:_t.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=_t.RadioButton.Circle.YesNormal,e.D[n]=_t.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=ua(n);e.scope=n.scope;var t=[],i=_t.internal.getWidth(n)<=_t.internal.getHeight(n)?_t.internal.getWidth(n)/4:_t.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=_t.internal.Bezier_C,o=Number((i*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+sl(_t.internal.getWidth(n)/2)+" "+sl(_t.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=ua(n);e.scope=n.scope;var t=[],i=_t.internal.getWidth(n)<=_t.internal.getHeight(n)?_t.internal.getWidth(n)/4:_t.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*_t.internal.Bezier_C).toFixed(5)),s=Number((i*_t.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+sl(_t.internal.getWidth(n)/2)+" "+sl(_t.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+sl(_t.internal.getWidth(n)/2)+" "+sl(_t.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=ua(n);e.scope=n.scope;var t=[],i=_t.internal.getWidth(n)<=_t.internal.getHeight(n)?_t.internal.getWidth(n)/4:_t.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),o=Number((r*_t.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+sl(_t.internal.getWidth(n)/2)+" "+sl(_t.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:_t.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=_t.RadioButton.Cross.YesNormal,e.D[n]=_t.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=ua(n);e.scope=n.scope;var t=[],i=_t.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+en(_t.internal.getWidth(n)-2)+" "+en(_t.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(en(i.x1.x)+" "+en(i.x1.y)+" m"),t.push(en(i.x2.x)+" "+en(i.x2.y)+" l"),t.push(en(i.x4.x)+" "+en(i.x4.y)+" m"),t.push(en(i.x3.x)+" "+en(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=ua(n);e.scope=n.scope;var t=_t.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+en(_t.internal.getWidth(n))+" "+en(_t.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+en(_t.internal.getWidth(n)-2)+" "+en(_t.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(en(t.x1.x)+" "+en(t.x1.y)+" m"),i.push(en(t.x2.x)+" "+en(t.x2.y)+" l"),i.push(en(t.x4.x)+" "+en(t.x4.y)+" m"),i.push(en(t.x3.x)+" "+en(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=ua(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+en(_t.internal.getWidth(n))+" "+en(_t.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};_t.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=_t.internal.getWidth(n),t=_t.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},_t.internal.getWidth=function(n){var e=0;return Qn(n)==="object"&&(e=AM(n.Rect[2])),e},_t.internal.getHeight=function(n){var e=0;return Qn(n)==="object"&&(e=AM(n.Rect[3])),e};var Cee=Ci.addField=function(n){if(xee(this,n),!(n instanceof Rs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Ci.AcroFormChoiceField=S0,Ci.AcroFormListBox=x0,Ci.AcroFormComboBox=C0,Ci.AcroFormEditBox=v1,Ci.AcroFormButton=ur,Ci.AcroFormPushButton=_1,Ci.AcroFormRadioButton=w0,Ci.AcroFormCheckBox=y1,Ci.AcroFormTextField=yc,Ci.AcroFormPasswordField=b1,Ci.AcroFormAppearance=_t,Ci.AcroForm={ChoiceField:S0,ListBox:x0,ComboBox:C0,EditBox:v1,Button:ur,PushButton:_1,RadioButton:w0,CheckBox:y1,TextField:yc,PasswordField:b1,Appearance:_t},qt.AcroForm={ChoiceField:S0,ListBox:x0,ComboBox:C0,EditBox:v1,Button:ur,PushButton:_1,RadioButton:w0,CheckBox:y1,TextField:yc,PasswordField:b1,Appearance:_t};var L1e=qt.AcroForm;function zM(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(V,U){var J,Q,Ce,X,ue,ie=e;if((U=U||e)==="RGBA"||V.data!==void 0&&V.data instanceof Uint8ClampedArray&&"height"in V&&"width"in V)return"RGBA";if(ge(V))for(ue in t)for(Ce=t[ue],J=0;J<Ce.length;J+=1){for(X=!0,Q=0;Q<Ce[J].length;Q+=1)if(Ce[J][Q]!==void 0&&Ce[J][Q]!==V[Q]){X=!1;break}if(X===!0){ie=ue;break}}else for(ue in t)for(Ce=t[ue],J=0;J<Ce.length;J+=1){for(X=!0,Q=0;Q<Ce[J].length;Q+=1)if(Ce[J][Q]!==void 0&&Ce[J][Q]!==V.charCodeAt(Q)){X=!1;break}if(X===!0){ie=ue;break}}return ie===e&&U!==e&&(ie=U),ie},r=function V(U){for(var J=this.internal.write,Q=this.internal.putStream,Ce=(0,this.internal.getFilters)();Ce.indexOf("FlateEncode")!==-1;)Ce.splice(Ce.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:U.width}),X.push({key:"Height",value:U.height}),U.colorSpace===L.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===L.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)){for(var ue="",ie=0,ve=U.transparency.length;ie<ve;ie++)ue+=U.transparency[ie]+" "+U.transparency[ie]+" ";X.push({key:"Mask",value:"["+ue+"]"})}U.sMask!==void 0&&X.push({key:"SMask",value:U.objectId+1+" 0 R"});var we=U.filter!==void 0?["/"+U.filter]:void 0;if(Q({data:U.data,additionalKeyValues:X,alreadyAppliedFilters:we,objectId:U.objectId}),J("endobj"),"sMask"in U&&U.sMask!==void 0){var Je="/Predictor "+U.predictor+" /Colors 1 /BitsPerComponent "+U.bitsPerComponent+" /Columns "+U.width,N={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:U.bitsPerComponent,decodeParameters:Je,data:U.sMask};"filter"in U&&(N.filter=U.filter),V.call(this,N)}if(U.colorSpace===L.INDEXED){var H=this.internal.newObject();Q({data:Y(new Uint8Array(U.palette)),objectId:H}),J("endobj")}},o=function(){var V=this.internal.collections.addImage_images;for(var U in V)r.call(this,V[U])},s=function(){var V,U=this.internal.collections.addImage_images,J=this.internal.write;for(var Q in U)J("/I"+(V=U[Q]).index,V.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},d=function(){var V=this.internal.collections.addImage_images;return l.call(this),V},m=function(){return Object.keys(this.internal.collections.addImage_images).length},g=function(V){return typeof n["process"+V.toUpperCase()]=="function"},y=function(V){return Qn(V)==="object"&&V.nodeType===1},S=function(V,U){if(V.nodeName==="IMG"&&V.hasAttribute("src")){var J=""+V.getAttribute("src");if(J.indexOf("data:image/")===0)return Yf(unescape(J).split("base64,").pop());var Q=n.loadFile(J,!0);if(Q!==void 0)return Q}if(V.nodeName==="CANVAS"){if(V.width===0||V.height===0)throw new Error("Given canvas must have data. Canvas width: "+V.width+", height: "+V.height);var Ce;switch(U){case"PNG":Ce="image/png";break;case"WEBP":Ce="image/webp";break;case"JPEG":case"JPG":default:Ce="image/jpeg"}return Yf(V.toDataURL(Ce,1).split("base64,").pop())}},_=function(V){var U=this.internal.collections.addImage_images;if(U){for(var J in U)if(V===U[J].alias)return U[J]}},A=function(V,U,J){return V||U||(V=-96,U=-96),V<0&&(V=-1*J.width*72/V/this.internal.scaleFactor),U<0&&(U=-1*J.height*72/U/this.internal.scaleFactor),V===0&&(V=U*J.width/J.height),U===0&&(U=V*J.height/J.width),[V,U]},w=function(V,U,J,Q,Ce,X){var ue=A.call(this,J,Q,Ce),ie=this.internal.getCoordinateString,ve=this.internal.getVerticalCoordinateString,we=d.call(this);if(J=ue[0],Q=ue[1],we[Ce.index]=Ce,X){X*=Math.PI/180;var Je=Math.cos(X),N=Math.sin(X),H=function(ee){return ee.toFixed(4)},z=[H(Je),H(N),H(-1*N),H(Je),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,ie(V),ve(U+Q),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([ie(J),"0","0",ie(Q),"0","0","cm"].join(" "))):this.internal.write([ie(J),"0","0",ie(Q),ie(V),ve(U+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ce.index+" Do"),this.internal.write("Q")},L=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var F=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=n.__addimage__.sHashCode=function(V){var U,J,Q=0;if(typeof V=="string")for(J=V.length,U=0;U<J;U++)Q=(Q<<5)-Q+V.charCodeAt(U),Q|=0;else if(ge(V))for(J=V.byteLength/2,U=0;U<J;U++)Q=(Q<<5)-Q+V[U],Q|=0;return Q},W=n.__addimage__.validateStringAsBase64=function(V){(V=V||"").toString().trim();var U=!0;return V.length===0&&(U=!1),V.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(V.substr(0,V.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(V.substr(-2))===!1&&(U=!1),U},te=n.__addimage__.extractImageFromDataUrl=function(V){var U=(V=V||"").split("base64,"),J=null;if(U.length===2){var Q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(U[0]);Array.isArray(Q)&&(J={mimeType:Q[1],charset:Q[2],data:U[1]})}return J},le=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(V){return le()&&V instanceof ArrayBuffer};var ge=n.__addimage__.isArrayBufferView=function(V){return le()&&typeof Uint32Array<"u"&&(V instanceof Int8Array||V instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&V instanceof Uint8ClampedArray||V instanceof Int16Array||V instanceof Uint16Array||V instanceof Int32Array||V instanceof Uint32Array||V instanceof Float32Array||V instanceof Float64Array)},re=n.__addimage__.binaryStringToUint8Array=function(V){for(var U=V.length,J=new Uint8Array(U),Q=0;Q<U;Q++)J[Q]=V.charCodeAt(Q);return J},Y=n.__addimage__.arrayBufferToBinaryString=function(V){for(var U="",J=ge(V)?V:new Uint8Array(V),Q=0;Q<J.length;Q+=8192)U+=String.fromCharCode.apply(null,J.subarray(Q,Q+8192));return U};n.addImage=function(){var V,U,J,Q,Ce,X,ue,ie,ve;if(typeof arguments[1]=="number"?(U=e,J=arguments[1],Q=arguments[2],Ce=arguments[3],X=arguments[4],ue=arguments[5],ie=arguments[6],ve=arguments[7]):(U=arguments[1],J=arguments[2],Q=arguments[3],Ce=arguments[4],X=arguments[5],ue=arguments[6],ie=arguments[7],ve=arguments[8]),Qn(V=arguments[0])==="object"&&!y(V)&&"imageData"in V){var we=V;V=we.imageData,U=we.format||U||e,J=we.x||J||0,Q=we.y||Q||0,Ce=we.w||we.width||Ce,X=we.h||we.height||X,ue=we.alias||ue,ie=we.compression||ie,ve=we.rotation||we.angle||ve}var Je=this.internal.getFilters();if(ie===void 0&&Je.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(J)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var N=me.call(this,V,U,ue,ie);return w.call(this,J,Q,Ce,X,N,ve),this};var me=function(V,U,J,Q){var Ce,X,ue;if(typeof V=="string"&&i(V)===e){V=unescape(V);var ie=xe(V,!1);(ie!==""||(ie=n.loadFile(V,!0))!==void 0)&&(V=ie)}if(y(V)&&(V=S(V,U)),U=i(V,U),!g(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((ue=J)==null||ue.length===0)&&(J=function(ve){return typeof ve=="string"||ge(ve)?k(ve):ge(ve.data)?k(ve.data):null}(V)),(Ce=_.call(this,J))||(le()&&(V instanceof Uint8Array||U==="RGBA"||(X=V,V=re(V))),Ce=this["process"+U.toUpperCase()](V,m.call(this),J,function(ve){return ve&&typeof ve=="string"&&(ve=ve.toUpperCase()),ve in n.image_compression?ve:F.NONE}(Q),X)),!Ce)throw new Error("An unknown error occurred whilst processing the image.");return Ce},xe=n.__addimage__.convertBase64ToBinaryString=function(V,U){var J;U=typeof U!="boolean"||U;var Q,Ce="";if(typeof V=="string"){Q=(J=te(V))!==null?J.data:V;try{Ce=Yf(Q)}catch(X){if(U)throw W(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Ce};n.getImageProperties=function(V){var U,J,Q="";if(y(V)&&(V=S(V)),typeof V=="string"&&i(V)===e&&((Q=xe(V,!1))===""&&(Q=n.loadFile(V)||""),V=Q),J=i(V),!g(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(!le()||V instanceof Uint8Array||(V=re(V)),!(U=this["process"+J.toUpperCase()](V)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=J,U}})(qt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};qt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,r,o,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),m=t.pageContext.annotations,g=!1,y=0;y<m.length&&!g;y++)switch((i=m[y]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var S=0;S<m.length;S++){i=m[S];var _=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),F=this.internal.getEncryptor(w.objId),k=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(i.bounds.x)+" "+l(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y)+"] ")+"/Contents ("+_(F(i.contents))+")",o+=" /Popup "+L.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+_(F(k))+") >>",w.content=o;var W=w.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(i.bounds.x+30)+" "+l(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w+30)+" "+l(i.bounds.y)+"] ")+" /Parent "+W,i.open&&(o+=" /Open true"),o+=" >>",L.content=o,this.internal.write(w.objId,"0 R",L.objId,"0 R");break;case"freetext":r="/Rect ["+s(i.bounds.x)+" "+l(i.bounds.y)+" "+s(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y+i.bounds.h)+"] ";var te=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+_(A(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+te+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var le=this.annotations._nameMap[i.options.name];i.options.pageNumber=le.page,i.options.top=le.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+_(A(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var ge=l(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+ge+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,r,o,s){var l=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:d(t),y:m(i),w:d(t+r),h:m(i+o)},options:s,type:"link"})},n.textWithLink=function(t,i,r,o){var s,l,d=this.getTextWidth(t),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){l=o.maxWidth;var g=this.splitTextToSize(t,l).length;s=Math.ceil(m*g)}else l=d,s=m;return this.text(t,i,r,o),r+=.2*m,o.align==="center"&&(i-=d/2),o.align==="right"&&(i-=d),this.link(i,r-m,l,s,o),d},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}}(qt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},s=n.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},l=n.__arabicParser__.isArabicEndLetter=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length<=2},d=n.__arabicParser__.isArabicAlfLetter=function(w){return s(w)&&r.indexOf(w.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=1};var m=n.__arabicParser__.arabicLetterHasFinalForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(w){return s(w)&&o(w)&&e[w.charCodeAt(0)].length==4},y=n.__arabicParser__.resolveLigatures=function(w){var L=0,F=t,k="",W=0;for(L=0;L<w.length;L+=1)F[w.charCodeAt(L)]!==void 0?(W++,typeof(F=F[w.charCodeAt(L)])=="number"&&(k+=String.fromCharCode(F),F=t,W=0),L===w.length-1&&(F=t,k+=w.charAt(L-(W-1)),L-=W-1,W=0)):(F=t,k+=w.charAt(L-W),L-=W,W=0);return k};n.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&i[w.charCodeAt(0)]!==void 0};var S=n.__arabicParser__.getCorrectForm=function(w,L,F){return s(w)?o(w)===!1?-1:!m(w)||!s(L)&&!s(F)||!s(F)&&l(L)||l(w)&&!s(L)||l(w)&&d(L)||l(w)&&l(L)?0:g(w)&&s(L)&&!l(L)&&s(F)&&m(F)?3:l(w)||!s(F)?1:2:-1},_=function(w){var L=0,F=0,k=0,W="",te="",le="",ge=(w=w||"").split("\\s+"),re=[];for(L=0;L<ge.length;L+=1){for(re.push(""),F=0;F<ge[L].length;F+=1)W=ge[L][F],te=ge[L][F-1],le=ge[L][F+1],s(W)?(k=S(W,te,le),re[L]+=k!==-1?String.fromCharCode(e[W.charCodeAt(0)][k]):W):re[L]+=W;re[L]=y(re[L])}return re.join(" ")},A=n.__arabicParser__.processArabic=n.processArabic=function(){var w,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,F=[];if(Array.isArray(L)){var k=0;for(F=[],k=0;k<L.length;k+=1)Array.isArray(L[k])?F.push([_(L[k][0]),L[k][1],L[k][2]]):F.push([_(L[k])]);w=F}else w=_(L);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};n.events.push(["preProcessText",A])}(qt.API),qt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(l){o=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var r;if((t=t||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(qt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(w){y=w}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(w){S=w}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(w){_=w}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(w){A=w}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(d){return i.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},n.getTextDimensions=function(d,m){i.call(this);var g=(m=m||{}).fontSize||this.getFontSize(),y=m.font||this.getFont(),S=m.scaleFactor||this.internal.scaleFactor,_=0,A=0,w=0,L=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var F=m.maxWidth;F>0?typeof d=="string"?d=this.splitTextToSize(d,F):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(W,te){return W.concat(L.splitTextToSize(te,F))},[])):d=Array.isArray(d)?d:[d];for(var k=0;k<d.length;k++)_<(w=this.getStringUnitWidth(d[k],{font:y})*g)&&(_=w);return _!==0&&(A=d.length),{w:_/=S,h:Math.max((A*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/S,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=n.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var m=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,S=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===d.lineNumber?(d.x=(m.x||0)+(m.width||0),d.y=m.y||0):m.y+m.height+d.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=y.top,_&&S&&(this.printHeaderRow(d.lineNumber,!0),d.y+=S[0].height)):d.y=m.y+m.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-g,d.y+g,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+g,{align:"center",baseline:"top",maxWidth:d.width-g-g}):this.text(d.text,d.x+g,d.y+g,{align:"left",baseline:"top",maxWidth:d.width-g-g})),this.internal.__cell__.lastCell=d,this};n.table=function(d,m,g,y,S){if(i.call(this),!g)throw new Error("No data for PDF table.");var _,A,w,L,F=[],k=[],W=[],te={},le={},ge=[],re=[],Y=(S=S||{}).autoSize||!1,me=S.printHeaders!==!1,xe=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,V=S.margins||Object.assign({width:this.getPageWidth()},e),U=typeof S.padding=="number"?S.padding:3,J=S.headerBackgroundColor||"#c8c8c8",Q=S.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=me,this.internal.__cell__.margins=V,this.internal.__cell__.table_font_size=xe,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=Q,this.setFontSize(xe),y==null)k=F=Object.keys(g[0]),W=F.map(function(){return"left"});else if(Array.isArray(y)&&Qn(y[0])==="object")for(F=y.map(function(we){return we.name}),k=y.map(function(we){return we.prompt||we.name||""}),W=y.map(function(we){return we.align||"left"}),_=0;_<y.length;_+=1)le[y[_].name]=y[_].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(k=F=y,W=F.map(function(){return"left"}));if(Y||Array.isArray(y)&&typeof y[0]=="string")for(_=0;_<F.length;_+=1){for(te[L=F[_]]=g.map(function(we){return we[L]}),this.setFont(void 0,"bold"),ge.push(this.getTextDimensions(k[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=te[L],this.setFont(void 0,"normal"),w=0;w<A.length;w+=1)ge.push(this.getTextDimensions(A[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);le[L]=Math.max.apply(null,ge)+U+U,ge=[]}if(me){var Ce={};for(_=0;_<F.length;_+=1)Ce[F[_]]={},Ce[F[_]].text=k[_],Ce[F[_]].align=W[_];var X=l.call(this,Ce,le);re=F.map(function(we){return new o(d,m,le[we],X,Ce[we].text,void 0,Ce[we].align)}),this.setTableHeaderRow(re),this.printHeaderRow(1,!1)}var ue=y.reduce(function(we,Je){return we[Je.name]=Je.align,we},{});for(_=0;_<g.length;_+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:_,data:g[_]},this);var ie=l.call(this,g[_],le);for(w=0;w<F.length;w+=1){var ve=g[_][F[w]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:_,col:w,data:ve},this),s.call(this,new o(d,m,le[F[w]],ie,ve,_+2,ue[F[w]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=m,this};var l=function(d,m){var g=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(d).map(function(_){var A=d[_];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,m[_]-g-g)},this).map(function(_){return this.getLineHeightFactor()*_.length*y/S+g+g},this).reduce(function(_,A){return Math.max(_,A)},0)};n.setTableHeaderRow=function(d){i.call(this),this.internal.__cell__.tableHeaderRow=d},n.printHeaderRow=function(d,m){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){g=this.internal.__cell__.tableHeaderRow[_].clone(),m&&(g.y=this.internal.__cell__.margins.top||0,S.push(g)),g.lineNumber=d;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,g),this.setTextColor(A)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),t=!1}}(qt.API);var GM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},WM=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],aE=zM(WM),YM=[100,200,300,400,500,600,700,800,900],wee=zM(YM);function uE(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return GM[o=o||"normal"]?o:"normal"}(n.style),i=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(n.weight),r=function(o){return typeof aE[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:e,style:t,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:e,style:[r,t,i].join(" ")}}}function DM(n,e,t,i){var r;for(r=t;r>=0&&r<e.length;r+=i)if(n[e[r]])return n[e[r]];for(r=t;r>=0&&r<e.length;r-=i)if(n[e[r]])return n[e[r]]}var Aee={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},IM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function TM(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Dee(n,e,t){for(var i=(t=t||{}).defaultFontFamily||"times",r=Object.assign({},Aee,t.genericFontFamilies||{}),o=null,s=null,l=0;l<e.length;++l)if(r[(o=uE(e[l])).family]&&(o.family=r[o.family]),n.hasOwnProperty(o.family)){s=n[o.family];break}if(!(s=s||n[i]))throw new Error("Could not find a font-family for the rule '"+TM(o)+"' and default family '"+i+"'.");if(s=function(d,m){if(m[d])return m[d];var g=aE[d],y=g<=aE.normal?-1:1,S=DM(m,WM,g,y);if(!S)throw new Error("Could not find a matching font-stretch value for "+d);return S}(o.stretch,s),s=function(d,m){if(m[d])return m[d];for(var g=GM[d],y=0;y<g.length;++y)if(m[g[y]])return m[g[y]];throw new Error("Could not find a matching font-style for "+d)}(o.style,s),!(s=function(d,m){if(m[d])return m[d];if(d===400&&m[500])return m[500];if(d===500&&m[400])return m[400];var g=wee[d],y=DM(m,YM,g,d<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+d);return y}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+TM(o)+"'.");return s}function MM(n){return n.trimLeft()}function Iee(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Tee(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var h1,FM,NM,tE=["times"];(function(n){var e,t,i,r,o,s,l,d,m,g=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new d,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new s,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new s,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,d=this.internal.Matrix,m=new g}]);var y=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=N;Object.defineProperty(this,"pdf",{get:function(){return H}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(Te){z=!!Te}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(Te){ee=!!Te}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(Te){isNaN(Te)||(de=Te)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(Te){isNaN(Te)||(fe=Te)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(Te){var K;typeof Te=="number"?K=[Te,Te,Te,Te]:((K=new Array(4))[0]=Te[0],K[1]=Te.length>=2?Te[1]:K[0],K[2]=Te.length>=3?Te[2]:K[0],K[3]=Te.length>=4?Te[3]:K[1]),m.margin=K}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(Te){_e=Te}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(Te){ye=Te}});var Ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ye},set:function(Te){Ye=Te}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(Te){Te instanceof g&&(m=Te)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(Te){m.path=Te}});var Ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ue},set:function(Te){Ue=Te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Te){var K;K=S(Te),this.ctx.fillStyle=K.style,this.ctx.isFillTransparent=K.a===0,this.ctx.fillOpacity=K.a,this.pdf.setFillColor(K.r,K.g,K.b,{a:K.a}),this.pdf.setTextColor(K.r,K.g,K.b,{a:K.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Te){var K=S(Te);this.ctx.strokeStyle=K.style,this.ctx.isStrokeTransparent=K.a===0,this.ctx.strokeOpacity=K.a,K.a===0?this.pdf.setDrawColor(255,255,255):(K.a,this.pdf.setDrawColor(K.r,K.g,K.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Te){["butt","round","square"].indexOf(Te)!==-1&&(this.ctx.lineCap=Te,this.pdf.setLineCap(Te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Te){isNaN(Te)||(this.ctx.lineWidth=Te,this.pdf.setLineWidth(Te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Te){["bevel","round","miter"].indexOf(Te)!==-1&&(this.ctx.lineJoin=Te,this.pdf.setLineJoin(Te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Te){isNaN(Te)||(this.ctx.miterLimit=Te,this.pdf.setMiterLimit(Te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Te){this.ctx.textBaseline=Te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Te){["right","end","center","left","start"].indexOf(Te)!==-1&&(this.ctx.textAlign=Te)}});var ut=null;function nt(Te,K){if(ut===null){var Wt=function(yt){var We=[];return Object.keys(yt).forEach(function(Xe){yt[Xe].forEach(function(at){var st=null;switch(at){case"bold":st={family:Xe,weight:"bold"};break;case"italic":st={family:Xe,style:"italic"};break;case"bolditalic":st={family:Xe,weight:"bold",style:"italic"};break;case"":case"normal":st={family:Xe}}st!==null&&(st.ref={name:Xe,style:at},We.push(st))})}),We}(Te.getFontList());ut=function(yt){for(var We={},Xe=0;Xe<yt.length;++Xe){var at=uE(yt[Xe]),st=at.family,Et=at.stretch,Ht=at.style,Qt=at.weight;We[st]=We[st]||{},We[st][Et]=We[st][Et]||{},We[st][Et][Ht]=We[st][Et][Ht]||{},We[st][Et][Ht][Qt]=at}return We}(Wt.concat(K))}return ut}var kt=null;Object.defineProperty(this,"fontFaces",{get:function(){return kt},set:function(Te){ut=null,kt=Te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Te){var K;if(this.ctx.font=Te,(K=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Te))!==null){var Wt=K[1],yt=(K[2],K[3]),We=K[4],Xe=(K[5],K[6]),at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(We)[2];We=Math.floor(at==="px"?parseFloat(We)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(We)*this.pdf.getFontSize():parseFloat(We)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(We);var st=function(Gt){var En,ct,gr=[],Pn=Gt.trim();if(Pn==="")return tE;if(Pn in IM)return[IM[Pn]];for(;Pn!=="";){switch(ct=null,En=(Pn=MM(Pn)).charAt(0)){case'"':case"'":ct=Iee(Pn.substring(1),En);break;default:ct=Tee(Pn)}if(ct===null||(gr.push(ct[0]),(Pn=MM(ct[1]))!==""&&Pn.charAt(0)!==","))return tE;Pn=Pn.replace(/^,/,"")}return gr}(Xe);if(this.fontFaces){var Et=Dee(nt(this.pdf,this.fontFaces),st.map(function(Gt){return{family:Gt,stretch:"normal",weight:yt,style:Wt}}));this.pdf.setFont(Et.ref.name,Et.ref.style)}else{var Ht="";(yt==="bold"||parseInt(yt,10)>=700||Wt==="bold")&&(Ht="bold"),Wt==="italic"&&(Ht+="italic"),Ht.length===0&&(Ht="normal");for(var Qt="",pn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Cn=0;Cn<st.length;Cn++){if(this.pdf.internal.getFont(st[Cn],Ht,{noFallback:!0,disableWarning:!0})!==void 0){Qt=st[Cn];break}if(Ht==="bolditalic"&&this.pdf.internal.getFont(st[Cn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Qt=st[Cn],Ht="bold";else if(this.pdf.internal.getFont(st[Cn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Qt=st[Cn],Ht="normal";break}}if(Qt===""){for(var kn=0;kn<st.length;kn++)if(pn[st[kn]]){Qt=pn[st[kn]];break}}Qt=Qt===""?"Times":Qt,this.pdf.setFont(Qt,Ht)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Te){this.ctx.globalCompositeOperation=Te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Te){this.ctx.globalAlpha=Te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Te){this.ctx.lineDashOffset=Te,Je.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Te){this.ctx.lineDash=Te,Je.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Te){this.ctx.ignoreClearRect=!!Te}})};y.prototype.setLineDash=function(N){this.lineDash=N},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){te.call(this,"fill",!1)},y.prototype.stroke=function(){te.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(N,H){if(isNaN(N)||isNaN(H))throw ii.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new s(N,H));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(N,H)},y.prototype.closePath=function(){var N=new s(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Qn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){N=new s(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(N.x,N.y)},y.prototype.lineTo=function(N,H){if(isNaN(N)||isNaN(H))throw ii.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new s(N,H));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(z.x,z.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),te.call(this,null,!0)},y.prototype.quadraticCurveTo=function(N,H,z,ee){if(isNaN(z)||isNaN(ee)||isNaN(N)||isNaN(H))throw ii.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new s(z,ee)),fe=this.ctx.transform.applyToPoint(new s(N,H));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:de.x,y:de.y}),this.ctx.lastPoint=new s(de.x,de.y)},y.prototype.bezierCurveTo=function(N,H,z,ee,de,fe){if(isNaN(de)||isNaN(fe)||isNaN(N)||isNaN(H)||isNaN(z)||isNaN(ee))throw ii.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new s(de,fe)),ye=this.ctx.transform.applyToPoint(new s(N,H)),Ye=this.ctx.transform.applyToPoint(new s(z,ee));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:Ye.x,y2:Ye.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new s(_e.x,_e.y)},y.prototype.arc=function(N,H,z,ee,de,fe){if(isNaN(N)||isNaN(H)||isNaN(z)||isNaN(ee)||isNaN(de))throw ii.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new s(N,H));N=_e.x,H=_e.y;var ye=this.ctx.transform.applyToPoint(new s(0,z)),Ye=this.ctx.transform.applyToPoint(new s(0,0));z=Math.sqrt(Math.pow(ye.x-Ye.x,2)+Math.pow(ye.y-Ye.y,2))}Math.abs(de-ee)>=2*Math.PI&&(ee=0,de=2*Math.PI),this.path.push({type:"arc",x:N,y:H,radius:z,startAngle:ee,endAngle:de,counterclockwise:fe})},y.prototype.arcTo=function(N,H,z,ee,de){throw new Error("arcTo not implemented.")},y.prototype.rect=function(N,H,z,ee){if(isNaN(N)||isNaN(H)||isNaN(z)||isNaN(ee))throw ii.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,H),this.lineTo(N+z,H),this.lineTo(N+z,H+ee),this.lineTo(N,H+ee),this.lineTo(N,H),this.lineTo(N+z,H),this.lineTo(N,H)},y.prototype.fillRect=function(N,H,z,ee){if(isNaN(N)||isNaN(H)||isNaN(z)||isNaN(ee))throw ii.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var de={};this.lineCap!=="butt"&&(de.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,H,z,ee),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},y.prototype.strokeRect=function(N,H,z,ee){if(isNaN(N)||isNaN(H)||isNaN(z)||isNaN(ee))throw ii.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(N,H,z,ee),this.stroke())},y.prototype.clearRect=function(N,H,z,ee){if(isNaN(N)||isNaN(H)||isNaN(z)||isNaN(ee))throw ii.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,H,z,ee))},y.prototype.save=function(N){N=typeof N!="boolean"||N;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},y.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(H),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(N){var H,z,ee,de;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))H=0,z=0,ee=0,de=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(fe!==null)H=parseInt(fe[1]),z=parseInt(fe[2]),ee=parseInt(fe[3]),de=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)H=parseInt(fe[1]),z=parseInt(fe[2]),ee=parseInt(fe[3]),de=parseFloat(fe[4]);else{if(de=1,typeof N=="string"&&N.charAt(0)!=="#"){var _e=new BM(N);N=_e.ok?_e.toHex():"#000000"}N.length===4?(H=N.substring(1,2),H+=H,z=N.substring(2,3),z+=z,ee=N.substring(3,4),ee+=ee):(H=N.substring(1,3),z=N.substring(3,5),ee=N.substring(5,7)),H=parseInt(H,16),z=parseInt(z,16),ee=parseInt(ee,16)}}return{r:H,g:z,b:ee,a:de,style:N}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(N,H,z,ee){if(isNaN(H)||isNaN(z)||typeof N!="string")throw ii.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!_.call(this)){var de=ie(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;U.call(this,{text:N,x:H,y:z,scale:fe,angle:de,align:this.textAlign,maxWidth:ee})}},y.prototype.strokeText=function(N,H,z,ee){if(isNaN(H)||isNaN(z)||typeof N!="string")throw ii.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){ee=isNaN(ee)?void 0:ee;var de=ie(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;U.call(this,{text:N,x:H,y:z,scale:fe,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:ee})}},y.prototype.measureText=function(N){if(typeof N!="string")throw ii.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,z=this.pdf.internal.scaleFactor,ee=H.internal.getFontSize(),de=H.getStringUnitWidth(N)*ee/H.internal.scaleFactor,fe=function(_e){var ye=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this};return new fe({width:de*=Math.round(96*z/72*1e4)/1e4})},y.prototype.scale=function(N,H){if(isNaN(N)||isNaN(H))throw ii.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new d(N,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},y.prototype.rotate=function(N){if(isNaN(N))throw ii.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new d(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},y.prototype.translate=function(N,H){if(isNaN(N)||isNaN(H))throw ii.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new d(1,0,0,1,N,H);this.ctx.transform=this.ctx.transform.multiply(z)},y.prototype.transform=function(N,H,z,ee,de,fe){if(isNaN(N)||isNaN(H)||isNaN(z)||isNaN(ee)||isNaN(de)||isNaN(fe))throw ii.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new d(N,H,z,ee,de,fe);this.ctx.transform=this.ctx.transform.multiply(_e)},y.prototype.setTransform=function(N,H,z,ee,de,fe){N=isNaN(N)?1:N,H=isNaN(H)?0:H,z=isNaN(z)?0:z,ee=isNaN(ee)?1:ee,de=isNaN(de)?0:de,fe=isNaN(fe)?0:fe,this.ctx.transform=new d(N,H,z,ee,de,fe)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(N,H,z,ee,de,fe,_e,ye,Ye){var Ue=this.pdf.getImageProperties(N),ut=1,nt=1,kt=1,Te=1;ee!==void 0&&ye!==void 0&&(kt=ye/ee,Te=Ye/de,ut=Ue.width/ee*ye/ee,nt=Ue.height/de*Ye/de),fe===void 0&&(fe=H,_e=z,H=0,z=0),ee!==void 0&&ye===void 0&&(ye=ee,Ye=de),ee===void 0&&ye===void 0&&(ye=Ue.width,Ye=Ue.height);for(var K,Wt=this.ctx.transform.decompose(),yt=ie(Wt.rotate.shx),We=new d,Xe=(We=(We=(We=We.multiply(Wt.translate)).multiply(Wt.skew)).multiply(Wt.scale)).applyToRectangle(new l(fe-H*kt,_e-z*Te,ee*ut,de*nt)),at=L.call(this,Xe),st=[],Et=0;Et<at.length;Et+=1)st.indexOf(at[Et])===-1&&st.push(at[Et]);if(W(st),this.autoPaging)for(var Ht=st[0],Qt=st[st.length-1],pn=Ht;pn<Qt+1;pn++){this.pdf.setPage(pn);var Cn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kn=pn===1?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],En=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=pn===1?0:Gt+(pn-2)*En;if(this.ctx.clip_path.length!==0){var gr=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(K,this.posX+this.margin[3],-ct+kn+this.ctx.prevPageLastElemOffset),le.call(this,"fill",!0),this.path=gr}var Pn=JSON.parse(JSON.stringify(Xe));Pn=k([Pn],this.posX+this.margin[3],-ct+kn+this.ctx.prevPageLastElemOffset)[0];var ss=(pn>Ht||pn<Qt)&&w.call(this);ss&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Cn,En,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",Pn.x,Pn.y,Pn.w,Pn.h,null,null,yt),ss&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,yt)};var L=function(N,H,z){var ee=[];H=H||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":ee.push(Math.floor((N.y+de)/z)+1);break;case"arc":ee.push(Math.floor((N.y+de-N.radius)/z)+1),ee.push(Math.floor((N.y+de+N.radius)/z)+1);break;case"qct":var fe=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);ee.push(Math.floor((fe.y+de)/z)+1),ee.push(Math.floor((fe.y+fe.h+de)/z)+1);break;case"bct":var _e=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);ee.push(Math.floor((_e.y+de)/z)+1),ee.push(Math.floor((_e.y+_e.h+de)/z)+1);break;case"rect":ee.push(Math.floor((N.y+de)/z)+1),ee.push(Math.floor((N.y+N.h+de)/z)+1)}for(var ye=0;ye<ee.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<ee[ye];)F.call(this);return ee},F=function(){var N=this.fillStyle,H=this.strokeStyle,z=this.font,ee=this.lineCap,de=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=H,this.font=z,this.lineCap=ee,this.lineWidth=de,this.lineJoin=fe},k=function(N,H,z){for(var ee=0;ee<N.length;ee++)switch(N[ee].type){case"bct":N[ee].x2+=H,N[ee].y2+=z;case"qct":N[ee].x1+=H,N[ee].y1+=z;case"mt":case"lt":case"arc":default:N[ee].x+=H,N[ee].y+=z}return N},W=function(N){return N.sort(function(H,z){return H-z})},te=function(N,H){for(var z,ee,de=this.fillStyle,fe=this.strokeStyle,_e=this.lineCap,ye=this.lineWidth,Ye=Math.abs(ye*this.ctx.transform.scaleX),Ue=this.lineJoin,ut=JSON.parse(JSON.stringify(this.path)),nt=JSON.parse(JSON.stringify(this.path)),kt=[],Te=0;Te<nt.length;Te++)if(nt[Te].x!==void 0)for(var K=L.call(this,nt[Te]),Wt=0;Wt<K.length;Wt+=1)kt.indexOf(K[Wt])===-1&&kt.push(K[Wt]);for(var yt=0;yt<kt.length;yt++)for(;this.pdf.internal.getNumberOfPages()<kt[yt];)F.call(this);if(W(kt),this.autoPaging)for(var We=kt[0],Xe=kt[kt.length-1],at=We;at<Xe+1;at++){this.pdf.setPage(at),this.fillStyle=de,this.strokeStyle=fe,this.lineCap=_e,this.lineWidth=Ye,this.lineJoin=Ue;var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=at===1?this.posY+this.margin[0]:this.margin[0],Ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pn=at===1?0:Ht+(at-2)*Qt;if(this.ctx.clip_path.length!==0){var Cn=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(z,this.posX+this.margin[3],-pn+Et+this.ctx.prevPageLastElemOffset),le.call(this,N,!0),this.path=Cn}if(ee=JSON.parse(JSON.stringify(ut)),this.path=k(ee,this.posX+this.margin[3],-pn+Et+this.ctx.prevPageLastElemOffset),H===!1||at===0){var kn=(at>We||at<Xe)&&w.call(this);kn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Qt,null).clip().discardPath()),le.call(this,N,H),kn&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}else this.lineWidth=Ye,le.call(this,N,H),this.lineWidth=ye;this.path=ut},le=function(N,H){if((N!=="stroke"||H||!A.call(this))&&(N==="stroke"||H||!_.call(this))){for(var z,ee,de=[],fe=this.path,_e=0;_e<fe.length;_e++){var ye=fe[_e];switch(ye.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:ye,deltas:[],abs:[]});break;case"lt":var Ye=de.length;if(fe[_e-1]&&!isNaN(fe[_e-1].x)&&(z=[ye.x-fe[_e-1].x,ye.y-fe[_e-1].y],Ye>0)){for(;Ye>=0;Ye--)if(de[Ye-1].close!==!0&&de[Ye-1].begin!==!0){de[Ye-1].deltas.push(z),de[Ye-1].abs.push(ye);break}}break;case"bct":z=[ye.x1-fe[_e-1].x,ye.y1-fe[_e-1].y,ye.x2-fe[_e-1].x,ye.y2-fe[_e-1].y,ye.x-fe[_e-1].x,ye.y-fe[_e-1].y],de[de.length-1].deltas.push(z);break;case"qct":var Ue=fe[_e-1].x+2/3*(ye.x1-fe[_e-1].x),ut=fe[_e-1].y+2/3*(ye.y1-fe[_e-1].y),nt=ye.x+2/3*(ye.x1-ye.x),kt=ye.y+2/3*(ye.y1-ye.y),Te=ye.x,K=ye.y;z=[Ue-fe[_e-1].x,ut-fe[_e-1].y,nt-fe[_e-1].x,kt-fe[_e-1].y,Te-fe[_e-1].x,K-fe[_e-1].y],de[de.length-1].deltas.push(z);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(ye)}}ee=H?null:N==="stroke"?"stroke":"fill";for(var Wt=!1,yt=0;yt<de.length;yt++)if(de[yt].arc)for(var We=de[yt].abs,Xe=0;Xe<We.length;Xe++){var at=We[Xe];at.type==="arc"?Y.call(this,at.x,at.y,at.radius,at.startAngle,at.endAngle,at.counterclockwise,void 0,H,!Wt):J.call(this,at.x,at.y),Wt=!0}else if(de[yt].close===!0)this.pdf.internal.out("h"),Wt=!1;else if(de[yt].begin!==!0){var st=de[yt].start.x,Et=de[yt].start.y;Q.call(this,de[yt].deltas,st,Et),Wt=!0}ee&&me.call(this,ee),H&&xe.call(this)}},ge=function(N){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-z;case"top":return N+H-z;case"hanging":return N+H-2*z;case"middle":return N+H/2-z;case"ideographic":return N;case"alphabetic":default:return N}},re=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(H,z){this.colorStops.push([H,z])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Y=function(N,H,z,ee,de,fe,_e,ye,Ye){for(var Ue=X.call(this,z,ee,de,fe),ut=0;ut<Ue.length;ut++){var nt=Ue[ut];ut===0&&(Ye?V.call(this,nt.x1+N,nt.y1+H):J.call(this,nt.x1+N,nt.y1+H)),Ce.call(this,N,H,nt.x2,nt.y2,nt.x3,nt.y3,nt.x4,nt.y4)}ye?xe.call(this):me.call(this,_e)},me=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},xe=function(){this.pdf.clip(),this.pdf.discardPath()},V=function(N,H){this.pdf.internal.out(t(N)+" "+i(H)+" m")},U=function(N){var H;switch(N.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var z=this.pdf.getTextDimensions(N.text),ee=ge.call(this,N.y),de=re.call(this,ee)-z.h,fe=this.ctx.transform.applyToPoint(new s(N.x,ee)),_e=this.ctx.transform.decompose(),ye=new d;ye=(ye=(ye=ye.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var Ye,Ue,ut,nt=this.ctx.transform.applyToRectangle(new l(N.x,ee,z.w,z.h)),kt=ye.applyToRectangle(new l(N.x,de,z.w,z.h)),Te=L.call(this,kt),K=[],Wt=0;Wt<Te.length;Wt+=1)K.indexOf(Te[Wt])===-1&&K.push(Te[Wt]);if(W(K),this.autoPaging)for(var yt=K[0],We=K[K.length-1],Xe=yt;Xe<We+1;Xe++){this.pdf.setPage(Xe);var at=Xe===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[2],Ht=Et-this.margin[0],Qt=this.pdf.internal.pageSize.width-this.margin[1],pn=Qt-this.margin[3],Cn=Xe===1?0:st+(Xe-2)*Ht;if(this.ctx.clip_path.length!==0){var kn=this.path;Ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Ye,this.posX+this.margin[3],-1*Cn+at),le.call(this,"fill",!0),this.path=kn}var Gt=k([JSON.parse(JSON.stringify(kt))],this.posX+this.margin[3],-Cn+at+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(Ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ue*N.scale),ut=this.lineWidth,this.lineWidth=ut*N.scale);var En=this.autoPaging!=="text";if(En||Gt.y+Gt.h<=Et){if(En||Gt.y>=at&&Gt.x<=Qt){var ct=En?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Qt-Gt.x)[0],gr=k([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-Cn+at+this.ctx.prevPageLastElemOffset)[0],Pn=En&&(Xe>yt||Xe<We)&&w.call(this);Pn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pn,Ht,null).clip().discardPath()),this.pdf.text(ct,gr.x,gr.y,{angle:N.angle,align:H,renderingMode:N.renderingMode}),Pn&&this.pdf.restoreGraphicsState()}}else Gt.y<Et&&(this.ctx.prevPageLastElemOffset+=Et-Gt.y);N.scale>=.01&&(this.pdf.setFontSize(Ue),this.lineWidth=ut)}else N.scale>=.01&&(Ue=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ue*N.scale),ut=this.lineWidth,this.lineWidth=ut*N.scale),this.pdf.text(N.text,fe.x+this.posX,fe.y+this.posY,{angle:N.angle,align:H,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(Ue),this.lineWidth=ut)},J=function(N,H,z,ee){z=z||0,ee=ee||0,this.pdf.internal.out(t(N+z)+" "+i(H+ee)+" l")},Q=function(N,H,z){return this.pdf.lines(N,H,z,null,null)},Ce=function(N,H,z,ee,de,fe,_e,ye){this.pdf.internal.out([e(r(z+N)),e(o(ee+H)),e(r(de+N)),e(o(fe+H)),e(r(_e+N)),e(o(ye+H)),"c"].join(" "))},X=function(N,H,z,ee){for(var de=2*Math.PI,fe=Math.PI/2;H>z;)H-=de;var _e=Math.abs(z-H);_e<de&&ee&&(_e=de-_e);for(var ye=[],Ye=ee?-1:1,Ue=H;_e>1e-5;){var ut=Ue+Ye*Math.min(_e,fe);ye.push(ue.call(this,N,Ue,ut)),_e-=Math.abs(ut-Ue),Ue=ut}return ye},ue=function(N,H,z){var ee=(z-H)/2,de=N*Math.cos(ee),fe=N*Math.sin(ee),_e=de,ye=-fe,Ye=_e*_e+ye*ye,Ue=Ye+_e*de+ye*fe,ut=4/3*(Math.sqrt(2*Ye*Ue)-Ue)/(_e*fe-ye*de),nt=_e-ut*ye,kt=ye+ut*_e,Te=nt,K=-kt,Wt=ee+H,yt=Math.cos(Wt),We=Math.sin(Wt);return{x1:N*Math.cos(H),y1:N*Math.sin(H),x2:nt*yt-kt*We,y2:nt*We+kt*yt,x3:Te*yt-K*We,y3:Te*We+K*yt,x4:N*Math.cos(z),y4:N*Math.sin(z)}},ie=function(N){return 180*N/Math.PI},ve=function(N,H,z,ee,de,fe){var _e=N+.5*(z-N),ye=H+.5*(ee-H),Ye=de+.5*(z-de),Ue=fe+.5*(ee-fe),ut=Math.min(N,de,_e,Ye),nt=Math.max(N,de,_e,Ye),kt=Math.min(H,fe,ye,Ue),Te=Math.max(H,fe,ye,Ue);return new l(ut,kt,nt-ut,Te-kt)},we=function(N,H,z,ee,de,fe,_e,ye){var Ye,Ue,ut,nt,kt,Te,K,Wt,yt,We,Xe,at,st,Et,Ht=z-N,Qt=ee-H,pn=de-z,Cn=fe-ee,kn=_e-de,Gt=ye-fe;for(Ue=0;Ue<41;Ue++)yt=(K=(ut=N+(Ye=Ue/40)*Ht)+Ye*((kt=z+Ye*pn)-ut))+Ye*(kt+Ye*(de+Ye*kn-kt)-K),We=(Wt=(nt=H+Ye*Qt)+Ye*((Te=ee+Ye*Cn)-nt))+Ye*(Te+Ye*(fe+Ye*Gt-Te)-Wt),Ue==0?(Xe=yt,at=We,st=yt,Et=We):(Xe=Math.min(Xe,yt),at=Math.min(at,We),st=Math.max(st,yt),Et=Math.max(Et,We));return new l(Math.round(Xe),Math.round(at),Math.round(st-Xe),Math.round(Et-at))},Je=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,H,z=(N=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:H}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(qt.API),function(n){var e=function(o){var s,l,d,m,g,y,S,_,A,w;for(/[^\x00-\xFF]/.test(o),l=[],d=0,m=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;m>d;d+=4)(g=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(y=(g=((g=((g=((g=(g-(w=g%85))/85)-(A=g%85))/85)-(_=g%85))/85)-(S=g%85))/85)%85,l.push(y+33,S+33,_+33,A+33,w+33)):l.push(122);return function(L,F){for(var k=F;k>0;k--)L.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},t=function(o){var s,l,d,m,g,y=String,S="length",_=255,A="charCodeAt",w="slice",L="replace";for(o[w](-2),o=o[w](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),d=[],m=0,g=(o+=s="uuuuu"[w](o[S]%5||5))[S];g>m;m+=5)l=52200625*(o[A](m)-33)+614125*(o[A](m+1)-33)+7225*(o[A](m+2)-33)+85*(o[A](m+3)-33)+(o[A](m+4)-33),d.push(_&l>>24,_&l>>16,_&l>>8,_&l);return function(F,k){for(var W=k;W>0;W--)F.pop()}(d,s[S]),y.fromCharCode.apply(y,d)},i=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var l="",d=0;d<o.length;d+=2)l+=String.fromCharCode("0x"+(o[d]+o[d+1]));return l},r=function(o){for(var s=new Uint8Array(o.length),l=o.length;l--;)s[l]=o.charCodeAt(l);return o=(s=p1(s)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};n.processDataByFilters=function(o,s){var l=0,d=o||"",m=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map(function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)}).join("")+">",m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=r(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}}(qt.API),function(n){n.loadFile=function(e,t,i){return function(r,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(d,m,g){var y=new XMLHttpRequest,S=0,_=function(A){var w=A.length,L=[],F=String.fromCharCode;for(S=0;S<w;S+=1)L.push(F(255&A.charCodeAt(S)));return L.join("")};if(y.open("GET",d,!m),y.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(y.onload=function(){y.status===200?g(_(this.responseText)):g(void 0)}),y.send(null),m&&y.status===200)return _(y.responseText)}(r,o,s)}catch{}return l}(e,t,i)},n.loadImageFile=n.loadFile}(qt.API),function(n){function e(){return($t.html2canvas?Promise.resolve($t.html2canvas):import("./chunk-WIELM4ZQ.js")).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return($t.DOMPurify?Promise.resolve($t.DOMPurify):import("./chunk-VU7IBUSQ.js")).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var i=function(s){var l=Qn(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(s,l){var d=document.createElement(s);for(var m in l.className&&(d.className=l.className),l.innerHTML&&l.dompurify&&(d.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)d.style[m]=l.style[m];return d},o=function s(l){var d=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),m=s.convert(Promise.resolve(),d);return m=(m=m.setProgress(1,s,1,[s])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,l){return s.__proto__=l||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(d){switch(i(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(d){return this.set({src:r("div",{innerHTML:s,dompurify:d})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function d(m,g){for(var y=m.nodeType===3?document.createTextNode(m.nodeValue):m.cloneNode(!1),S=m.firstChild;S;S=S.nextSibling)g!==!0&&S.nodeType===1&&S.nodeName==="SCRIPT"||y.appendChild(d(S,g));return m.nodeType===1&&(m.nodeName==="CANVAS"?(y.width=m.width,y.height=m.height,y.getContext("2d").drawImage(m,0,0)):m.nodeName!=="TEXTAREA"&&m.nodeName!=="SELECT"||(y.value=m.value),y.addEventListener("load",function(){y.scrollTop=m.scrollTop,y.scrollLeft=m.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,l(this.prop.container,d)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var d=this.opt.jsPDF,m=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var S=0;S<m.length;++S){var _=m[S],A=_.src.find(function(w){return w.format==="truetype"});A&&d.addFont(A.url,_.ref.name,_.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,d.context2d.save(!0),l(this.prop.container,y)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,l,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},o.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(i(s)!=="object")return this;var l=Object.keys(s||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=s[d]};switch(d){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[d]=s[d]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(s,l){return this.then(function(){var d=s in o.template.prop?this.prop[s]:this.opt[s];return l?l(d):d})},o.prototype.setMargin=function(s){return this.then(function(){switch(i(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function l(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(s=s||qt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,l,d,m){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,l,d,m){return this.setProgress(s?this.progress.val+s:null,l||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},o.prototype.then=function(s,l){var d=this;return this.thenCore(s,l,function(m,g){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(y){return d.updateProgress(null,m),y}).then(m,g).then(function(y){return d.updateProgress(1),y})})},o.prototype.thenCore=function(s,l,d){d=d||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),g=d.call(m,s,l);return o.convert(g,this.__proto__)},o.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},o.prototype.thenList=function(s){var l=this;return s.forEach(function(d){l=l.thenCore(d)}),l},o.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return o.convert(l,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,qt.getPageSize=function(s,l,d){if(Qn(s)==="object"){var m=s;s=m.orientation,l=m.unit||l,d=m.format||d}l=l||"mm",d=d||"a4",s=(""+(s||"P")).toLowerCase();var g,y=(""+d).toLowerCase(),S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var _,A=0,w=0;if(S.hasOwnProperty(y))A=S[y][1]/g,w=S[y][0]/g;else try{A=d[1],w=d[0]}catch{throw new Error("Invalid format: "+d)}if(s==="p"||s==="portrait")s="p",w>A&&(_=w,w=A,A=_);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",A>w&&(_=w,w=A,A=_)}return{width:w,height:A,unit:l,k:g,orientation:s}},n.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(uE):null;var d=new o(l);return l.worker?d:d.from(s).doCallback()}}(qt.API),qt.API.addJS=function(n){return NM=n,this.internal.events.subscribe("postPutResources",function(){h1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(h1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),FM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+NM+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){h1!==void 0&&FM!==void 0&&this.internal.out("/Names <</JavaScript "+h1+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),o=0;o<r.length;o++){var s=r[o],l=i.exec(s);if(l!=null){var d=l[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,g=[];for(o=0;o<m;o++){var y=t.internal.newObject();g.push(y);var S=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var _=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+_+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,r,o){var s={title:r,options:o,children:[]};return i==null&&(i=this.root),i.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var s=i.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var d=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var m=0;m<i.children.length;m++)this.renderItems(i.children[m])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,r){for(var o=0;o<r.children.length;o++)i.count++,this.count_r(i,r.children[o]);return i.count}}])}(qt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,r,o,s,l){var d,m=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(d=function(y){for(var S,_=256*y.charCodeAt(4)+y.charCodeAt(5),A=y.length,w={width:0,height:0,numcomponents:1},L=4;L<A;L+=2){if(L+=_,e.indexOf(y.charCodeAt(L+1))!==-1){S=256*y.charCodeAt(L+5)+y.charCodeAt(L+6),w={width:256*y.charCodeAt(L+7)+y.charCodeAt(L+8),height:S,numcomponents:y.charCodeAt(L+9)};break}_=256*y.charCodeAt(L+2)+y.charCodeAt(L+3)}return w}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}g={data:t,width:d.width,height:d.height,colorSpace:l,bitsPerComponent:8,filter:m,index:i,alias:r}}return g}}(qt.API);var _0,g1,PM,OM,RM,Mee=function(){var n,e,t;function i(o){var s,l,d,m,g,y,S,_,A,w,L,F,k,W;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(s=this.readUInt32(),A=function(){var te,le;for(le=[],te=0;te<4;++te)le.push(String.fromCharCode(this.data[this.pos++]));return le}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},g=this.readUInt16(),m=this.readUInt16()||100,y.delay=1e3*g/m,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(A==="fdAT"&&(this.pos+=4,s-=4),o=y?.data||this.imgData,F=0;0<=s?F<s:F>s;0<=s?++F:--F)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((w=d-this.transparency.indexed.length)>0)for(k=0;0<=w?k<w:k>w;0<=w?++k:--k)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":S=(L=this.read(s)).indexOf(0),_=String.fromCharCode.apply(String,L.slice(0,S)),this.text[_]=String.fromCharCode.apply(String,L.slice(S+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(W=this.colorType)===4||W===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(o){var s,l;for(l=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)l.push(this.data[this.pos++]);return l},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(o){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),d=0,m=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function g(y,S,_,A){var w,L,F,k,W,te,le,ge,re,Y,me,xe,V,U,J,Q,Ce,X,ue,ie,ve,we=Math.ceil((m.width-y)/_),Je=Math.ceil((m.height-S)/A),N=m.width==we&&m.height==Je;for(U=s*we,xe=N?l:new Uint8Array(U*Je),te=o.length,V=0,L=0;V<Je&&d<te;){switch(o[d++]){case 0:for(k=Ce=0;Ce<U;k=Ce+=1)xe[L++]=o[d++];break;case 1:for(k=X=0;X<U;k=X+=1)w=o[d++],W=k<s?0:xe[L-s],xe[L++]=(w+W)%256;break;case 2:for(k=ue=0;ue<U;k=ue+=1)w=o[d++],F=(k-k%s)/s,J=V&&xe[(V-1)*U+F*s+k%s],xe[L++]=(J+w)%256;break;case 3:for(k=ie=0;ie<U;k=ie+=1)w=o[d++],F=(k-k%s)/s,W=k<s?0:xe[L-s],J=V&&xe[(V-1)*U+F*s+k%s],xe[L++]=(w+Math.floor((W+J)/2))%256;break;case 4:for(k=ve=0;ve<U;k=ve+=1)w=o[d++],F=(k-k%s)/s,W=k<s?0:xe[L-s],V===0?J=Q=0:(J=xe[(V-1)*U+F*s+k%s],Q=F&&xe[(V-1)*U+(F-1)*s+k%s]),le=W+J-Q,ge=Math.abs(le-W),Y=Math.abs(le-J),me=Math.abs(le-Q),re=ge<=Y&&ge<=me?W:Y<=me?J:Q,xe[L++]=(w+re)%256;break;default:throw new Error("Invalid filter algorithm: "+o[d-1])}if(!N){var H=((S+V*A)*m.width+y)*s,z=V*U;for(k=0;k<we;k+=1){for(var ee=0;ee<s;ee+=1)l[H++]=xe[z++];H+=(_-1)*s}}V++}}return o=EM(o),m.interlaceMethod==1?(g(0,0,8,8),g(4,0,8,8),g(0,4,4,8),g(2,0,4,4),g(0,2,2,4),g(1,0,2,2),g(0,1,1,2)):g(0,0,1,1),l},i.prototype.decodePalette=function(){var o,s,l,d,m,g,y,S,_;for(l=this.palette,g=this.transparency.indexed||[],m=new Uint8Array((g.length||0)+l.length),d=0,o=0,s=y=0,S=l.length;y<S;s=y+=3)m[d++]=l[s],m[d++]=l[s+1],m[d++]=l[s+2],m[d++]=(_=g[o++])!=null?_:255;return m},i.prototype.copyToImageData=function(o,s){var l,d,m,g,y,S,_,A,w,L,F;if(d=this.colors,w=null,l=this.hasAlphaChannel,this.palette.length&&(w=(F=this._decodedPalette)!=null?F:this._decodedPalette=this.decodePalette(),d=4,l=!0),A=(m=o.data||o).length,y=w||s,g=S=0,d===1)for(;g<A;)_=w?4*s[g/4]:S,L=y[_++],m[g++]=L,m[g++]=L,m[g++]=L,m[g++]=l?y[_++]:255,S=_;else for(;g<A;)_=w?4*s[g/4]:S,m[g++]=y[_++],m[g++]=y[_++],m[g++]=y[_++],m[g++]=l?y[_++]:255,S=_},i.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var r=function(){if(Object.prototype.toString.call($t)==="[object Window]"){try{e=$t.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(o){var s;if(r()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(o){var s,l,d,m,g,y,S,_;if(this.animation){for(_=[],l=g=0,y=(S=this.animation.frames).length;g<y;l=++g)s=S[l],d=o.createImageData(s.width,s.height),m=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(d,m),s.imageData=d,_.push(s.image=n(d));return _}},i.prototype.renderFrame=function(o,s){var l,d,m;return l=(d=this.animation.frames)[s],m=d[s-1],s===0&&o.clearRect(0,0,this.width,this.height),m?.disposeOp===1?o.clearRect(m.xOffset,m.yOffset,m.width,m.height):m?.disposeOp===2&&o.putImageData(m.imageData,m.xOffset,m.yOffset),l.blendOp===0&&o.clearRect(l.xOffset,l.yOffset,l.width,l.height),o.drawImage(l.image,l.xOffset,l.yOffset)},i.prototype.animate=function(o){var s,l,d,m,g,y,S=this;return l=0,y=this.animation,m=y.numFrames,d=y.frames,g=y.numPlays,(s=function(){var _,A;if(_=l++%m,A=d[_],S.renderFrame(o,_),m>1&&l/m<g)return S.animation._timeout=setTimeout(s,A.delay)})()},i.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},i.prototype.render=function(o){var s,l;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,s=o.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},i}();function Fee(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,r=n[e++],o=r>>7,s=1<<(7&r)+1;n[e++],n[e++];var l=null,d=null;o&&(l=e,d=s,e+=3*s);var m=!0,g=[],y=0,S=null,_=0,A=null;for(this.width=t,this.height=i;m&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,A=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((V=n[e++])>=0))throw Error("Invalid block size");if(V===0)break;e+=V}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=n[e++];y=n[e++]|n[e++]<<8,S=n[e++],!(1&w)&&(S=null),_=w>>2&7,e++;break;case 254:for(;;){if(!((V=n[e++])>=0))throw Error("Invalid block size");if(V===0)break;e+=V}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var L=n[e++]|n[e++]<<8,F=n[e++]|n[e++]<<8,k=n[e++]|n[e++]<<8,W=n[e++]|n[e++]<<8,te=n[e++],le=te>>6&1,ge=1<<(7&te)+1,re=l,Y=d,me=!1;te>>7&&(me=!0,re=e,Y=ge,e+=3*ge);var xe=e;for(e++;;){var V;if(!((V=n[e++])>=0))throw Error("Invalid block size");if(V===0)break;e+=V}g.push({x:L,y:F,width:k,height:W,has_local_palette:me,palette_offset:re,palette_size:Y,data_offset:xe,data_length:e-xe,transparent_index:S,interlaced:!!le,delay:y,disposal:_});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return A},this.frameInfo=function(U){if(U<0||U>=g.length)throw new Error("Frame index out of range.");return g[U]},this.decodeAndBlitFrameBGRA=function(U,J){var Q=this.frameInfo(U),Ce=Q.width*Q.height,X=new Uint8Array(Ce);LM(n,Q.data_offset,X,Ce);var ue=Q.palette_offset,ie=Q.transparent_index;ie===null&&(ie=256);var ve=Q.width,we=t-ve,Je=ve,N=4*(Q.y*t+Q.x),H=4*((Q.y+Q.height)*t+Q.x),z=N,ee=4*we;Q.interlaced===!0&&(ee+=4*t*7);for(var de=8,fe=0,_e=X.length;fe<_e;++fe){var ye=X[fe];if(Je===0&&(Je=ve,(z+=ee)>=H&&(ee=4*we+4*t*(de-1),z=N+(ve+we)*(de<<1),de>>=1)),ye===ie)z+=4;else{var Ye=n[ue+3*ye],Ue=n[ue+3*ye+1],ut=n[ue+3*ye+2];J[z++]=ut,J[z++]=Ue,J[z++]=Ye,J[z++]=255}--Je}},this.decodeAndBlitFrameRGBA=function(U,J){var Q=this.frameInfo(U),Ce=Q.width*Q.height,X=new Uint8Array(Ce);LM(n,Q.data_offset,X,Ce);var ue=Q.palette_offset,ie=Q.transparent_index;ie===null&&(ie=256);var ve=Q.width,we=t-ve,Je=ve,N=4*(Q.y*t+Q.x),H=4*((Q.y+Q.height)*t+Q.x),z=N,ee=4*we;Q.interlaced===!0&&(ee+=4*t*7);for(var de=8,fe=0,_e=X.length;fe<_e;++fe){var ye=X[fe];if(Je===0&&(Je=ve,(z+=ee)>=H&&(ee=4*we+4*t*(de-1),z=N+(ve+we)*(de<<1),de>>=1)),ye===ie)z+=4;else{var Ye=n[ue+3*ye],Ue=n[ue+3*ye+1],ut=n[ue+3*ye+2];J[z++]=Ye,J[z++]=Ue,J[z++]=ut,J[z++]=255}--Je}}}function LM(n,e,t,i){for(var r=n[e++],o=1<<r,s=o+1,l=s+1,d=r+1,m=(1<<d)-1,g=0,y=0,S=0,_=n[e++],A=new Int32Array(4096),w=null;;){for(;g<16&&_!==0;)y|=n[e++]<<g,g+=8,_===1?_=n[e++]:--_;if(g<d)break;var L=y&m;if(y>>=d,g-=d,L!==o){if(L===s)break;for(var F=L<l?L:w,k=0,W=F;W>o;)W=A[W]>>8,++k;var te=W;if(S+k+(F!==L?1:0)>i)return void ii.log("Warning, gif stream longer than expected.");t[S++]=te;var le=S+=k;for(F!==L&&(t[S++]=te),W=F;k--;)W=A[W],t[--le]=255&W,W>>=8;w!==null&&l<4096&&(A[l++]=w<<8|te,l>=m+1&&d<12&&(++d,m=m<<1|1)),w=L}else l=s+1,m=(1<<(d=r+1))-1,w=null}return S!==i&&ii.log("Warning, gif stream shorter than expected."),t}function nE(n){var e,t,i,r,o,s=Math.floor,l=new Array(64),d=new Array(64),m=new Array(64),g=new Array(64),y=new Array(65535),S=new Array(65535),_=new Array(64),A=new Array(64),w=[],L=0,F=7,k=new Array(64),W=new Array(64),te=new Array(64),le=new Array(256),ge=new Array(2048),re=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],me=[0,1,2,3,4,5,6,7,8,9,10,11],xe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],V=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(N,H){for(var z=0,ee=0,de=new Array,fe=1;fe<=16;fe++){for(var _e=1;_e<=N[fe];_e++)de[H[ee]]=[],de[H[ee]][0]=z,de[H[ee]][1]=fe,ee++,z++;z*=2}return de}function ue(N){for(var H=N[0],z=N[1]-1;z>=0;)H&1<<z&&(L|=1<<F),z--,--F<0&&(L==255?(ie(255),ie(0)):ie(L),F=7,L=0)}function ie(N){w.push(N)}function ve(N){ie(N>>8&255),ie(255&N)}function we(N,H,z,ee,de){for(var fe,_e=de[0],ye=de[240],Ye=function(We,Xe){var at,st,Et,Ht,Qt,pn,Cn,kn,Gt,En,ct=0;for(Gt=0;Gt<8;++Gt){at=We[ct],st=We[ct+1],Et=We[ct+2],Ht=We[ct+3],Qt=We[ct+4],pn=We[ct+5],Cn=We[ct+6];var gr=at+(kn=We[ct+7]),Pn=at-kn,ss=st+Cn,Jn=st-Cn,ci=Et+pn,ks=Et-pn,qn=Ht+Qt,fl=Ht-Qt,gi=gr+qn,as=gr-qn,fa=ss+ci,vi=ss-ci;We[ct]=gi+fa,We[ct+4]=gi-fa;var Zt=.707106781*(vi+as);We[ct+2]=as+Zt,We[ct+6]=as-Zt;var $n=.382683433*((gi=fl+ks)-(vi=Jn+Pn)),ml=.5411961*gi+$n,lr=1.306562965*vi+$n,js=.707106781*(fa=ks+Jn),Bs=Pn+js,Bt=Pn-js;We[ct+5]=Bt+ml,We[ct+3]=Bt-ml,We[ct+1]=Bs+lr,We[ct+7]=Bs-lr,ct+=8}for(ct=0,Gt=0;Gt<8;++Gt){at=We[ct],st=We[ct+8],Et=We[ct+16],Ht=We[ct+24],Qt=We[ct+32],pn=We[ct+40],Cn=We[ct+48];var us=at+(kn=We[ct+56]),Vs=at-kn,Hr=st+Cn,Gi=st-Cn,Pi=Et+pn,uo=Et-pn,Ac=Ht+Qt,ma=Ht-Qt,ls=us+Ac,cs=us-Ac,ds=Hr+Pi,Us=Hr-Pi;We[ct]=ls+ds,We[ct+32]=ls-ds;var Po=.707106781*(Us+cs);We[ct+16]=cs+Po,We[ct+48]=cs-Po;var qs=.382683433*((ls=ma+uo)-(Us=Gi+Vs)),hl=.5411961*ls+qs,Dc=1.306562965*Us+qs,Ic=.707106781*(ds=uo+Gi),Tc=Vs+Ic,Mc=Vs-Ic;We[ct+40]=Mc+hl,We[ct+24]=Mc-hl,We[ct+8]=Tc+Dc,We[ct+56]=Tc-Dc,ct++}for(Gt=0;Gt<64;++Gt)En=We[Gt]*Xe[Gt],_[Gt]=En>0?En+.5|0:En-.5|0;return _}(N,H),Ue=0;Ue<64;++Ue)A[re[Ue]]=Ye[Ue];var ut=A[0]-z;z=A[0],ut==0?ue(ee[0]):(ue(ee[S[fe=32767+ut]]),ue(y[fe]));for(var nt=63;nt>0&&A[nt]==0;)nt--;if(nt==0)return ue(_e),z;for(var kt,Te=1;Te<=nt;){for(var K=Te;A[Te]==0&&Te<=nt;)++Te;var Wt=Te-K;if(Wt>=16){kt=Wt>>4;for(var yt=1;yt<=kt;++yt)ue(ye);Wt&=15}fe=32767+A[Te],ue(de[(Wt<<4)+S[fe]]),ue(y[fe]),Te++}return nt!=63&&ue(_e),z}function Je(N){N=Math.min(Math.max(N,1),100),o!=N&&(function(H){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var de=s((z[ee]*H+50)/100);de=Math.min(Math.max(de,1),255),l[re[ee]]=de}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var ye=s((fe[_e]*H+50)/100);ye=Math.min(Math.max(ye,1),255),d[re[_e]]=ye}for(var Ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ue=0,ut=0;ut<8;ut++)for(var nt=0;nt<8;nt++)m[Ue]=1/(l[re[Ue]]*Ye[ut]*Ye[nt]*8),g[Ue]=1/(d[re[Ue]]*Ye[ut]*Ye[nt]*8),Ue++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),o=N)}this.encode=function(N,H){H&&Je(H),w=new Array,L=0,F=7,ve(65496),ve(65504),ve(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),ve(1),ve(1),ie(0),ie(0),function(){ve(65499),ve(132),ie(0);for(var st=0;st<64;st++)ie(l[st]);ie(1);for(var Et=0;Et<64;Et++)ie(d[Et])}(),function(st,Et){ve(65472),ve(17),ie(8),ve(Et),ve(st),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(N.width,N.height),function(){ve(65476),ve(418),ie(0);for(var st=0;st<16;st++)ie(Y[st+1]);for(var Et=0;Et<=11;Et++)ie(me[Et]);ie(16);for(var Ht=0;Ht<16;Ht++)ie(xe[Ht+1]);for(var Qt=0;Qt<=161;Qt++)ie(V[Qt]);ie(1);for(var pn=0;pn<16;pn++)ie(U[pn+1]);for(var Cn=0;Cn<=11;Cn++)ie(J[Cn]);ie(17);for(var kn=0;kn<16;kn++)ie(Q[kn+1]);for(var Gt=0;Gt<=161;Gt++)ie(Ce[Gt])}(),ve(65498),ve(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var z=0,ee=0,de=0;L=0,F=7,this.encode.displayName="_encode_";for(var fe,_e,ye,Ye,Ue,ut,nt,kt,Te,K=N.data,Wt=N.width,yt=N.height,We=4*Wt,Xe=0;Xe<yt;){for(fe=0;fe<We;){for(Ue=We*Xe+fe,nt=-1,kt=0,Te=0;Te<64;Te++)ut=Ue+(kt=Te>>3)*We+(nt=4*(7&Te)),Xe+kt>=yt&&(ut-=We*(Xe+1+kt-yt)),fe+nt>=We&&(ut-=fe+nt-We+4),_e=K[ut++],ye=K[ut++],Ye=K[ut++],k[Te]=(ge[_e]+ge[ye+256>>0]+ge[Ye+512>>0]>>16)-128,W[Te]=(ge[_e+768>>0]+ge[ye+1024>>0]+ge[Ye+1280>>0]>>16)-128,te[Te]=(ge[_e+1280>>0]+ge[ye+1536>>0]+ge[Ye+1792>>0]>>16)-128;z=we(k,m,z,e,i),ee=we(W,g,ee,t,r),de=we(te,g,de,t,r),fe+=32}Xe+=8}if(F>=0){var at=[];at[1]=F+1,at[0]=(1<<F+1)-1,ue(at)}return ve(65497),new Uint8Array(w)},n=n||50,function(){for(var N=String.fromCharCode,H=0;H<256;H++)le[H]=N(H)}(),e=X(Y,me),t=X(U,J),i=X(xe,V),r=X(Q,Ce),function(){for(var N=1,H=2,z=1;z<=15;z++){for(var ee=N;ee<H;ee++)S[32767+ee]=z,y[32767+ee]=[],y[32767+ee][1]=z,y[32767+ee][0]=ee;for(var de=-(H-1);de<=-N;de++)S[32767+de]=z,y[32767+de]=[],y[32767+de][1]=z,y[32767+de][0]=H-1+de;N<<=1,H<<=1}}(),function(){for(var N=0;N<256;N++)ge[N]=19595*N,ge[N+256>>0]=38470*N,ge[N+512>>0]=7471*N+32768,ge[N+768>>0]=-11059*N,ge[N+1024>>0]=-21709*N,ge[N+1280>>0]=32768*N+8421375,ge[N+1536>>0]=-27439*N,ge[N+1792>>0]=-5329*N}(),Je(n)}function Os(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function kM(n){function e(Y){if(!Y)throw Error("assert :P")}function t(Y,me,xe){for(var V=0;4>V;V++)if(Y[me+V]!=xe.charCodeAt(V))return!0;return!1}function i(Y,me,xe,V,U){for(var J=0;J<U;J++)Y[me+J]=xe[V+J]}function r(Y,me,xe,V){for(var U=0;U<V;U++)Y[me+U]=xe}function o(Y){return new Int32Array(Y)}function s(Y,me){for(var xe=[],V=0;V<Y;V++)xe.push(new me);return xe}function l(Y,me){var xe=[];return function V(U,J,Q){for(var Ce=Q[J],X=0;X<Ce&&(U.push(Q.length>J+1?[]:new me),!(Q.length<J+1));X++)V(U[X],J+1,Q)}(xe,0,Y),xe}var d=function(){var Y=this;function me(p,h){for(var b=1<<h-1>>>0;p&b;)b>>>=1;return b?(p&b-1)+b:p}function xe(p,h,b,x,I){e(!(x%b));do p[h+(x-=b)]=I;while(0<x)}function V(p,h,b,x,I){if(e(2328>=I),512>=I)var P=o(512);else if((P=o(I))==null)return 0;return function(R,j,B,$,oe,be){var Ee,pe,Oe=j,De=1<<B,se=o(16),ce=o(16);for(e(oe!=0),e($!=null),e(R!=null),e(0<B),pe=0;pe<oe;++pe){if(15<$[pe])return 0;++se[$[pe]]}if(se[0]==oe)return 0;for(ce[1]=0,Ee=1;15>Ee;++Ee){if(se[Ee]>1<<Ee)return 0;ce[Ee+1]=ce[Ee]+se[Ee]}for(pe=0;pe<oe;++pe)Ee=$[pe],0<$[pe]&&(be[ce[Ee]++]=pe);if(ce[15]==1)return($=new U).g=0,$.value=be[0],xe(R,Oe,1,De,$),De;var Fe,ke=-1,Pe=De-1,pt=0,it=1,Nt=1,lt=1<<B;for(pe=0,Ee=1,oe=2;Ee<=B;++Ee,oe<<=1){if(it+=Nt<<=1,0>(Nt-=se[Ee]))return 0;for(;0<se[Ee];--se[Ee])($=new U).g=Ee,$.value=be[pe++],xe(R,Oe+pt,oe,lt,$),pt=me(pt,Ee)}for(Ee=B+1,oe=2;15>=Ee;++Ee,oe<<=1){if(it+=Nt<<=1,0>(Nt-=se[Ee]))return 0;for(;0<se[Ee];--se[Ee]){if($=new U,(pt&Pe)!=ke){for(Oe+=lt,Fe=1<<(ke=Ee)-B;15>ke&&!(0>=(Fe-=se[ke]));)++ke,Fe<<=1;De+=lt=1<<(Fe=ke-B),R[j+(ke=pt&Pe)].g=Fe+B,R[j+ke].value=Oe-j-ke}$.g=Ee-B,$.value=be[pe++],xe(R,Oe+(pt>>B),oe,lt,$),pt=me(pt,Ee)}}return it!=2*ce[15]-1?0:De}(p,h,b,x,I,P)}function U(){this.value=this.g=0}function J(){this.value=this.g=0}function Q(){this.G=s(5,U),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(cr,J)}function Ce(p,h,b,x){e(p!=null),e(h!=null),e(2147483648>x),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=h,p.pa=b,p.Jd=h,p.Yc=b+x,p.Zc=4<=x?b+x-4+1:b,fe(p)}function X(p,h){for(var b=0;0<h--;)b|=ye(p,128)<<h;return b}function ue(p,h){var b=X(p,h);return _e(p)?-b:b}function ie(p,h,b,x){var I,P=0;for(e(p!=null),e(h!=null),e(4294967288>x),p.Sb=x,p.Ra=0,p.u=0,p.h=0,4<x&&(x=4),I=0;I<x;++I)P+=h[b+I]<<8*I;p.Ra=P,p.bb=x,p.oa=h,p.pa=b}function ve(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<zc-8>>>0,++p.bb,p.u-=8;z(p)&&(p.h=1,p.u=0)}function we(p,h){if(e(0<=h),!p.h&&h<=Hc){var b=H(p)&$c[h];return p.u+=h,ve(p),b}return p.h=1,p.u=0}function Je(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(p){return p.Ra>>>(p.u&zc-1)>>>0}function z(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>zc}function ee(p,h){p.u=h,p.h=z(p)}function de(p){p.u>=Z0&&(e(p.u>=Z0),ve(p))}function fe(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function _e(p){return X(p,1)}function ye(p,h){var b=p.Ca;0>p.b&&fe(p);var x=p.b,I=b*h>>>8,P=(p.I>>>x>I)+0;for(P?(b-=I,p.I-=I+1<<x>>>0):b=I+1,x=b,I=0;256<=x;)I+=8,x>>=8;return x=7^I+Gr[x],p.b-=x,p.Ca=(b<<x)-1,P}function Ye(p,h,b){p[h+0]=b>>24&255,p[h+1]=b>>16&255,p[h+2]=b>>8&255,p[h+3]=b>>0&255}function Ue(p,h){return p[h+0]<<0|p[h+1]<<8}function ut(p,h){return Ue(p,h)|p[h+2]<<16}function nt(p,h){return Ue(p,h)|Ue(p,h+2)<<16}function kt(p,h){var b=1<<h;return e(p!=null),e(0<h),p.X=o(b),p.X==null?0:(p.Mb=32-h,p.Xa=h,1)}function Te(p,h){e(p!=null),e(h!=null),e(p.Xa==h.Xa),i(h.X,0,p.X,0,1<<h.Xa)}function K(){this.X=[],this.Xa=this.Mb=0}function Wt(p,h,b,x){e(b!=null),e(x!=null);var I=b[0],P=x[0];return I==0&&(I=(p*P+h/2)/h),P==0&&(P=(h*I+p/2)/p),0>=I||0>=P?0:(b[0]=I,x[0]=P,1)}function yt(p,h){return p+(1<<h)-1>>>h}function We(p,h){return((4278255360&p)+(4278255360&h)>>>0&4278255360)+((16711935&p)+(16711935&h)>>>0&16711935)>>>0}function Xe(p,h){Y[h]=function(b,x,I,P,R,j,B){var $;for($=0;$<R;++$){var oe=Y[p](j[B+$-1],I,P+$);j[B+$]=We(b[x+$],oe)}}}function at(){this.ud=this.hd=this.jd=0}function st(p,h){return((4278124286&(p^h))>>>1)+(p&h)>>>0}function Et(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Ht(p,h){return Et(p+(p-h+.5>>1))}function Qt(p,h,b){return Math.abs(h-b)-Math.abs(p-b)}function pn(p,h,b,x,I,P,R){for(x=P[R-1],b=0;b<I;++b)P[R+b]=x=We(p[h+b],x)}function Cn(p,h,b,x,I){var P;for(P=0;P<b;++P){var R=p[h+P],j=R>>8&255,B=16711935&(B=(B=16711935&R)+((j<<16)+j));x[I+P]=(4278255360&R)+B>>>0}}function kn(p,h){h.jd=p>>0&255,h.hd=p>>8&255,h.ud=p>>16&255}function Gt(p,h,b,x,I,P){var R;for(R=0;R<x;++R){var j=h[b+R],B=j>>>8,$=j,oe=255&(oe=(oe=j>>>16)+((p.jd<<24>>24)*(B<<24>>24)>>>5));$=255&($=($=$+((p.hd<<24>>24)*(B<<24>>24)>>>5))+((p.ud<<24>>24)*(oe<<24>>24)>>>5)),I[P+R]=(4278255360&j)+(oe<<16)+$}}function En(p,h,b,x,I){Y[h]=function(P,R,j,B,$,oe,be,Ee,pe){for(B=be;B<Ee;++B)for(be=0;be<pe;++be)$[oe++]=I(j[x(P[R++])])},Y[p]=function(P,R,j,B,$,oe,be){var Ee=8>>P.b,pe=P.Ea,Oe=P.K[0],De=P.w;if(8>Ee)for(P=(1<<P.b)-1,De=(1<<Ee)-1;R<j;++R){var se,ce=0;for(se=0;se<pe;++se)se&P||(ce=x(B[$++])),oe[be++]=I(Oe[ce&De]),ce>>=Ee}else Y["VP8LMapColor"+b](B,$,Oe,De,oe,be,R,j,pe)}}function ct(p,h,b,x,I){for(b=h+b;h<b;){var P=p[h++];x[I++]=P>>16&255,x[I++]=P>>8&255,x[I++]=P>>0&255}}function gr(p,h,b,x,I){for(b=h+b;h<b;){var P=p[h++];x[I++]=P>>16&255,x[I++]=P>>8&255,x[I++]=P>>0&255,x[I++]=P>>24&255}}function Pn(p,h,b,x,I){for(b=h+b;h<b;){var P=(R=p[h++])>>16&240|R>>12&15,R=R>>0&240|R>>28&15;x[I++]=P,x[I++]=R}}function ss(p,h,b,x,I){for(b=h+b;h<b;){var P=(R=p[h++])>>16&248|R>>13&7,R=R>>5&224|R>>3&31;x[I++]=P,x[I++]=R}}function Jn(p,h,b,x,I){for(b=h+b;h<b;){var P=p[h++];x[I++]=P>>0&255,x[I++]=P>>8&255,x[I++]=P>>16&255}}function ci(p,h,b,x,I,P){if(P==0)for(b=h+b;h<b;)Ye(x,((P=p[h++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),I+=32;else i(x,I,p,h,b)}function ks(p,h){Y[h][0]=Y[p+"0"],Y[h][1]=Y[p+"1"],Y[h][2]=Y[p+"2"],Y[h][3]=Y[p+"3"],Y[h][4]=Y[p+"4"],Y[h][5]=Y[p+"5"],Y[h][6]=Y[p+"6"],Y[h][7]=Y[p+"7"],Y[h][8]=Y[p+"8"],Y[h][9]=Y[p+"9"],Y[h][10]=Y[p+"10"],Y[h][11]=Y[p+"11"],Y[h][12]=Y[p+"12"],Y[h][13]=Y[p+"13"],Y[h][14]=Y[p+"0"],Y[h][15]=Y[p+"0"]}function qn(p){return p==Hv||p==zv||p==Om||p==Gv}function fl(){this.eb=[],this.size=this.A=this.fb=0}function gi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function as(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fl,this.f.kb=new gi,this.sd=null}function fa(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Zt(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function $n(p,h){var b=p.T,x=h.ba.f.RGBA,I=x.eb,P=x.fb+p.ka*x.A,R=Bo[h.ba.S],j=p.y,B=p.O,$=p.f,oe=p.N,be=p.ea,Ee=p.W,pe=h.cc,Oe=h.dc,De=h.Mc,se=h.Nc,ce=p.ka,Fe=p.ka+p.T,ke=p.U,Pe=ke+1>>1;for(ce==0?R(j,B,null,null,$,oe,be,Ee,$,oe,be,Ee,I,P,null,null,ke):(R(h.ec,h.fc,j,B,pe,Oe,De,se,$,oe,be,Ee,I,P-x.A,I,P,ke),++b);ce+2<Fe;ce+=2)pe=$,Oe=oe,De=be,se=Ee,oe+=p.Rc,Ee+=p.Rc,P+=2*x.A,R(j,(B+=2*p.fa)-p.fa,j,B,pe,Oe,De,se,$,oe,be,Ee,I,P-x.A,I,P,ke);return B+=p.fa,p.j+Fe<p.o?(i(h.ec,h.fc,j,B,ke),i(h.cc,h.dc,$,oe,Pe),i(h.Mc,h.Nc,be,Ee,Pe),b--):1&Fe||R(j,B,null,null,$,oe,be,Ee,$,oe,be,Ee,I,P+x.A,null,null,ke),b}function ml(p,h,b){var x=p.F,I=[p.J];if(x!=null){var P=p.U,R=h.ba.S,j=R==Pm||R==Om;h=h.ba.f.RGBA;var B=[0],$=p.ka;B[0]=p.T,p.Kb&&($==0?--B[0]:(--$,I[0]-=p.width),p.j+p.ka+p.T==p.o&&(B[0]=p.o-p.j-$));var oe=h.eb;$=h.fb+$*h.A,p=oi(x,I[0],p.width,P,B,oe,$+(j?0:3),h.A),e(b==B),p&&qn(R)&&ko(oe,$,j,P,B,h.A)}return 0}function lr(p){var h=p.ma,b=h.ba.S,x=11>b,I=b==Fm||b==Nm||b==Pm||b==$v||b==12||qn(b);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!K0(h.Oa,p,I?11:12))return 0;if(I&&qn(b)&&Be(),p.da)alert("todo:use_scaling");else{if(x){if(h.Ib=Zt,p.Kb){if(b=p.U+1>>1,h.memory=o(p.U+2*b),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+p.U,h.Mc=h.cc,h.Nc=h.dc+b,h.Ib=$n,Be()}}else alert("todo:EmitYUV");I&&(h.Jb=ml,x&&he())}if(x&&!$E){for(p=0;256>p;++p)DN[p]=89858*(p-128)+Lm>>Rm,MN[p]=-22014*(p-128)+Lm,TN[p]=-45773*(p-128),IN[p]=113618*(p-128)+Lm>>Rm;for(p=rp;p<Kv;++p)h=76283*(p-16)+Lm>>Rm,FN[p-rp]=lo(h,255),NN[p-rp]=lo(h+8>>4,15);$E=1}return 1}function js(p){var h=p.ma,b=p.U,x=p.T;return e(!(1&p.ka)),0>=b||0>=x?0:(b=h.Ib(p,h),h.Jb!=null&&h.Jb(p,h,b),h.Dc+=b,1)}function Bs(p){p.ma.memory=null}function Bt(p,h,b,x){return we(p,8)!=47?0:(h[0]=we(p,14)+1,b[0]=we(p,14)+1,x[0]=we(p,1),we(p,3)!=0?0:!p.h)}function us(p,h){if(4>p)return p+1;var b=p-2>>1;return(2+(1&p)<<b)+we(h,b)+1}function Vs(p,h){return 120<h?h-120:1<=(b=((b=fN[h-1])>>4)*p+(8-(15&b)))?b:1;var b}function Hr(p,h,b){var x=H(b),I=p[h+=255&x].g-8;return 0<I&&(ee(b,b.u+8),x=H(b),h+=p[h].value,h+=x&(1<<I)-1),ee(b,b.u+p[h].g),p[h].value}function Gi(p,h,b){return b.g+=p.g,b.value+=p.value<<h>>>0,e(8>=b.g),p.g}function Pi(p,h,b){var x=p.xc;return e((h=x==0?0:p.vc[p.md*(b>>x)+(h>>x)])<p.Wb),p.Ya[h]}function uo(p,h,b,x){var I=p.ab,P=p.c*h,R=p.C;h=R+h;var j=b,B=x;for(x=p.Ta,b=p.Ua;0<I--;){var $=p.gc[I],oe=R,be=h,Ee=j,pe=B,Oe=(B=x,j=b,$.Ea);switch(e(oe<be),e(be<=$.nc),$.hc){case 2:Cm(Ee,pe,(be-oe)*Oe,B,j);break;case 0:var De=oe,se=be,ce=B,Fe=j,ke=(lt=$).Ea;De==0&&(Uv(Ee,pe,null,null,1,ce,Fe),pn(Ee,pe+1,0,0,ke-1,ce,Fe+1),pe+=ke,Fe+=ke,++De);for(var Pe=1<<lt.b,pt=Pe-1,it=yt(ke,lt.b),Nt=lt.K,lt=lt.w+(De>>lt.b)*it;De<se;){var jn=Nt,Gn=lt,Mn=1;for(J0(Ee,pe,ce,Fe-ke,1,ce,Fe);Mn<ke;){var wn=(Mn&~pt)+Pe;wn>ke&&(wn=ke),(0,lu[jn[Gn++]>>8&15])(Ee,pe+ +Mn,ce,Fe+Mn-ke,wn-Mn,ce,Fe+Mn),Mn=wn}pe+=ke,Fe+=ke,++De&pt||(lt+=it)}be!=$.nc&&i(B,j-Oe,B,j+(be-oe-1)*Oe,Oe);break;case 1:for(Oe=Ee,se=pe,ke=(Ee=$.Ea)-(Fe=Ee&~(ce=(pe=1<<$.b)-1)),De=yt(Ee,$.b),Pe=$.K,$=$.w+(oe>>$.b)*De;oe<be;){for(pt=Pe,it=$,Nt=new at,lt=se+Fe,jn=se+Ee;se<lt;)kn(pt[it++],Nt),bl(Nt,Oe,se,pe,B,j),se+=pe,j+=pe;se<jn&&(kn(pt[it++],Nt),bl(Nt,Oe,se,ke,B,j),se+=ke,j+=ke),++oe&ce||($+=De)}break;case 3:if(Ee==B&&pe==j&&0<$.b){for(se=B,Ee=Oe=j+(be-oe)*Oe-(Fe=(be-oe)*yt($.Ea,$.b)),pe=B,ce=j,De=[],Fe=(ke=Fe)-1;0<=Fe;--Fe)De[Fe]=pe[ce+Fe];for(Fe=ke-1;0<=Fe;--Fe)se[Ee+Fe]=De[Fe];Oo($,oe,be,B,Oe,B,j)}else Oo($,oe,be,Ee,pe,B,j)}j=x,B=b}B!=b&&i(x,b,j,B,P)}function Ac(p,h){var b=p.V,x=p.Ba+p.c*p.C,I=h-p.C;if(e(h<=p.l.o),e(16>=I),0<I){var P=p.l,R=p.Ta,j=p.Ua,B=P.width;if(uo(p,I,b,x),I=j=[j],e((b=p.C)<(x=h)),e(P.v<P.va),x>P.o&&(x=P.o),b<P.j){var $=P.j-b;b=P.j,I[0]+=$*B}if(b>=x?b=0:(I[0]+=4*P.v,P.ka=b-P.j,P.U=P.va-P.v,P.T=x-b,b=1),b){if(j=j[0],11>(b=p.ca).S){var oe=b.f.RGBA,be=(x=b.S,I=P.U,P=P.T,$=oe.eb,oe.A),Ee=P;for(oe=oe.fb+p.Ma*oe.A;0<Ee--;){var pe=R,Oe=j,De=I,se=$,ce=oe;switch(x){case Mm:Wr(pe,Oe,De,se,ce);break;case Fm:Fr(pe,Oe,De,se,ce);break;case Hv:Fr(pe,Oe,De,se,ce),ko(se,ce,0,De,1,0);break;case PE:_a(pe,Oe,De,se,ce);break;case Nm:ci(pe,Oe,De,se,ce,1);break;case zv:ci(pe,Oe,De,se,ce,1),ko(se,ce,0,De,1,0);break;case Pm:ci(pe,Oe,De,se,ce,0);break;case Om:ci(pe,Oe,De,se,ce,0),ko(se,ce,1,De,1,0);break;case $v:cu(pe,Oe,De,se,ce);break;case Gv:cu(pe,Oe,De,se,ce),ri(se,ce,De,1,0);break;case OE:va(pe,Oe,De,se,ce);break;default:e(0)}j+=B,oe+=be}p.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=b.height)}}p.C=h,e(p.C<=p.i)}function ma(p){var h;if(0<p.ua)return 0;for(h=0;h<p.Wb;++h){var b=p.Ya[h].G,x=p.Ya[h].H;if(0<b[1][x[1]+0].g||0<b[2][x[2]+0].g||0<b[3][x[3]+0].g)return 0}return 1}function ls(p,h,b,x,I,P){if(p.Z!=0){var R=p.qd,j=p.rd;for(e(mu[p.Z]!=null);h<b;++h)mu[p.Z](R,j,x,I,x,I,P),R=x,j=I,I+=P;p.qd=R,p.rd=j}}function cs(p,h){var b=p.l.ma,x=b.Z==0||b.Z==1?p.l.j:p.C;if(x=p.C<x?x:p.C,e(h<=p.l.o),h>x){var I=p.l.width,P=b.ca,R=b.tb+I*x,j=p.V,B=p.Ba+p.c*x,$=p.gc;e(p.ab==1),e($[0].hc==3),wm($[0],x,h,j,B,P,R),ls(b,x,h,P,R,I)}p.C=p.Ma=h}function ds(p,h,b,x,I,P,R){var j=p.$/x,B=p.$%x,$=p.m,oe=p.s,be=b+p.$,Ee=be;I=b+x*I;var pe=b+x*P,Oe=280+oe.ua,De=p.Pb?j:16777216,se=0<oe.ua?oe.Wa:null,ce=oe.wc,Fe=be<pe?Pi(oe,B,j):null;e(p.C<P),e(pe<=I);var ke=!1;e:for(;;){for(;ke||be<pe;){var Pe=0;if(j>=De){var pt=be-b;e((De=p).Pb),De.wd=De.m,De.xd=pt,0<De.s.ua&&Te(De.s.Wa,De.s.vb),De=j+hN}if(B&ce||(Fe=Pi(oe,B,j)),e(Fe!=null),Fe.Qb&&(h[be]=Fe.qb,ke=!0),!ke)if(de($),Fe.jc){Pe=$,pt=h;var it=be,Nt=Fe.pd[H(Pe)&cr-1];e(Fe.jc),256>Nt.g?(ee(Pe,Pe.u+Nt.g),pt[it]=Nt.value,Pe=0):(ee(Pe,Pe.u+Nt.g-256),e(256<=Nt.value),Pe=Nt.value),Pe==0&&(ke=!0)}else Pe=Hr(Fe.G[0],Fe.H[0],$);if($.h)break;if(ke||256>Pe){if(!ke)if(Fe.nd)h[be]=(Fe.qb|Pe<<8)>>>0;else{if(de($),ke=Hr(Fe.G[1],Fe.H[1],$),de($),pt=Hr(Fe.G[2],Fe.H[2],$),it=Hr(Fe.G[3],Fe.H[3],$),$.h)break;h[be]=(it<<24|ke<<16|Pe<<8|pt)>>>0}if(ke=!1,++be,++B>=x&&(B=0,++j,R!=null&&j<=P&&!(j%16)&&R(p,j),se!=null))for(;Ee<be;)Pe=h[Ee++],se.X[(506832829*Pe&4294967295)>>>se.Mb]=Pe}else if(280>Pe){if(Pe=us(Pe-256,$),pt=Hr(Fe.G[4],Fe.H[4],$),de($),pt=Vs(x,pt=us(pt,$)),$.h)break;if(be-b<pt||I-be<Pe)break e;for(it=0;it<Pe;++it)h[be+it]=h[be+it-pt];for(be+=Pe,B+=Pe;B>=x;)B-=x,++j,R!=null&&j<=P&&!(j%16)&&R(p,j);if(e(be<=I),B&ce&&(Fe=Pi(oe,B,j)),se!=null)for(;Ee<be;)Pe=h[Ee++],se.X[(506832829*Pe&4294967295)>>>se.Mb]=Pe}else{if(!(Pe<Oe))break e;for(ke=Pe-280,e(se!=null);Ee<be;)Pe=h[Ee++],se.X[(506832829*Pe&4294967295)>>>se.Mb]=Pe;Pe=be,e(!(ke>>>(pt=se).Xa)),h[Pe]=pt.X[ke],ke=!0}ke||e($.h==z($))}if(p.Pb&&$.h&&be<I)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Te(p.s.vb,p.s.Wa);else{if($.h)break e;R?.(p,j>P?P:j),p.a=0,p.$=be-b}return 1}return p.a=3,0}function Us(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var h=p.Wa;h!=null&&(h.X=null),p.vb=null,e(p!=null)}function Po(){var p=new Vv;return p==null?null:(p.a=0,p.xb=kE,ks("Predictor","VP8LPredictors"),ks("Predictor","VP8LPredictors_C"),ks("PredictorAdd","VP8LPredictorsAdd"),ks("PredictorAdd","VP8LPredictorsAdd_C"),Cm=Cn,bl=Gt,Wr=ct,Fr=gr,cu=Pn,va=ss,_a=Jn,Y.VP8LMapColor32b=Gc,Y.VP8LMapColor8b=Am,p)}function qs(p,h,b,x,I){var P=1,R=[p],j=[h],B=x.m,$=x.s,oe=null,be=0;e:for(;;){if(b)for(;P&&we(B,1);){var Ee=R,pe=j,Oe=x,De=1,se=Oe.m,ce=Oe.gc[Oe.ab],Fe=we(se,2);if(Oe.Oc&1<<Fe)P=0;else{switch(Oe.Oc|=1<<Fe,ce.hc=Fe,ce.Ea=Ee[0],ce.nc=pe[0],ce.K=[null],++Oe.ab,e(4>=Oe.ab),Fe){case 0:case 1:ce.b=we(se,3)+2,De=qs(yt(ce.Ea,ce.b),yt(ce.nc,ce.b),0,Oe,ce.K),ce.K=ce.K[0];break;case 3:var ke,Pe=we(se,8)+1,pt=16<Pe?0:4<Pe?1:2<Pe?2:3;if(Ee[0]=yt(ce.Ea,pt),ce.b=pt,ke=De=qs(Pe,1,0,Oe,ce.K)){var it,Nt=Pe,lt=ce,jn=1<<(8>>lt.b),Gn=o(jn);if(Gn==null)ke=0;else{var Mn=lt.K[0],wn=lt.w;for(Gn[0]=lt.K[0][0],it=1;it<1*Nt;++it)Gn[it]=We(Mn[wn+it],Gn[it-1]);for(;it<4*jn;++it)Gn[it]=0;lt.K[0]=null,lt.K[0]=Gn,ke=1}}De=ke;break;case 2:break;default:e(0)}P=De}}if(R=R[0],j=j[0],P&&we(B,1)&&!(P=1<=(be=we(B,4))&&11>=be)){x.a=3;break e}var Xn;if(Xn=P)t:{var Yn,un,Ri,Yr=x,Li=R,Kr=j,Wn=be,po=b,fo=Yr.m,Ji=Yr.s,dr=[null],Pr=1,Vo=0,Gs=mN[Wn];n:for(;;){if(po&&we(fo,1)){var Xi=we(fo,3)+2,Sa=yt(Li,Xi),wl=yt(Kr,Xi),Zc=Sa*wl;if(!qs(Sa,wl,0,Yr,dr))break n;for(dr=dr[0],Ji.xc=Xi,Yn=0;Yn<Zc;++Yn){var hu=dr[Yn]>>8&65535;dr[Yn]=hu,hu>=Pr&&(Pr=hu+1)}}if(fo.h)break n;for(un=0;5>un;++un){var yi=RE[un];!un&&0<Wn&&(yi+=1<<Wn),Vo<yi&&(Vo=yi)}var Qv=s(Pr*Gs,U),GE=Pr,WE=s(GE,Q);if(WE==null)var jm=null;else e(65536>=GE),jm=WE;var op=o(Vo);if(jm==null||op==null||Qv==null){Yr.a=1;break n}var Bm=Qv;for(Yn=Ri=0;Yn<Pr;++Yn){var gs=jm[Yn],Jc=gs.G,Xc=gs.H,YE=0,Vm=1,KE=0;for(un=0;5>un;++un){yi=RE[un],Jc[un]=Bm,Xc[un]=Ri,!un&&0<Wn&&(yi+=1<<Wn);r:{var Um,Zv=yi,qm=Yr,sp=op,RN=Bm,LN=Ri,Jv=0,gu=qm.m,kN=we(gu,1);if(r(sp,0,0,Zv),kN){var jN=we(gu,1)+1,BN=we(gu,1),QE=we(gu,BN==0?1:8);sp[QE]=1,jN==2&&(sp[QE=we(gu,8)]=1);var $m=1}else{var ZE=o(19),JE=we(gu,4)+4;if(19<JE){qm.a=3;var Hm=0;break r}for(Um=0;Um<JE;++Um)ZE[pN[Um]]=we(gu,3);var Xv=void 0,ap=void 0,XE=qm,VN=ZE,zm=Zv,eS=sp,e4=0,vu=XE.m,tS=8,nS=s(128,U);i:for(;V(nS,0,7,VN,19);){if(we(vu,1)){var UN=2+2*we(vu,3);if((Xv=2+we(vu,UN))>zm)break i}else Xv=zm;for(ap=0;ap<zm&&Xv--;){de(vu);var iS=nS[0+(127&H(vu))];ee(vu,vu.u+iS.g);var ed=iS.value;if(16>ed)eS[ap++]=ed,ed!=0&&(tS=ed);else{var qN=ed==16,rS=ed-16,$N=cN[rS],oS=we(vu,lN[rS])+$N;if(ap+oS>zm)break i;for(var HN=qN?tS:0;0<oS--;)eS[ap++]=HN}}e4=1;break i}e4||(XE.a=3),$m=e4}($m=$m&&!gu.h)&&(Jv=V(RN,LN,8,sp,Zv)),$m&&Jv!=0?Hm=Jv:(qm.a=3,Hm=0)}if(Hm==0)break n;if(Vm&&dN[un]==1&&(Vm=Bm[Ri].g==0),YE+=Bm[Ri].g,Ri+=Hm,3>=un){var up,t4=op[0];for(up=1;up<yi;++up)op[up]>t4&&(t4=op[up]);KE+=t4}}if(gs.nd=Vm,gs.Qb=0,Vm&&(gs.qb=(Jc[3][Xc[3]+0].value<<24|Jc[1][Xc[1]+0].value<<16|Jc[2][Xc[2]+0].value)>>>0,YE==0&&256>Jc[0][Xc[0]+0].value&&(gs.Qb=1,gs.qb+=Jc[0][Xc[0]+0].value<<8)),gs.jc=!gs.Qb&&6>KE,gs.jc){var Gm,xa=gs;for(Gm=0;Gm<cr;++Gm){var _u=Gm,yu=xa.pd[_u],Wm=xa.G[0][xa.H[0]+_u];256<=Wm.value?(yu.g=Wm.g+256,yu.value=Wm.value):(yu.g=0,yu.value=0,_u>>=Gi(Wm,8,yu),_u>>=Gi(xa.G[1][xa.H[1]+_u],16,yu),_u>>=Gi(xa.G[2][xa.H[2]+_u],0,yu),Gi(xa.G[3][xa.H[3]+_u],24,yu))}}}Ji.vc=dr,Ji.Wb=Pr,Ji.Ya=jm,Ji.yc=Qv,Xn=1;break t}Xn=0}if(!(P=Xn)){x.a=3;break e}if(0<be){if($.ua=1<<be,!kt($.Wa,be)){x.a=1,P=0;break e}}else $.ua=0;var n4=x,sS=R,zN=j,i4=n4.s,r4=i4.xc;if(n4.c=sS,n4.i=zN,i4.md=yt(sS,r4),i4.wc=r4==0?-1:(1<<r4)-1,b){x.xb=SN;break e}if((oe=o(R*j))==null){x.a=1,P=0;break e}P=(P=ds(x,oe,0,R,j,j,null))&&!B.h;break e}return P?(I!=null?I[0]=oe:(e(oe==null),e(b)),x.$=0,b||Us($)):Us($),P}function hl(p,h){var b=p.c*p.i,x=b+h+16*h;return e(p.c<=h),p.V=o(x),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+b+h,1)}function Dc(p,h){var b=p.C,x=h-b,I=p.V,P=p.Ba+p.c*b;for(e(h<=p.l.o);0<x;){var R=16<x?16:x,j=p.l.ma,B=p.l.width,$=B*R,oe=j.ca,be=j.tb+B*b,Ee=p.Ta,pe=p.Ua;uo(p,R,I,P),Di(Ee,pe,oe,be,$),ls(j,b,b+R,oe,be,B),x-=R,I+=R*p.c,b+=R}e(b==h),p.C=p.Ma=h}function Ic(){this.ub=this.yd=this.td=this.Rb=0}function Tc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Mc(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function rm(){this.Yb=function(){var p=[];return function h(b,x,I){for(var P=I[x],R=0;R<P&&(b.push(I.length>x+1?[]:0),!(I.length<x+1));R++)h(b[R],x+1,I)}(p,0,[3,11]),p}()}function vv(){this.jb=o(3),this.Wc=l([4,8],rm),this.Xc=l([4,17],rm)}function _v(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Fc(){this.ld=this.La=this.dd=this.tc=0}function om(){this.Na=this.la=0}function yv(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function P0(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bv(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fc),this.Y=0,this.ya=Array(new P0),this.aa=0,this.l=new Nc}function sm(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Ev(){this.cb=this.a=0,this.sc="",this.m=new Je,this.Od=new Ic,this.Kc=new Tc,this.ed=new _v,this.Qa=new Mc,this.Ic=this.$c=this.Aa=0,this.D=new bv,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,Je),this.ia=0,this.pb=s(4,yv),this.Pa=new vv,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new sm),this.Hd=0,this.rb=Array(new om),this.sb=0,this.wa=Array(new Fc),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new P0),this.L=this.aa=0,this.gd=l([4,2],Fc),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Nc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Sv(){var p=new Ev;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,ip||(ip=lm)),p}function wi(p,h,b){return p.a==0&&(p.a=h,p.sc=b,p.cb=0),0}function am(p,h,b){return 3<=b&&p[h+0]==157&&p[h+1]==1&&p[h+2]==42}function um(p,h){if(p==null)return 0;if(p.a=0,p.sc="OK",h==null)return wi(p,2,"null VP8Io passed to VP8GetHeaders()");var b=h.data,x=h.w,I=h.ha;if(4>I)return wi(p,7,"Truncated header.");var P=b[x+0]|b[x+1]<<8|b[x+2]<<16,R=p.Od;if(R.Rb=!(1&P),R.td=P>>1&7,R.yd=P>>4&1,R.ub=P>>5,3<R.td)return wi(p,3,"Incorrect keyframe parameters.");if(!R.yd)return wi(p,4,"Frame not displayable.");x+=3,I-=3;var j=p.Kc;if(R.Rb){if(7>I)return wi(p,7,"cannot parse picture header");if(!am(b,x,I))return wi(p,3,"Bad code word");j.c=16383&(b[x+4]<<8|b[x+3]),j.Td=b[x+4]>>6,j.i=16383&(b[x+6]<<8|b[x+5]),j.Ud=b[x+6]>>6,x+=7,I-=7,p.za=j.c+15>>4,p.Ub=j.i+15>>4,h.width=j.c,h.height=j.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,r((P=p.Pa).jb,0,255,P.jb.length),e((P=p.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,r(P.Zb,0,0,P.Zb.length),r(P.Lb,0,0,P.Lb)}if(R.ub>I)return wi(p,7,"bad partition length");Ce(P=p.m,b,x,R.ub),x+=R.ub,I-=R.ub,R.Rb&&(j.Ld=_e(P),j.Kd=_e(P)),j=p.Qa;var B,$=p.Pa;if(e(P!=null),e(j!=null),j.Cb=_e(P),j.Cb){if(j.Bb=_e(P),_e(P)){for(j.Fb=_e(P),B=0;4>B;++B)j.Zb[B]=_e(P)?ue(P,7):0;for(B=0;4>B;++B)j.Lb[B]=_e(P)?ue(P,6):0}if(j.Bb)for(B=0;3>B;++B)$.jb[B]=_e(P)?X(P,8):255}else j.Bb=0;if(P.Ka)return wi(p,3,"cannot parse segment header");if((j=p.ed).zd=_e(P),j.Tb=X(P,6),j.wb=X(P,3),j.Pc=_e(P),j.Pc&&_e(P)){for($=0;4>$;++$)_e(P)&&(j.vd[$]=ue(P,6));for($=0;4>$;++$)_e(P)&&(j.od[$]=ue(P,6))}if(p.L=j.Tb==0?0:j.zd?1:2,P.Ka)return wi(p,3,"cannot parse filter header");var oe=I;if(I=B=x,x=B+oe,j=oe,p.Xb=(1<<X(p.m,2))-1,oe<3*($=p.Xb))b=7;else{for(B+=3*$,j-=3*$,oe=0;oe<$;++oe){var be=b[I+0]|b[I+1]<<8|b[I+2]<<16;be>j&&(be=j),Ce(p.Jc[+oe],b,B,be),B+=be,j-=be,I+=3}Ce(p.Jc[+$],b,B,j),b=B<x?0:5}if(b!=0)return wi(p,b,"cannot parse partitions");for(b=X(B=p.m,7),I=_e(B)?ue(B,4):0,x=_e(B)?ue(B,4):0,j=_e(B)?ue(B,4):0,$=_e(B)?ue(B,4):0,B=_e(B)?ue(B,4):0,oe=p.Qa,be=0;4>be;++be){if(oe.Cb){var Ee=oe.Zb[be];oe.Fb||(Ee+=b)}else{if(0<be){p.pb[be]=p.pb[0];continue}Ee=b}var pe=p.pb[be];pe.Sc[0]=Wv[lo(Ee+I,127)],pe.Sc[1]=Yv[lo(Ee+0,127)],pe.Eb[0]=2*Wv[lo(Ee+x,127)],pe.Eb[1]=101581*Yv[lo(Ee+j,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=Wv[lo(Ee+$,117)],pe.Qc[1]=Yv[lo(Ee+B,127)],pe.lc=Ee+B}if(!R.Rb)return wi(p,4,"Not a key frame.");for(_e(P),R=p.Pa,b=0;4>b;++b){for(I=0;8>I;++I)for(x=0;3>x;++x)for(j=0;11>j;++j)$=ye(P,bN[b][I][x][j])?X(P,8):_N[b][I][x][j],R.Wc[b][I].Yb[x][j]=$;for(I=0;17>I;++I)R.Xc[b][I]=R.Wc[b][EN[I]]}return p.kc=_e(P),p.kc&&(p.Bd=X(P,8)),p.cb=1}function lm(p,h,b,x,I,P,R){var j=h[I].Yb[b];for(b=0;16>I;++I){if(!ye(p,j[b+0]))return I;for(;!ye(p,j[b+1]);)if(j=h[++I].Yb[0],b=0,I==16)return 16;var B=h[I+1].Yb;if(ye(p,j[b+2])){var $=p,oe=0;if(ye($,(Ee=j)[(be=b)+3]))if(ye($,Ee[be+6])){for(j=0,be=2*(oe=ye($,Ee[be+8]))+(Ee=ye($,Ee[be+9+oe])),oe=0,Ee=gN[be];Ee[j];++j)oe+=oe+ye($,Ee[j]);oe+=3+(8<<be)}else ye($,Ee[be+7])?(oe=7+2*ye($,165),oe+=ye($,145)):oe=5+ye($,159);else oe=ye($,Ee[be+4])?3+ye($,Ee[be+5]):2;j=B[2]}else oe=1,j=B[1];B=R+vN[I],0>($=p).b&&fe($);var be,Ee=$.b,pe=(be=$.Ca>>1)-($.I>>Ee)>>31;--$.b,$.Ca+=pe,$.Ca|=1,$.I-=(be+1&pe)<<Ee,P[B]=((oe^pe)-pe)*x[(0<I)+0]}return 16}function O0(p){var h=p.rb[p.sb-1];h.la=0,h.Na=0,r(p.zc,0,0,p.zc.length),p.ja=0}function xv(p,h){if(p==null)return 0;if(h==null)return wi(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!um(p,h))return 0;if(e(p.cb),h.ac==null||h.ac(h)){h.ob&&(p.L=0);var b=km[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=h.v-b>>4,p.zb=h.j-b>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=h.o+15+b>>4,p.Hb=h.va+15+b>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var x=p.ed;for(b=0;4>b;++b){var I;if(p.Qa.Cb){var P=p.Qa.Lb[b];p.Qa.Fb||(P+=x.Tb)}else P=x.Tb;for(I=0;1>=I;++I){var R=p.gd[b][I],j=P;if(x.Pc&&(j+=x.vd[0],I&&(j+=x.od[0])),0<(j=0>j?0:63<j?63:j)){var B=j;0<x.wb&&(B=4<x.wb?B>>2:B>>1)>9-x.wb&&(B=9-x.wb),1>B&&(B=1),R.dd=B,R.tc=2*j+B,R.ld=40<=j?2:15<=j?1:0}else R.tc=0;R.La=I}}}b=0}else wi(p,6,"Frame setup failed"),b=p.a;if(b=b==0){if(b){p.$c=0,0<p.Aa||(p.Ic=ON);e:{b=p.Ic,x=4*(B=p.za);var $=32*B,oe=B+1,be=0<p.L?B*(0<p.Aa?2:1):0,Ee=(p.Aa==2?2:1)*B;if((R=x+832+(I=3*(16*b+km[p.L])/2*$)+(P=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=R)b=0;else{if(R>p.Vb){if(p.Vb=0,p.Ec=o(R),p.Fc=0,p.Ec==null){b=wi(p,1,"no memory during frame initialization.");break e}p.Vb=R}R=p.Ec,j=p.Fc,p.Ac=R,p.Bc=j,j+=x,p.Gd=s($,sm),p.Hd=0,p.rb=s(oe+1,om),p.sb=1,p.wa=be?s(be,Fc):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=B),e(!0),p.oc=R,p.pc=j,j+=832,p.ya=s(Ee,P0),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=B),p.R=16*B,p.B=8*B,B=($=km[p.L])*p.R,$=$/2*p.B,p.sa=R,p.ta=j+B,p.qa=p.sa,p.ra=p.ta+16*b*p.R+$,p.Ha=p.qa,p.Ia=p.ra+8*b*p.B+$,p.$c=0,j+=I,p.mb=P?R:null,p.nb=P?j:null,e(j+P<=p.Fc+p.Vb),O0(p),r(p.Ac,p.Bc,0,x),b=1}}if(b){if(h.ka=0,h.y=p.sa,h.O=p.ta,h.f=p.qa,h.N=p.ra,h.ea=p.Ha,h.Vd=p.Ia,h.fa=p.R,h.Rc=p.B,h.F=null,h.J=0,!Im){for(b=-255;255>=b;++b)Wi[255+b]=0>b?-b:b;for(b=-1020;1020>=b;++b)ba[1020+b]=-128>b?-128:127<b?127:b;for(b=-112;112>=b;++b)np[112+b]=-16>b?-16:15<b?15:b;for(b=-255;510>=b;++b)Qc[255+b]=0>b?0:255<b?255:b;Im=1}Wc=Av,ya=Cv,X0=dm,Nr=wv,Ro=pm,Ai=cm,Yc=V0,Dm=_l,ep=Bv,El=U0,Sl=jv,du=jc,xl=q0,Kc=Em,Cl=bm,pu=Hs,tp=ga,Lo=kv,hs[0]=$s,hs[1]=Dv,hs[2]=Fv,hs[3]=Nv,hs[4]=hm,hs[5]=Lc,hs[6]=gm,hs[7]=k0,hs[8]=Ov,hs[9]=Pv,fu[0]=fm,fu[1]=Tv,fu[2]=ha,fu[3]=Oc,fu[4]=vr,fu[5]=Mv,fu[6]=mm,Ea[0]=su,Ea[1]=Iv,Ea[2]=Rv,Ea[3]=j0,Ea[4]=vl,Ea[5]=Lv,Ea[6]=B0,b=1}else b=0}b&&(b=function(pe,Oe){for(pe.M=0;pe.M<pe.Va;++pe.M){var De,se=pe.Jc[pe.M&pe.Xb],ce=pe.m,Fe=pe;for(De=0;De<Fe.za;++De){var ke=ce,Pe=Fe,pt=Pe.Ac,it=Pe.Bc+4*De,Nt=Pe.zc,lt=Pe.ya[Pe.aa+De];if(Pe.Qa.Bb?lt.$b=ye(ke,Pe.Pa.jb[0])?2+ye(ke,Pe.Pa.jb[2]):ye(ke,Pe.Pa.jb[1]):lt.$b=0,Pe.kc&&(lt.Ad=ye(ke,Pe.Bd)),lt.Za=!ye(ke,145)+0,lt.Za){var jn=lt.Ob,Gn=0;for(Pe=0;4>Pe;++Pe){var Mn,wn=Nt[0+Pe];for(Mn=0;4>Mn;++Mn){wn=yN[pt[it+Mn]][wn];for(var Xn=LE[ye(ke,wn[0])];0<Xn;)Xn=LE[2*Xn+ye(ke,wn[Xn])];wn=-Xn,pt[it+Mn]=wn}i(jn,Gn,pt,it,4),Gn+=4,Nt[0+Pe]=wn}}else wn=ye(ke,156)?ye(ke,128)?1:3:ye(ke,163)?2:0,lt.Ob[0]=wn,r(pt,it,wn,4),r(Nt,0,wn,4);lt.Dd=ye(ke,142)?ye(ke,114)?ye(ke,183)?1:3:2:0}if(Fe.m.Ka)return wi(pe,7,"Premature end-of-partition0 encountered.");for(;pe.ja<pe.za;++pe.ja){if(Fe=se,ke=(ce=pe).rb[ce.sb-1],pt=ce.rb[ce.sb+ce.ja],De=ce.ya[ce.aa+ce.ja],it=ce.kc?De.Ad:0)ke.la=pt.la=0,De.Za||(ke.Na=pt.Na=0),De.Hc=0,De.Gc=0,De.ia=0;else{var Yn,un;if(ke=pt,pt=Fe,it=ce.Pa.Xc,Nt=ce.ya[ce.aa+ce.ja],lt=ce.pb[Nt.$b],Pe=Nt.ad,jn=0,Gn=ce.rb[ce.sb-1],wn=Mn=0,r(Pe,jn,0,384),Nt.Za)var Ri=0,Yr=it[3];else{Xn=o(16);var Li=ke.Na+Gn.Na;if(Li=ip(pt,it[1],Li,lt.Eb,0,Xn,0),ke.Na=Gn.Na=(0<Li)+0,1<Li)Wc(Xn,0,Pe,jn);else{var Kr=Xn[0]+3>>3;for(Xn=0;256>Xn;Xn+=16)Pe[jn+Xn]=Kr}Ri=1,Yr=it[0]}var Wn=15&ke.la,po=15&Gn.la;for(Xn=0;4>Xn;++Xn){var fo=1&po;for(Kr=un=0;4>Kr;++Kr)Wn=Wn>>1|(fo=(Li=ip(pt,Yr,Li=fo+(1&Wn),lt.Sc,Ri,Pe,jn))>Ri)<<7,un=un<<2|(3<Li?3:1<Li?2:Pe[jn+0]!=0),jn+=16;Wn>>=4,po=po>>1|fo<<7,Mn=(Mn<<8|un)>>>0}for(Yr=Wn,Ri=po>>4,Yn=0;4>Yn;Yn+=2){for(un=0,Wn=ke.la>>4+Yn,po=Gn.la>>4+Yn,Xn=0;2>Xn;++Xn){for(fo=1&po,Kr=0;2>Kr;++Kr)Li=fo+(1&Wn),Wn=Wn>>1|(fo=0<(Li=ip(pt,it[2],Li,lt.Qc,0,Pe,jn)))<<3,un=un<<2|(3<Li?3:1<Li?2:Pe[jn+0]!=0),jn+=16;Wn>>=2,po=po>>1|fo<<5}wn|=un<<4*Yn,Yr|=Wn<<4<<Yn,Ri|=(240&po)<<Yn}ke.la=Yr,Gn.la=Ri,Nt.Hc=Mn,Nt.Gc=wn,Nt.ia=43690&wn?0:lt.ia,it=!(Mn|wn)}if(0<ce.L&&(ce.wa[ce.Y+ce.ja]=ce.gd[De.$b][De.Za],ce.wa[ce.Y+ce.ja].La|=!it),Fe.Ka)return wi(pe,7,"Premature end-of-file encountered.")}if(O0(pe),ce=Oe,Fe=1,De=(se=pe).D,ke=0<se.L&&se.M>=se.zb&&se.M<=se.Va,se.Aa==0)e:{if(De.M=se.M,De.uc=ke,Y0(se,De),Fe=1,De=(un=se.D).Nb,ke=(wn=km[se.L])*se.R,pt=wn/2*se.B,Xn=16*De*se.R,Kr=8*De*se.B,it=se.sa,Nt=se.ta-ke+Xn,lt=se.qa,Pe=se.ra-pt+Kr,jn=se.Ha,Gn=se.Ia-pt+Kr,po=(Wn=un.M)==0,Mn=Wn>=se.Va-1,se.Aa==2&&Y0(se,un),un.uc)for(fo=(Li=se).D.M,e(Li.D.uc),un=Li.yb;un<Li.Hb;++un){Ri=un,Yr=fo;var Ji=(dr=(yi=Li).D).Nb;Yn=yi.R;var dr=dr.wa[dr.Y+Ri],Pr=yi.sa,Vo=yi.ta+16*Ji*Yn+16*Ri,Gs=dr.dd,Xi=dr.tc;if(Xi!=0)if(e(3<=Xi),yi.L==1)0<Ri&&pu(Pr,Vo,Yn,Xi+4),dr.La&&Lo(Pr,Vo,Yn,Xi),0<Yr&&Cl(Pr,Vo,Yn,Xi+4),dr.La&&tp(Pr,Vo,Yn,Xi);else{var Sa=yi.B,wl=yi.qa,Zc=yi.ra+8*Ji*Sa+8*Ri,hu=yi.Ha,yi=yi.Ia+8*Ji*Sa+8*Ri;Ji=dr.ld,0<Ri&&(Dm(Pr,Vo,Yn,Xi+4,Gs,Ji),El(wl,Zc,hu,yi,Sa,Xi+4,Gs,Ji)),dr.La&&(du(Pr,Vo,Yn,Xi,Gs,Ji),Kc(wl,Zc,hu,yi,Sa,Xi,Gs,Ji)),0<Yr&&(Yc(Pr,Vo,Yn,Xi+4,Gs,Ji),ep(wl,Zc,hu,yi,Sa,Xi+4,Gs,Ji)),dr.La&&(Sl(Pr,Vo,Yn,Xi,Gs,Ji),xl(wl,Zc,hu,yi,Sa,Xi,Gs,Ji))}}if(se.ia&&alert("todo:DitherRow"),ce.put!=null){if(un=16*Wn,Wn=16*(Wn+1),po?(ce.y=se.sa,ce.O=se.ta+Xn,ce.f=se.qa,ce.N=se.ra+Kr,ce.ea=se.Ha,ce.W=se.Ia+Kr):(un-=wn,ce.y=it,ce.O=Nt,ce.f=lt,ce.N=Pe,ce.ea=jn,ce.W=Gn),Mn||(Wn-=wn),Wn>ce.o&&(Wn=ce.o),ce.F=null,ce.J=null,se.Fa!=null&&0<se.Fa.length&&un<Wn&&(ce.J=G0(se,ce,un,Wn-un),ce.F=se.mb,ce.F==null&&ce.F.length==0)){Fe=wi(se,3,"Could not decode alpha data.");break e}un<ce.j&&(wn=ce.j-un,un=ce.j,e(!(1&wn)),ce.O+=se.R*wn,ce.N+=se.B*(wn>>1),ce.W+=se.B*(wn>>1),ce.F!=null&&(ce.J+=ce.width*wn)),un<Wn&&(ce.O+=ce.v,ce.N+=ce.v>>1,ce.W+=ce.v>>1,ce.F!=null&&(ce.J+=ce.v),ce.ka=un-ce.j,ce.U=ce.va-ce.v,ce.T=Wn-un,Fe=ce.put(ce))}De+1!=se.Ic||Mn||(i(se.sa,se.ta-ke,it,Nt+16*se.R,ke),i(se.qa,se.ra-pt,lt,Pe+8*se.B,pt),i(se.Ha,se.Ia-pt,jn,Gn+8*se.B,pt))}if(!Fe)return wi(pe,6,"Output aborted.")}return 1}(p,h)),h.bc!=null&&h.bc(h),b&=1}return b?(p.cb=0,b):0}function ps(p,h,b,x,I){I=p[h+b+32*x]+(I>>3),p[h+b+32*x]=-256&I?0>I?0:255:I}function Pc(p,h,b,x,I,P){ps(p,h,0,b,x+I),ps(p,h,1,b,x+P),ps(p,h,2,b,x-P),ps(p,h,3,b,x-I)}function zr(p){return(20091*p>>16)+p}function R0(p,h,b,x){var I,P=0,R=o(16);for(I=0;4>I;++I){var j=p[h+0]+p[h+8],B=p[h+0]-p[h+8],$=(35468*p[h+4]>>16)-zr(p[h+12]),oe=zr(p[h+4])+(35468*p[h+12]>>16);R[P+0]=j+oe,R[P+1]=B+$,R[P+2]=B-$,R[P+3]=j-oe,P+=4,h++}for(I=P=0;4>I;++I)j=(p=R[P+0]+4)+R[P+8],B=p-R[P+8],$=(35468*R[P+4]>>16)-zr(R[P+12]),ps(b,x,0,0,j+(oe=zr(R[P+4])+(35468*R[P+12]>>16))),ps(b,x,1,0,B+$),ps(b,x,2,0,B-$),ps(b,x,3,0,j-oe),P++,x+=32}function cm(p,h,b,x){var I=p[h+0]+4,P=35468*p[h+4]>>16,R=zr(p[h+4]),j=35468*p[h+1]>>16;Pc(b,x,0,I+R,p=zr(p[h+1]),j),Pc(b,x,1,I+P,p,j),Pc(b,x,2,I-P,p,j),Pc(b,x,3,I-R,p,j)}function Cv(p,h,b,x,I){R0(p,h,b,x),I&&R0(p,h+16,b,x+4)}function dm(p,h,b,x){ya(p,h+0,b,x,1),ya(p,h+32,b,x+128,1)}function wv(p,h,b,x){var I;for(p=p[h+0]+4,I=0;4>I;++I)for(h=0;4>h;++h)ps(b,x,h,I,p)}function pm(p,h,b,x){p[h+0]&&Nr(p,h+0,b,x),p[h+16]&&Nr(p,h+16,b,x+4),p[h+32]&&Nr(p,h+32,b,x+128),p[h+48]&&Nr(p,h+48,b,x+128+4)}function Av(p,h,b,x){var I,P=o(16);for(I=0;4>I;++I){var R=p[h+0+I]+p[h+12+I],j=p[h+4+I]+p[h+8+I],B=p[h+4+I]-p[h+8+I],$=p[h+0+I]-p[h+12+I];P[0+I]=R+j,P[8+I]=R-j,P[4+I]=$+B,P[12+I]=$-B}for(I=0;4>I;++I)R=(p=P[0+4*I]+3)+P[3+4*I],j=P[1+4*I]+P[2+4*I],B=P[1+4*I]-P[2+4*I],$=p-P[3+4*I],b[x+0]=R+j>>3,b[x+16]=$+B>>3,b[x+32]=R-j>>3,b[x+48]=$-B>>3,x+=64}function L0(p,h,b){var x,I=h-32,P=co,R=255-p[I-1];for(x=0;x<b;++x){var j,B=P,$=R+p[h-1];for(j=0;j<b;++j)p[h+j]=B[$+p[I+j]];h+=32}}function Dv(p,h){L0(p,h,4)}function Iv(p,h){L0(p,h,8)}function Tv(p,h){L0(p,h,16)}function ha(p,h){var b;for(b=0;16>b;++b)i(p,h+32*b,p,h-32,16)}function Oc(p,h){var b;for(b=16;0<b;--b)r(p,h,p[h-1],16),h+=32}function Rc(p,h,b){var x;for(x=0;16>x;++x)r(h,b+32*x,p,16)}function fm(p,h){var b,x=16;for(b=0;16>b;++b)x+=p[h-1+32*b]+p[h+b-32];Rc(x>>5,p,h)}function vr(p,h){var b,x=8;for(b=0;16>b;++b)x+=p[h-1+32*b];Rc(x>>4,p,h)}function Mv(p,h){var b,x=8;for(b=0;16>b;++b)x+=p[h+b-32];Rc(x>>4,p,h)}function mm(p,h){Rc(128,p,h)}function Kt(p,h,b){return p+2*h+b+2>>2}function Fv(p,h){var b,x=h-32;for(x=new Uint8Array([Kt(p[x-1],p[x+0],p[x+1]),Kt(p[x+0],p[x+1],p[x+2]),Kt(p[x+1],p[x+2],p[x+3]),Kt(p[x+2],p[x+3],p[x+4])]),b=0;4>b;++b)i(p,h+32*b,x,0,x.length)}function Nv(p,h){var b=p[h-1],x=p[h-1+32],I=p[h-1+64],P=p[h-1+96];Ye(p,h+0,16843009*Kt(p[h-1-32],b,x)),Ye(p,h+32,16843009*Kt(b,x,I)),Ye(p,h+64,16843009*Kt(x,I,P)),Ye(p,h+96,16843009*Kt(I,P,P))}function $s(p,h){var b,x=4;for(b=0;4>b;++b)x+=p[h+b-32]+p[h-1+32*b];for(x>>=3,b=0;4>b;++b)r(p,h+32*b,x,4)}function hm(p,h){var b=p[h-1+0],x=p[h-1+32],I=p[h-1+64],P=p[h-1-32],R=p[h+0-32],j=p[h+1-32],B=p[h+2-32],$=p[h+3-32];p[h+0+96]=Kt(x,I,p[h-1+96]),p[h+1+96]=p[h+0+64]=Kt(b,x,I),p[h+2+96]=p[h+1+64]=p[h+0+32]=Kt(P,b,x),p[h+3+96]=p[h+2+64]=p[h+1+32]=p[h+0+0]=Kt(R,P,b),p[h+3+64]=p[h+2+32]=p[h+1+0]=Kt(j,R,P),p[h+3+32]=p[h+2+0]=Kt(B,j,R),p[h+3+0]=Kt($,B,j)}function gm(p,h){var b=p[h+1-32],x=p[h+2-32],I=p[h+3-32],P=p[h+4-32],R=p[h+5-32],j=p[h+6-32],B=p[h+7-32];p[h+0+0]=Kt(p[h+0-32],b,x),p[h+1+0]=p[h+0+32]=Kt(b,x,I),p[h+2+0]=p[h+1+32]=p[h+0+64]=Kt(x,I,P),p[h+3+0]=p[h+2+32]=p[h+1+64]=p[h+0+96]=Kt(I,P,R),p[h+3+32]=p[h+2+64]=p[h+1+96]=Kt(P,R,j),p[h+3+64]=p[h+2+96]=Kt(R,j,B),p[h+3+96]=Kt(j,B,B)}function Lc(p,h){var b=p[h-1+0],x=p[h-1+32],I=p[h-1+64],P=p[h-1-32],R=p[h+0-32],j=p[h+1-32],B=p[h+2-32],$=p[h+3-32];p[h+0+0]=p[h+1+64]=P+R+1>>1,p[h+1+0]=p[h+2+64]=R+j+1>>1,p[h+2+0]=p[h+3+64]=j+B+1>>1,p[h+3+0]=B+$+1>>1,p[h+0+96]=Kt(I,x,b),p[h+0+64]=Kt(x,b,P),p[h+0+32]=p[h+1+96]=Kt(b,P,R),p[h+1+32]=p[h+2+96]=Kt(P,R,j),p[h+2+32]=p[h+3+96]=Kt(R,j,B),p[h+3+32]=Kt(j,B,$)}function k0(p,h){var b=p[h+0-32],x=p[h+1-32],I=p[h+2-32],P=p[h+3-32],R=p[h+4-32],j=p[h+5-32],B=p[h+6-32],$=p[h+7-32];p[h+0+0]=b+x+1>>1,p[h+1+0]=p[h+0+64]=x+I+1>>1,p[h+2+0]=p[h+1+64]=I+P+1>>1,p[h+3+0]=p[h+2+64]=P+R+1>>1,p[h+0+32]=Kt(b,x,I),p[h+1+32]=p[h+0+96]=Kt(x,I,P),p[h+2+32]=p[h+1+96]=Kt(I,P,R),p[h+3+32]=p[h+2+96]=Kt(P,R,j),p[h+3+64]=Kt(R,j,B),p[h+3+96]=Kt(j,B,$)}function Pv(p,h){var b=p[h-1+0],x=p[h-1+32],I=p[h-1+64],P=p[h-1+96];p[h+0+0]=b+x+1>>1,p[h+2+0]=p[h+0+32]=x+I+1>>1,p[h+2+32]=p[h+0+64]=I+P+1>>1,p[h+1+0]=Kt(b,x,I),p[h+3+0]=p[h+1+32]=Kt(x,I,P),p[h+3+32]=p[h+1+64]=Kt(I,P,P),p[h+3+64]=p[h+2+64]=p[h+0+96]=p[h+1+96]=p[h+2+96]=p[h+3+96]=P}function Ov(p,h){var b=p[h-1+0],x=p[h-1+32],I=p[h-1+64],P=p[h-1+96],R=p[h-1-32],j=p[h+0-32],B=p[h+1-32],$=p[h+2-32];p[h+0+0]=p[h+2+32]=b+R+1>>1,p[h+0+32]=p[h+2+64]=x+b+1>>1,p[h+0+64]=p[h+2+96]=I+x+1>>1,p[h+0+96]=P+I+1>>1,p[h+3+0]=Kt(j,B,$),p[h+2+0]=Kt(R,j,B),p[h+1+0]=p[h+3+32]=Kt(b,R,j),p[h+1+32]=p[h+3+64]=Kt(x,b,R),p[h+1+64]=p[h+3+96]=Kt(I,x,b),p[h+1+96]=Kt(P,I,x)}function Rv(p,h){var b;for(b=0;8>b;++b)i(p,h+32*b,p,h-32,8)}function j0(p,h){var b;for(b=0;8>b;++b)r(p,h,p[h-1],8),h+=32}function gl(p,h,b){var x;for(x=0;8>x;++x)r(h,b+32*x,p,8)}function su(p,h){var b,x=8;for(b=0;8>b;++b)x+=p[h+b-32]+p[h-1+32*b];gl(x>>4,p,h)}function Lv(p,h){var b,x=4;for(b=0;8>b;++b)x+=p[h+b-32];gl(x>>3,p,h)}function vl(p,h){var b,x=4;for(b=0;8>b;++b)x+=p[h-1+32*b];gl(x>>3,p,h)}function B0(p,h){gl(128,p,h)}function kc(p,h,b){var x=p[h-b],I=p[h+0],P=3*(I-x)+qv[1020+p[h-2*b]-p[h+b]],R=Tm[112+(P+4>>3)];p[h-b]=co[255+x+Tm[112+(P+3>>3)]],p[h+0]=co[255+I-R]}function vm(p,h,b,x){var I=p[h+0],P=p[h+b];return jo[255+p[h-2*b]-p[h-b]]>x||jo[255+P-I]>x}function _m(p,h,b,x){return 4*jo[255+p[h-b]-p[h+0]]+jo[255+p[h-2*b]-p[h+b]]<=x}function ym(p,h,b,x,I){var P=p[h-3*b],R=p[h-2*b],j=p[h-b],B=p[h+0],$=p[h+b],oe=p[h+2*b],be=p[h+3*b];return 4*jo[255+j-B]+jo[255+R-$]>x?0:jo[255+p[h-4*b]-P]<=I&&jo[255+P-R]<=I&&jo[255+R-j]<=I&&jo[255+be-oe]<=I&&jo[255+oe-$]<=I&&jo[255+$-B]<=I}function bm(p,h,b,x){var I=2*x+1;for(x=0;16>x;++x)_m(p,h+x,b,I)&&kc(p,h+x,b)}function Hs(p,h,b,x){var I=2*x+1;for(x=0;16>x;++x)_m(p,h+x*b,1,I)&&kc(p,h+x*b,1)}function ga(p,h,b,x){var I;for(I=3;0<I;--I)bm(p,h+=4*b,b,x)}function kv(p,h,b,x){var I;for(I=3;0<I;--I)Hs(p,h+=4,b,x)}function au(p,h,b,x,I,P,R,j){for(P=2*P+1;0<I--;){if(ym(p,h,b,P,R))if(vm(p,h,b,j))kc(p,h,b);else{var B=p,$=h,oe=b,be=B[$-2*oe],Ee=B[$-oe],pe=B[$+0],Oe=B[$+oe],De=B[$+2*oe],se=27*(Fe=qv[1020+3*(pe-Ee)+qv[1020+be-Oe]])+63>>7,ce=18*Fe+63>>7,Fe=9*Fe+63>>7;B[$-3*oe]=co[255+B[$-3*oe]+Fe],B[$-2*oe]=co[255+be+ce],B[$-oe]=co[255+Ee+se],B[$+0]=co[255+pe-se],B[$+oe]=co[255+Oe-ce],B[$+2*oe]=co[255+De-Fe]}h+=x}}function fs(p,h,b,x,I,P,R,j){for(P=2*P+1;0<I--;){if(ym(p,h,b,P,R))if(vm(p,h,b,j))kc(p,h,b);else{var B=p,$=h,oe=b,be=B[$-oe],Ee=B[$+0],pe=B[$+oe],Oe=Tm[112+((De=3*(Ee-be))+4>>3)],De=Tm[112+(De+3>>3)],se=Oe+1>>1;B[$-2*oe]=co[255+B[$-2*oe]+se],B[$-oe]=co[255+be+De],B[$+0]=co[255+Ee-Oe],B[$+oe]=co[255+pe-se]}h+=x}}function V0(p,h,b,x,I,P){au(p,h,b,1,16,x,I,P)}function _l(p,h,b,x,I,P){au(p,h,1,b,16,x,I,P)}function jv(p,h,b,x,I,P){var R;for(R=3;0<R;--R)fs(p,h+=4*b,b,1,16,x,I,P)}function jc(p,h,b,x,I,P){var R;for(R=3;0<R;--R)fs(p,h+=4,1,b,16,x,I,P)}function Bv(p,h,b,x,I,P,R,j){au(p,h,I,1,8,P,R,j),au(b,x,I,1,8,P,R,j)}function U0(p,h,b,x,I,P,R,j){au(p,h,1,I,8,P,R,j),au(b,x,1,I,8,P,R,j)}function q0(p,h,b,x,I,P,R,j){fs(p,h+4*I,I,1,8,P,R,j),fs(b,x+4*I,I,1,8,P,R,j)}function Em(p,h,b,x,I,P,R,j){fs(p,h+4,1,I,8,P,R,j),fs(b,x+4,1,I,8,P,R,j)}function Bc(){this.ba=new as,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $0(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function H0(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Sm(){this.ua=0,this.Wa=new K,this.vb=new K,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new U}function Vv(){this.xb=this.a=0,this.l=new Nc,this.ca=new as,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Sm,this.ab=0,this.gc=s(4,H0),this.Oc=0}function Vc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Nc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function yl(p,h,b,x,I,P,R){for(p=p==null?0:p[h+0],h=0;h<R;++h)I[P+h]=p+b[x+h]&255,p=I[P+h]}function z0(p,h,b,x,I,P,R){var j;if(p==null)yl(null,null,b,x,I,P,R);else for(j=0;j<R;++j)I[P+j]=p[h+j]+b[x+j]&255}function uu(p,h,b,x,I,P,R){if(p==null)yl(null,null,b,x,I,P,R);else{var j,B=p[h+0],$=B,oe=B;for(j=0;j<R;++j)$=oe+(B=p[h+j])-$,oe=b[x+j]+(-256&$?0>$?0:255:$)&255,$=B,I[P+j]=oe}}function G0(p,h,b,x){var I=h.width,P=h.o;if(e(p!=null&&h!=null),0>b||0>=x||b+x>P)return null;if(!p.Cc){if(p.ga==null){var R;if(p.ga=new Vc,(R=p.ga==null)||(R=h.width*h.o,e(p.Gb.length==0),p.Gb=o(R),p.Uc=0,p.Gb==null?R=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,R=1),R=!R),!R){R=p.ga;var j=p.Fa,B=p.P,$=p.qc,oe=p.mb,be=p.nb,Ee=B+1,pe=$-1,Oe=R.l;if(e(j!=null&&oe!=null&&h!=null),mu[0]=null,mu[1]=yl,mu[2]=z0,mu[3]=uu,R.ca=oe,R.tb=be,R.c=h.width,R.i=h.height,e(0<R.c&&0<R.i),1>=$)h=0;else if(R.$a=j[B+0]>>0&3,R.Z=j[B+0]>>2&3,R.Lc=j[B+0]>>4&3,B=j[B+0]>>6&3,0>R.$a||1<R.$a||4<=R.Z||1<R.Lc||B)h=0;else if(Oe.put=js,Oe.ac=lr,Oe.bc=Bs,Oe.ma=R,Oe.width=h.width,Oe.height=h.height,Oe.Da=h.Da,Oe.v=h.v,Oe.va=h.va,Oe.j=h.j,Oe.o=h.o,R.$a)e:{e(R.$a==1),h=Po();t:for(;;){if(h==null){h=0;break e}if(e(R!=null),R.mc=h,h.c=R.c,h.i=R.i,h.l=R.l,h.l.ma=R,h.l.width=R.c,h.l.height=R.i,h.a=0,ie(h.m,j,Ee,pe),!qs(R.c,R.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&ma(h.s)?(R.ic=1,j=h.c*h.i,h.Ta=null,h.Ua=0,h.V=o(j),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(R.ic=0,h=hl(h,R.c)),!h))break t;h=1;break e}R.mc=null,h=0}else h=pe>=R.c*R.i;R=!h}if(R)return null;p.ga.Lc!=1?p.Ga=0:x=P-b}e(p.ga!=null),e(b+x<=P);e:{if(h=(j=p.ga).c,P=j.l.o,j.$a==0){if(Ee=p.rc,pe=p.Vc,Oe=p.Fa,B=p.P+1+b*h,$=p.mb,oe=p.nb+b*h,e(B<=p.P+p.qc),j.Z!=0)for(e(mu[j.Z]!=null),R=0;R<x;++R)mu[j.Z](Ee,pe,Oe,B,$,oe,h),Ee=$,pe=oe,oe+=h,B+=h;else for(R=0;R<x;++R)i($,oe,Oe,B,h),Ee=$,pe=oe,oe+=h,B+=h;p.rc=Ee,p.Vc=pe}else{if(e(j.mc!=null),h=b+x,e((R=j.mc)!=null),e(h<=R.i),R.C>=h)h=1;else if(j.ic||he(),j.ic){j=R.V,Ee=R.Ba,pe=R.c;var De=R.i,se=(Oe=1,B=R.$/pe,$=R.$%pe,oe=R.m,be=R.s,R.$),ce=pe*De,Fe=pe*h,ke=be.wc,Pe=se<Fe?Pi(be,$,B):null;e(se<=ce),e(h<=De),e(ma(be));t:for(;;){for(;!oe.h&&se<Fe;){if($&ke||(Pe=Pi(be,$,B)),e(Pe!=null),de(oe),256>(De=Hr(Pe.G[0],Pe.H[0],oe)))j[Ee+se]=De,++se,++$>=pe&&($=0,++B<=h&&!(B%16)&&cs(R,B));else{if(!(280>De)){Oe=0;break t}De=us(De-256,oe);var pt,it=Hr(Pe.G[4],Pe.H[4],oe);if(de(oe),!(se>=(it=Vs(pe,it=us(it,oe)))&&ce-se>=De)){Oe=0;break t}for(pt=0;pt<De;++pt)j[Ee+se+pt]=j[Ee+se+pt-it];for(se+=De,$+=De;$>=pe;)$-=pe,++B<=h&&!(B%16)&&cs(R,B);se<Fe&&$&ke&&(Pe=Pi(be,$,B))}e(oe.h==z(oe))}cs(R,B>h?h:B);break t}!Oe||oe.h&&se<ce?(Oe=0,R.a=oe.h?5:3):R.$=se,h=Oe}else h=ds(R,R.V,R.Ba,R.c,R.i,h,Dc);if(!h){x=0;break e}}b+x>=P&&(p.Cc=1),x=1}if(!x)return null;if(p.Cc&&((x=p.ga)!=null&&(x.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+b*I}function v(p,h,b,x,I,P){for(;0<I--;){var R,j=p,B=h+(b?1:0),$=p,oe=h+(b?0:3);for(R=0;R<x;++R){var be=$[oe+4*R];be!=255&&(be*=32897,j[B+4*R+0]=j[B+4*R+0]*be>>23,j[B+4*R+1]=j[B+4*R+1]*be>>23,j[B+4*R+2]=j[B+4*R+2]*be>>23)}h+=P}}function T(p,h,b,x,I){for(;0<x--;){var P;for(P=0;P<b;++P){var R=p[h+2*P+0],j=15&($=p[h+2*P+1]),B=4369*j,$=(240&$|$>>4)*B>>16;p[h+2*P+0]=(240&R|R>>4)*B>>16&240|(15&R|R<<4)*B>>16>>4&15,p[h+2*P+1]=240&$|j}h+=I}}function G(p,h,b,x,I,P,R,j){var B,$,oe=255;for($=0;$<I;++$){for(B=0;B<x;++B){var be=p[h+B];P[R+4*B]=be,oe&=be}h+=b,R+=j}return oe!=255}function ne(p,h,b,x,I){var P;for(P=0;P<I;++P)b[x+P]=p[h+P]>>8}function he(){ko=v,ri=T,oi=G,Di=ne}function Ie(p,h,b){Y[p]=function(x,I,P,R,j,B,$,oe,be,Ee,pe,Oe,De,se,ce,Fe,ke){var Pe,pt=ke-1>>1,it=j[B+0]|$[oe+0]<<16,Nt=be[Ee+0]|pe[Oe+0]<<16;e(x!=null);var lt=3*it+Nt+131074>>2;for(h(x[I+0],255&lt,lt>>16,De,se),P!=null&&(lt=3*Nt+it+131074>>2,h(P[R+0],255&lt,lt>>16,ce,Fe)),Pe=1;Pe<=pt;++Pe){var jn=j[B+Pe]|$[oe+Pe]<<16,Gn=be[Ee+Pe]|pe[Oe+Pe]<<16,Mn=it+jn+Nt+Gn+524296,wn=Mn+2*(jn+Nt)>>3;lt=wn+it>>1,it=(Mn=Mn+2*(it+Gn)>>3)+jn>>1,h(x[I+2*Pe-1],255&lt,lt>>16,De,se+(2*Pe-1)*b),h(x[I+2*Pe-0],255&it,it>>16,De,se+(2*Pe-0)*b),P!=null&&(lt=Mn+Nt>>1,it=wn+Gn>>1,h(P[R+2*Pe-1],255&lt,lt>>16,ce,Fe+(2*Pe-1)*b),h(P[R+2*Pe+0],255&it,it>>16,ce,Fe+(2*Pe+0)*b)),it=jn,Nt=Gn}1&ke||(lt=3*it+Nt+131074>>2,h(x[I+ke-1],255&lt,lt>>16,De,se+(ke-1)*b),P!=null&&(lt=3*Nt+it+131074>>2,h(P[R+ke-1],255&lt,lt>>16,ce,Fe+(ke-1)*b)))}}function Be(){Bo[Mm]=xN,Bo[Fm]=jE,Bo[PE]=CN,Bo[Nm]=BE,Bo[Pm]=VE,Bo[$v]=UE,Bo[OE]=wN,Bo[Hv]=jE,Bo[zv]=BE,Bo[Om]=VE,Bo[Gv]=UE}function dt(p){return p&~AN?0>p?0:255:p>>qE}function At(p,h){return dt((19077*p>>8)+(26149*h>>8)-14234)}function tn(p,h,b){return dt((19077*p>>8)-(6419*h>>8)-(13320*b>>8)+8708)}function Jt(p,h){return dt((19077*p>>8)+(33050*h>>8)-17685)}function Dn(p,h,b,x,I){x[I+0]=At(p,b),x[I+1]=tn(p,h,b),x[I+2]=Jt(p,h)}function fi(p,h,b,x,I){x[I+0]=Jt(p,h),x[I+1]=tn(p,h,b),x[I+2]=At(p,b)}function _i(p,h,b,x,I){var P=tn(p,h,b);h=P<<3&224|Jt(p,h)>>3,x[I+0]=248&At(p,b)|P>>5,x[I+1]=h}function Oi(p,h,b,x,I){var P=240&Jt(p,h)|15;x[I+0]=240&At(p,b)|tn(p,h,b)>>4,x[I+1]=P}function _r(p,h,b,x,I){x[I+0]=255,Dn(p,h,b,x,I+1)}function Zi(p,h,b,x,I){fi(p,h,b,x,I),x[I+3]=255}function ms(p,h,b,x,I){Dn(p,h,b,x,I),x[I+3]=255}function lo(p,h){return 0>p?0:p>h?h:p}function zs(p,h,b){Y[p]=function(x,I,P,R,j,B,$,oe,be){for(var Ee=oe+(-2&be)*b;oe!=Ee;)h(x[I+0],P[R+0],j[B+0],$,oe),h(x[I+1],P[R+0],j[B+0],$,oe+b),I+=2,++R,++B,oe+=2*b;1&be&&h(x[I+0],P[R+0],j[B+0],$,oe)}}function xm(p,h,b){return b==0?p==0?h==0?6:5:h==0?4:0:b}function W0(p,h,b,x,I){switch(p>>>30){case 3:ya(h,b,x,I,0);break;case 2:Ai(h,b,x,I);break;case 1:Nr(h,b,x,I)}}function Y0(p,h){var b,x,I=h.M,P=h.Nb,R=p.oc,j=p.pc+40,B=p.oc,$=p.pc+584,oe=p.oc,be=p.pc+600;for(b=0;16>b;++b)R[j+32*b-1]=129;for(b=0;8>b;++b)B[$+32*b-1]=129,oe[be+32*b-1]=129;for(0<I?R[j-1-32]=B[$-1-32]=oe[be-1-32]=129:(r(R,j-32-1,127,21),r(B,$-32-1,127,9),r(oe,be-32-1,127,9)),x=0;x<p.za;++x){var Ee=h.ya[h.aa+x];if(0<x){for(b=-1;16>b;++b)i(R,j+32*b-4,R,j+32*b+12,4);for(b=-1;8>b;++b)i(B,$+32*b-4,B,$+32*b+4,4),i(oe,be+32*b-4,oe,be+32*b+4,4)}var pe=p.Gd,Oe=p.Hd+x,De=Ee.ad,se=Ee.Hc;if(0<I&&(i(R,j-32,pe[Oe].y,0,16),i(B,$-32,pe[Oe].f,0,8),i(oe,be-32,pe[Oe].ea,0,8)),Ee.Za){var ce=R,Fe=j-32+16;for(0<I&&(x>=p.za-1?r(ce,Fe,pe[Oe].y[15],4):i(ce,Fe,pe[Oe+1].y,0,4)),b=0;4>b;b++)ce[Fe+128+b]=ce[Fe+256+b]=ce[Fe+384+b]=ce[Fe+0+b];for(b=0;16>b;++b,se<<=2)ce=R,Fe=j+HE[b],hs[Ee.Ob[b]](ce,Fe),W0(se,De,16*+b,ce,Fe)}else if(ce=xm(x,I,Ee.Ob[0]),fu[ce](R,j),se!=0)for(b=0;16>b;++b,se<<=2)W0(se,De,16*+b,R,j+HE[b]);for(b=Ee.Gc,ce=xm(x,I,Ee.Dd),Ea[ce](B,$),Ea[ce](oe,be),se=De,ce=B,Fe=$,255&(Ee=b>>0)&&(170&Ee?X0(se,256,ce,Fe):Ro(se,256,ce,Fe)),Ee=oe,se=be,255&(b>>=8)&&(170&b?X0(De,320,Ee,se):Ro(De,320,Ee,se)),I<p.Ub-1&&(i(pe[Oe].y,0,R,j+480,16),i(pe[Oe].f,0,B,$+224,8),i(pe[Oe].ea,0,oe,be+224,8)),b=8*P*p.B,pe=p.sa,Oe=p.ta+16*x+16*P*p.R,De=p.qa,Ee=p.ra+8*x+b,se=p.Ha,ce=p.Ia+8*x+b,b=0;16>b;++b)i(pe,Oe+b*p.R,R,j+32*b,16);for(b=0;8>b;++b)i(De,Ee+b*p.B,B,$+32*b,8),i(se,ce+b*p.B,oe,be+32*b,8)}}function Uc(p,h,b,x,I,P,R,j,B){var $=[0],oe=[0],be=0,Ee=B!=null?B.kd:0,pe=B??new $0;if(p==null||12>b)return 7;pe.data=p,pe.w=h,pe.ha=b,h=[h],b=[b],pe.gb=[pe.gb];e:{var Oe=h,De=b,se=pe.gb;if(e(p!=null),e(De!=null),e(se!=null),se[0]=0,12<=De[0]&&!t(p,Oe[0],"RIFF")){if(t(p,Oe[0]+8,"WEBP")){se=3;break e}var ce=nt(p,Oe[0]+4);if(12>ce||4294967286<ce){se=3;break e}if(Ee&&ce>De[0]-8){se=7;break e}se[0]=ce,Oe[0]+=12,De[0]-=12}se=0}if(se!=0)return se;for(ce=0<pe.gb[0],b=b[0];;){e:{var Fe=p;De=h,se=b;var ke=$,Pe=oe,pt=Oe=[0];if((lt=be=[be])[0]=0,8>se[0])se=7;else{if(!t(Fe,De[0],"VP8X")){if(nt(Fe,De[0]+4)!=10){se=3;break e}if(18>se[0]){se=7;break e}var it=nt(Fe,De[0]+8),Nt=1+ut(Fe,De[0]+12);if(2147483648<=Nt*(Fe=1+ut(Fe,De[0]+15))){se=3;break e}pt!=null&&(pt[0]=it),ke!=null&&(ke[0]=Nt),Pe!=null&&(Pe[0]=Fe),De[0]+=18,se[0]-=18,lt[0]=1}se=0}}if(be=be[0],Oe=Oe[0],se!=0)return se;if(De=!!(2&Oe),!ce&&be)return 3;if(P!=null&&(P[0]=!!(16&Oe)),R!=null&&(R[0]=De),j!=null&&(j[0]=0),R=$[0],Oe=oe[0],be&&De&&B==null){se=0;break}if(4>b){se=7;break}if(ce&&be||!ce&&!be&&!t(p,h[0],"ALPH")){b=[b],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{it=p,se=h,ce=b;var lt=pe.gb;ke=pe.na,Pe=pe.P,pt=pe.Sa,Nt=22,e(it!=null),e(ce!=null),Fe=se[0];var jn=ce[0];for(e(ke!=null),e(pt!=null),ke[0]=null,Pe[0]=null,pt[0]=0;;){if(se[0]=Fe,ce[0]=jn,8>jn){se=7;break e}var Gn=nt(it,Fe+4);if(4294967286<Gn){se=3;break e}var Mn=8+Gn+1&-2;if(Nt+=Mn,0<lt&&Nt>lt){se=3;break e}if(!t(it,Fe,"VP8 ")||!t(it,Fe,"VP8L")){se=0;break e}if(jn[0]<Mn){se=7;break e}t(it,Fe,"ALPH")||(ke[0]=it,Pe[0]=Fe+8,pt[0]=Gn),Fe+=Mn,jn-=Mn}}if(b=b[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],se!=0)break}b=[b],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(lt=p,se=h,ce=b,ke=pe.gb[0],Pe=pe.Ja,pt=pe.xa,it=se[0],Fe=!t(lt,it,"VP8 "),Nt=!t(lt,it,"VP8L"),e(lt!=null),e(ce!=null),e(Pe!=null),e(pt!=null),8>ce[0])se=7;else{if(Fe||Nt){if(lt=nt(lt,it+4),12<=ke&&lt>ke-12){se=3;break e}if(Ee&&lt>ce[0]-8){se=7;break e}Pe[0]=lt,se[0]+=8,ce[0]-=8,pt[0]=Nt}else pt[0]=5<=ce[0]&&lt[it+0]==47&&!(lt[it+4]>>5),Pe[0]=ce[0];se=0}if(b=b[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],h=h[0],se!=0)break;if(4294967286<pe.Ja)return 3;if(j==null||De||(j[0]=pe.xa?2:1),R=[R],Oe=[Oe],pe.xa){if(5>b){se=7;break}j=R,Ee=Oe,De=P,p==null||5>b?p=0:5<=b&&p[h+0]==47&&!(p[h+4]>>5)?(ce=[0],lt=[0],ke=[0],ie(Pe=new N,p,h,b),Bt(Pe,ce,lt,ke)?(j!=null&&(j[0]=ce[0]),Ee!=null&&(Ee[0]=lt[0]),De!=null&&(De[0]=ke[0]),p=1):p=0):p=0}else{if(10>b){se=7;break}j=Oe,p==null||10>b||!am(p,h+3,b-3)?p=0:(Ee=p[h+0]|p[h+1]<<8|p[h+2]<<16,De=16383&(p[h+7]<<8|p[h+6]),p=16383&(p[h+9]<<8|p[h+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=pe.Ja||!De||!p?p=0:(R&&(R[0]=De),j&&(j[0]=p),p=1))}if(!p||(R=R[0],Oe=Oe[0],be&&($[0]!=R||oe[0]!=Oe)))return 3;B!=null&&(B[0]=pe,B.offset=h-B.w,e(4294967286>h-B.w),e(B.offset==B.ha-b));break}return se==0||se==7&&be&&B==null?(P!=null&&(P[0]|=pe.na!=null&&0<pe.na.length),x!=null&&(x[0]=R),I!=null&&(I[0]=Oe),0):se}function K0(p,h,b){var x=h.width,I=h.height,P=0,R=0,j=x,B=I;if(h.Da=p!=null&&0<p.Da,h.Da&&(j=p.cd,B=p.bd,P=p.v,R=p.j,11>b||(P&=-2,R&=-2),0>P||0>R||0>=j||0>=B||P+j>x||R+B>I))return 0;if(h.v=P,h.j=R,h.va=P+j,h.o=R+B,h.U=j,h.T=B,h.da=p!=null&&0<p.da,h.da){if(!Wt(j,B,b=[p.ib],P=[p.hb]))return 0;h.ib=b[0],h.hb=P[0]}return h.ob=p!=null&&p.ob,h.Kb=p==null||!p.Sd,h.da&&(h.ob=h.ib<3*x/4&&h.hb<3*I/4,h.Kb=0),1}function Q0(p){if(p==null)return 2;if(11>p.S){var h=p.f.RGBA;h.fb+=(p.height-1)*h.A,h.A=-h.A}else h=p.f.kb,p=p.height,h.O+=(p-1)*h.fa,h.fa=-h.fa,h.N+=(p-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(p-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(p-1)*h.lb,h.lb=-h.lb);return 0}function qc(p,h,b,x){if(x==null||0>=p||0>=h)return 2;if(b!=null){if(b.Da){var I=b.cd,P=b.bd,R=-2&b.v,j=-2&b.j;if(0>R||0>j||0>=I||0>=P||R+I>p||j+P>h)return 2;p=I,h=P}if(b.da){if(!Wt(p,h,I=[b.ib],P=[b.hb]))return 2;p=I[0],h=P[0]}}x.width=p,x.height=h;e:{var B=x.width,$=x.height;if(p=x.S,0>=B||0>=$||!(p>=Mm&&13>p))p=2;else{if(0>=x.Rd&&x.sd==null){R=P=I=h=0;var oe=(j=B*zE[p])*$;if(11>p||(P=($+1)/2*(h=(B+1)/2),p==12&&(R=(I=B)*$)),($=o(oe+2*P+R))==null){p=1;break e}x.sd=$,11>p?((B=x.f.RGBA).eb=$,B.fb=0,B.A=j,B.size=oe):((B=x.f.kb).y=$,B.O=0,B.fa=j,B.Fd=oe,B.f=$,B.N=0+oe,B.Ab=h,B.Cd=P,B.ea=$,B.W=0+oe+P,B.Db=h,B.Ed=P,p==12&&(B.F=$,B.J=0+oe+2*P),B.Tc=R,B.lb=I)}if(h=1,I=x.S,P=x.width,R=x.height,I>=Mm&&13>I)if(11>I)p=x.f.RGBA,h&=(j=Math.abs(p.A))*(R-1)+P<=p.size,h&=j>=P*zE[I],h&=p.eb!=null;else{p=x.f.kb,j=(P+1)/2,oe=(R+1)/2,B=Math.abs(p.fa),$=Math.abs(p.Ab);var be=Math.abs(p.Db),Ee=Math.abs(p.lb),pe=Ee*(R-1)+P;h&=B*(R-1)+P<=p.Fd,h&=$*(oe-1)+j<=p.Cd,h=(h&=be*(oe-1)+j<=p.Ed)&B>=P&$>=j&be>=j,h&=p.y!=null,h&=p.f!=null,h&=p.ea!=null,I==12&&(h&=Ee>=P,h&=pe<=p.Tc,h&=p.F!=null)}else h=0;p=h?0:2}}return p!=0||b!=null&&b.fd&&(p=Q0(x)),p}var cr=64,$c=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Hc=24,zc=32,Z0=8,Gr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Xe("Predictor0","PredictorAdd0"),Y.Predictor0=function(){return 4278190080},Y.Predictor1=function(p){return p},Y.Predictor2=function(p,h,b){return h[b+0]},Y.Predictor3=function(p,h,b){return h[b+1]},Y.Predictor4=function(p,h,b){return h[b-1]},Y.Predictor5=function(p,h,b){return st(st(p,h[b+1]),h[b+0])},Y.Predictor6=function(p,h,b){return st(p,h[b-1])},Y.Predictor7=function(p,h,b){return st(p,h[b+0])},Y.Predictor8=function(p,h,b){return st(h[b-1],h[b+0])},Y.Predictor9=function(p,h,b){return st(h[b+0],h[b+1])},Y.Predictor10=function(p,h,b){return st(st(p,h[b-1]),st(h[b+0],h[b+1]))},Y.Predictor11=function(p,h,b){var x=h[b+0];return 0>=Qt(x>>24&255,p>>24&255,(h=h[b-1])>>24&255)+Qt(x>>16&255,p>>16&255,h>>16&255)+Qt(x>>8&255,p>>8&255,h>>8&255)+Qt(255&x,255&p,255&h)?x:p},Y.Predictor12=function(p,h,b){var x=h[b+0];return(Et((p>>24&255)+(x>>24&255)-((h=h[b-1])>>24&255))<<24|Et((p>>16&255)+(x>>16&255)-(h>>16&255))<<16|Et((p>>8&255)+(x>>8&255)-(h>>8&255))<<8|Et((255&p)+(255&x)-(255&h)))>>>0},Y.Predictor13=function(p,h,b){var x=h[b-1];return(Ht((p=st(p,h[b+0]))>>24&255,x>>24&255)<<24|Ht(p>>16&255,x>>16&255)<<16|Ht(p>>8&255,x>>8&255)<<8|Ht(p>>0&255,x>>0&255))>>>0};var Uv=Y.PredictorAdd0;Y.PredictorAdd1=pn,Xe("Predictor2","PredictorAdd2"),Xe("Predictor3","PredictorAdd3"),Xe("Predictor4","PredictorAdd4"),Xe("Predictor5","PredictorAdd5"),Xe("Predictor6","PredictorAdd6"),Xe("Predictor7","PredictorAdd7"),Xe("Predictor8","PredictorAdd8"),Xe("Predictor9","PredictorAdd9"),Xe("Predictor10","PredictorAdd10"),Xe("Predictor11","PredictorAdd11"),Xe("Predictor12","PredictorAdd12"),Xe("Predictor13","PredictorAdd13");var J0=Y.PredictorAdd2;En("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),En("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Cm,Oo=Y.ColorIndexInverseTransform,Gc=Y.MapARGB,wm=Y.VP8LColorIndexInverseTransformAlpha,Am=Y.MapAlpha,lu=Y.VP8LPredictorsAdd=[];lu.length=16,(Y.VP8LPredictors=[]).length=16,(Y.VP8LPredictorsAdd_C=[]).length=16,(Y.VP8LPredictors_C=[]).length=16;var bl,Wr,Fr,cu,va,_a,Wc,ya,Ai,X0,Nr,Ro,Yc,Dm,ep,El,Sl,du,xl,Kc,Cl,pu,tp,Lo,ko,ri,oi,Di,Wi=o(511),ba=o(2041),np=o(225),Qc=o(767),Im=0,qv=ba,Tm=np,co=Qc,jo=Wi,Mm=0,Fm=1,PE=2,Nm=3,Pm=4,$v=5,OE=6,Hv=7,zv=8,Om=9,Gv=10,lN=[2,3,7],cN=[3,3,11],RE=[280,256,256,256,40],dN=[0,1,1,1,0],pN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],fN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],mN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],hN=8,Wv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ip=null,gN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],vN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],LE=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_N=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],bN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],EN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],fu=[],hs=[],Ea=[],SN=1,kE=2,mu=[],Bo=[];Ie("UpsampleRgbLinePair",Dn,3),Ie("UpsampleBgrLinePair",fi,3),Ie("UpsampleRgbaLinePair",ms,4),Ie("UpsampleBgraLinePair",Zi,4),Ie("UpsampleArgbLinePair",_r,4),Ie("UpsampleRgba4444LinePair",Oi,2),Ie("UpsampleRgb565LinePair",_i,2);var xN=Y.UpsampleRgbLinePair,CN=Y.UpsampleBgrLinePair,jE=Y.UpsampleRgbaLinePair,BE=Y.UpsampleBgraLinePair,VE=Y.UpsampleArgbLinePair,UE=Y.UpsampleRgba4444LinePair,wN=Y.UpsampleRgb565LinePair,Rm=16,Lm=1<<Rm-1,rp=-227,Kv=482,qE=6,AN=(256<<qE)-1,$E=0,DN=o(256),IN=o(256),TN=o(256),MN=o(256),FN=o(Kv-rp),NN=o(Kv-rp);zs("YuvToRgbRow",Dn,3),zs("YuvToBgrRow",fi,3),zs("YuvToRgbaRow",ms,4),zs("YuvToBgraRow",Zi,4),zs("YuvToArgbRow",_r,4),zs("YuvToRgba4444Row",Oi,2),zs("YuvToRgb565Row",_i,2);var HE=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],km=[0,2,8],PN=[8,7,6,4,4,2,2,2,1,1,1,1],ON=1;this.WebPDecodeRGBA=function(p,h,b,x,I){var P=Fm,R=new Bc,j=new as;R.ba=j,j.S=P,j.width=[j.width],j.height=[j.height];var B=j.width,$=j.height,oe=new fa;if(oe==null||p==null)var be=2;else e(oe!=null),be=Uc(p,h,b,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(be!=0?B=0:(B!=null&&(B[0]=oe.width[0]),$!=null&&($[0]=oe.height[0]),B=1),B){j.width=j.width[0],j.height=j.height[0],x!=null&&(x[0]=j.width),I!=null&&(I[0]=j.height);e:{if(x=new Nc,(I=new $0).data=p,I.w=h,I.ha=b,I.kd=1,h=[0],e(I!=null),((p=Uc(I.data,I.w,I.ha,null,null,null,h,null,I))==0||p==7)&&h[0]&&(p=4),(h=p)==0){if(e(R!=null),x.data=I.data,x.w=I.w+I.offset,x.ha=I.ha-I.offset,x.put=js,x.ac=lr,x.bc=Bs,x.ma=R,I.xa){if((p=Po())==null){R=1;break e}if(function(Ee,pe){var Oe=[0],De=[0],se=[0];t:for(;;){if(Ee==null)return 0;if(pe==null)return Ee.a=2,0;if(Ee.l=pe,Ee.a=0,ie(Ee.m,pe.data,pe.w,pe.ha),!Bt(Ee.m,Oe,De,se)){Ee.a=3;break t}if(Ee.xb=kE,pe.width=Oe[0],pe.height=De[0],!qs(Oe[0],De[0],1,Ee,null))break t;return 1}return e(Ee.a!=0),0}(p,x)){if(x=(h=qc(x.width,x.height,R.Oa,R.ba))==0){t:{x=p;n:for(;;){if(x==null){x=0;break t}if(e(x.s.yc!=null),e(x.s.Ya!=null),e(0<x.s.Wb),e((b=x.l)!=null),e((I=b.ma)!=null),x.xb!=0){if(x.ca=I.ba,x.tb=I.tb,e(x.ca!=null),!K0(I.Oa,b,Nm)){x.a=2;break n}if(!hl(x,b.width)||b.da)break n;if((b.da||qn(x.ca.S))&&he(),11>x.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),x.ca.f.kb.F!=null&&he()),x.Pb&&0<x.s.ua&&x.s.vb.X==null&&!kt(x.s.vb,x.s.Wa.Xa)){x.a=1;break n}x.xb=0}if(!ds(x,x.V,x.Ba,x.c,x.i,b.o,Ac))break n;I.Dc=x.Ma,x=1;break t}e(x.a!=0),x=0}x=!x}x&&(h=p.a)}else h=p.a}else{if((p=new Sv)==null){R=1;break e}if(p.Fa=I.na,p.P=I.P,p.qc=I.Sa,um(p,x)){if((h=qc(x.width,x.height,R.Oa,R.ba))==0){if(p.Aa=0,b=R.Oa,e((I=p)!=null),b!=null){if(0<(B=0>(B=b.Md)?0:100<B?255:255*B/100)){for($=oe=0;4>$;++$)12>(be=I.pb[$]).lc&&(be.ia=B*PN[0>be.lc?0:be.lc]>>3),oe|=be.ia;oe&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=b.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}xv(p,x)||(h=p.a)}}else h=p.a}h==0&&R.Oa!=null&&R.Oa.fd&&(h=Q0(R.ba))}R=h}P=R!=0?null:11>P?j.f.RGBA.eb:j.f.kb.y}else P=null;return P};var zE=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(Y,me){for(var xe="",V=0;V<4;V++)xe+=String.fromCharCode(Y[me++]);return xe}function g(Y,me){return(Y[me+0]<<0|Y[me+1]<<8|Y[me+2]<<16)>>>0}function y(Y,me){return(Y[me+0]<<0|Y[me+1]<<8|Y[me+2]<<16|Y[me+3]<<24)>>>0}new d;var S=[0],_=[0],A=[],w=new d,L=n,F=function(Y,me){var xe={},V=0,U=!1,J=0,Q=0;if(xe.frames=[],!function(H,z,ee,de){for(var fe=0;fe<de;fe++)if(H[z+fe]!=ee.charCodeAt(fe))return!0;return!1}(Y,me,"RIFF",4)){var Ce,X;for(y(Y,me+=4),me+=8;me<Y.length;){var ue=m(Y,me),ie=y(Y,me+=4);me+=4;var ve=ie+(1&ie);switch(ue){case"VP8 ":case"VP8L":xe.frames[V]===void 0&&(xe.frames[V]={}),(N=xe.frames[V]).src_off=U?Q:me-8,N.src_size=J+ie+8,V++,U&&(U=!1,J=0,Q=0);break;case"VP8X":(N=xe.header={}).feature_flags=Y[me];var we=me+4;N.canvas_width=1+g(Y,we),we+=3,N.canvas_height=1+g(Y,we),we+=3;break;case"ALPH":U=!0,J=ve+8,Q=me-8;break;case"ANIM":(N=xe.header).bgcolor=y(Y,me),we=me+4,N.loop_count=(Ce=Y)[(X=we)+0]<<0|Ce[X+1]<<8,we+=2;break;case"ANMF":var Je,N;(N=xe.frames[V]={}).offset_x=2*g(Y,me),me+=3,N.offset_y=2*g(Y,me),me+=3,N.width=1+g(Y,me),me+=3,N.height=1+g(Y,me),me+=3,N.duration=g(Y,me),me+=3,Je=Y[me++],N.dispose=1&Je,N.blend=Je>>1&1}ue!="ANMF"&&(me+=ve)}return xe}}(L,0);F.response=L,F.rgbaoutput=!0,F.dataurl=!1;var k=F.header?F.header:null,W=F.frames?F.frames:null;if(k){k.loop_counter=k.loop_count,S=[k.canvas_height],_=[k.canvas_width];for(var te=0;te<W.length&&W[te].blend!=0;te++);}var le=W[0],ge=w.WebPDecodeRGBA(L,le.src_off,le.src_size,_,S);le.rgba=ge,le.imgwidth=_[0],le.imgheight=S[0];for(var re=0;re<_[0]*S[0]*4;re++)A[re]=ge[re];return this.width=_,this.height=S,this.data=A,this}(function(n){var e=function(){return typeof p1=="function"},t=function(S,_,A,w){var L=4,F=s;switch(w){case n.image_compression.FAST:L=1,F=o;break;case n.image_compression.MEDIUM:L=6,F=l;break;case n.image_compression.SLOW:L=9,F=d}S=i(S,_,A,F);var k=p1(S,{level:L});return n.__addimage__.arrayBufferToBinaryString(k)},i=function(S,_,A,w){for(var L,F,k,W=S.length/_,te=new Uint8Array(S.length+W),le=g(),ge=0;ge<W;ge+=1){if(k=ge*_,L=S.subarray(k,k+_),w)te.set(w(L,A,F),k+ge);else{for(var re,Y=le.length,me=[];re<Y;re+=1)me[re]=le[re](L,A,F);var xe=y(me.concat());te.set(me[xe],k+ge)}F=L}return te},r=function(S){var _=Array.apply([],S);return _.unshift(0),_},o=function(S,_){var A,w=[],L=S.length;w[0]=1;for(var F=0;F<L;F+=1)A=S[F-_]||0,w[F+1]=S[F]-A+256&255;return w},s=function(S,_,A){var w,L=[],F=S.length;L[0]=2;for(var k=0;k<F;k+=1)w=A&&A[k]||0,L[k+1]=S[k]-w+256&255;return L},l=function(S,_,A){var w,L,F=[],k=S.length;F[0]=3;for(var W=0;W<k;W+=1)w=S[W-_]||0,L=A&&A[W]||0,F[W+1]=S[W]+256-(w+L>>>1)&255;return F},d=function(S,_,A){var w,L,F,k,W=[],te=S.length;W[0]=4;for(var le=0;le<te;le+=1)w=S[le-_]||0,L=A&&A[le]||0,F=A&&A[le-_]||0,k=m(w,L,F),W[le+1]=S[le]-k+256&255;return W},m=function(S,_,A){if(S===_&&_===A)return S;var w=Math.abs(_-A),L=Math.abs(S-A),F=Math.abs(S+_-A-A);return w<=L&&w<=F?S:L<=F?_:A},g=function(){return[r,o,s,l,d]},y=function(S){var _=S.map(function(A){return A.reduce(function(w,L){return w+Math.abs(L)},0)});return _.indexOf(Math.min.apply(null,_))};n.processPNG=function(S,_,A,w){var L,F,k,W,te,le,ge,re,Y,me,xe,V,U,J,Q,Ce=this.decode.FLATE_DECODE,X="";if(this.__addimage__.isArrayBuffer(S)&&(S=new Uint8Array(S)),this.__addimage__.isArrayBufferView(S)){if(S=(k=new Mee(S)).imgData,F=k.bits,L=k.colorSpace,te=k.colors,[4,6].indexOf(k.colorType)!==-1){if(k.bits===8){Y=(re=k.pixelBitlength==32?new Uint32Array(k.decodePixels().buffer):k.pixelBitlength==16?new Uint16Array(k.decodePixels().buffer):new Uint8Array(k.decodePixels().buffer)).length,xe=new Uint8Array(Y*k.colors),me=new Uint8Array(Y);var ue,ie=k.pixelBitlength-k.bits;for(J=0,Q=0;J<Y;J++){for(U=re[J],ue=0;ue<ie;)xe[Q++]=U>>>ue&255,ue+=k.bits;me[J]=U>>>ue&255}}if(k.bits===16){Y=(re=new Uint32Array(k.decodePixels().buffer)).length,xe=new Uint8Array(Y*(32/k.pixelBitlength)*k.colors),me=new Uint8Array(Y*(32/k.pixelBitlength)),V=k.colors>1,J=0,Q=0;for(var ve=0;J<Y;)U=re[J++],xe[Q++]=U>>>0&255,V&&(xe[Q++]=U>>>16&255,U=re[J++],xe[Q++]=U>>>0&255),me[ve++]=U>>>16&255;F=8}w!==n.image_compression.NONE&&e()?(S=t(xe,k.width*k.colors,k.colors,w),ge=t(me,k.width,1,w)):(S=xe,ge=me,Ce=void 0)}if(k.colorType===3&&(L=this.color_spaces.INDEXED,le=k.palette,k.transparency.indexed)){var we=k.transparency.indexed,Je=0;for(J=0,Y=we.length;J<Y;++J)Je+=we[J];if((Je/=255)===Y-1&&we.indexOf(0)!==-1)W=[we.indexOf(0)];else if(Je!==Y){for(re=k.decodePixels(),me=new Uint8Array(re.length),J=0,Y=re.length;J<Y;J++)me[J]=we[re[J]];ge=t(me,k.width,1)}}var N=function(H){var z;switch(H){case n.image_compression.FAST:z=11;break;case n.image_compression.MEDIUM:z=13;break;case n.image_compression.SLOW:z=14;break;default:z=12}return z}(w);return Ce===this.decode.FLATE_DECODE&&(X="/Predictor "+N+" "),X+="/Colors "+te+" /BitsPerComponent "+F+" /Columns "+k.width,(this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S))&&(S=this.__addimage__.arrayBufferToBinaryString(S)),(ge&&this.__addimage__.isArrayBuffer(ge)||this.__addimage__.isArrayBufferView(ge))&&(ge=this.__addimage__.arrayBufferToBinaryString(ge)),{alias:A,data:S,index:_,filter:Ce,decodeParameters:X,transparency:W,palette:le,sMask:ge,predictor:N,width:k.width,height:k.height,bitsPerComponent:F,colorSpace:L}}}})(qt.API),function(n){n.processGIF89A=function(e,t,i,r){var o=new Fee(e),s=o.width,l=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var m={data:d,width:s,height:l},g=new nE(100).encode(m,100);return n.processJPEG.call(this,g,t,i,r)},n.processGIF87A=n.processGIF89A}(qt.API),Os.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Os.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){ii.log("bit decode error:"+t)}},Os.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++)for(var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*r*4,l=0;l<8&&8*r+l<this.width;l++){var d=this.palette[o>>7-l&1];this.data[s+4*l]=d.blue,this.data[s+4*l+1]=d.green,this.data[s+4*l+2]=d.red,this.data[s+4*l+3]=255}t!==0&&(this.pos+=4-t)}},Os.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<n;r++){var o=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*r*4,l=o>>4,d=15&o,m=this.palette[l];if(this.data[s]=m.blue,this.data[s+1]=m.green,this.data[s+2]=m.red,this.data[s+3]=255,2*r+1>=this.width)break;m=this.palette[d],this.data[s+4]=m.blue,this.data[s+4+1]=m.green,this.data[s+4+2]=m.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Os.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*i;if(r<this.palette.length){var s=this.palette[r];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Os.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&e)/e*255|0,d=(o>>10&e)/e*255|0,m=o>>15?255:0,g=i*this.width*4+4*r;this.data[g]=d,this.data[g+1]=l,this.data[g+2]=s,this.data[g+3]=m}this.pos+=n}},Os.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,d=(s>>5&t)/t*255|0,m=(s>>11)/e*255|0,g=r*this.width*4+4*o;this.data[g]=m,this.data[g+1]=d,this.data[g+2]=l,this.data[g+3]=255}this.pos+=n}},Os.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*t;this.data[s]=o,this.data[s+1]=r,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},Os.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=o,this.data[l+1]=r,this.data[l+2]=i,this.data[l+3]=s}},Os.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,i,r){var o=new Os(e,!1),s=o.width,l=o.height,d={data:o.getData(),width:s,height:l},m=new nE(100).encode(d,100);return n.processJPEG.call(this,m,t,i,r)}}(qt.API),kM.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,i,r){var o=new kM(e,!1),s=o.width,l=o.height,d={data:o.getData(),width:s,height:l},m=new nE(100).encode(d,100);return n.processJPEG.call(this,m,t,i,r)}}(qt.API),qt.API.processRGBA=function(n,e,t){for(var i=n.data,r=i.length,o=new Uint8Array(r/4*3),s=new Uint8Array(r/4),l=0,d=0,m=0;m<r;m+=4){var g=i[m],y=i[m+1],S=i[m+2],_=i[m+3];o[l++]=g,o[l++]=y,o[l++]=S,s[d++]=_}var A=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},qt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},_0=qt.API,g1=_0.getCharWidthsArray=function(n,e){var t,i,r=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:r.metadata.Unicode.widths,d=l.fof?l.fof:1,m=e.kerning?e.kerning:r.metadata.Unicode.kerning,g=m.fof?m.fof:1,y=e.doKerning!==!1,S=0,_=n.length,A=0,w=l[0]||d,L=[];for(t=0;t<_;t++)i=n.charCodeAt(t),typeof r.metadata.widthOfString=="function"?L.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+s*(1e3/o)||0)/1e3):(S=y&&Qn(m[i])==="object"&&!isNaN(parseInt(m[i][A],10))?m[i][A]/g:0,L.push((l[i]||w)/d+S)),A=i;return L},PM=_0.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return _0.processArabic&&(n=_0.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,t,r)/t:g1.apply(this,arguments).reduce(function(o,s){return o+s},0)},OM=function(n,e,t,i){for(var r=[],o=0,s=n.length,l=0;o!==s&&l+e[o]<t;)l+=e[o],o++;r.push(n.slice(0,o));var d=o;for(l=0;o!==s;)l+e[o]>i&&(r.push(n.slice(d,o)),l=0,d=o),l+=e[o],o++;return d!==o&&r.push(n.slice(d,o)),r},RM=function(n,e,t){t||(t={});var i,r,o,s,l,d,m,g=[],y=[g],S=t.textIndent||0,_=0,A=0,w=n.split(" "),L=g1.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?w[0].length+2:t.lineIndent||0){var F=Array(d).join(" "),k=[];w.map(function(te){(te=te.split(/\s*\n/)).length>1?k=k.concat(te.map(function(le,ge){return(ge&&le.length?`
`:"")+le})):k.push(te[0])}),w=k,d=PM.apply(this,[F,t])}for(o=0,s=w.length;o<s;o++){var W=0;if(i=w[o],d&&i[0]==`
`&&(i=i.substr(1),W=1),S+_+(A=(r=g1.apply(this,[i,t])).reduce(function(te,le){return te+le},0))>e||W){if(A>e){for(l=OM.apply(this,[i,r,e-(S+_),e]),g.push(l.shift()),g=[l.pop()];l.length;)y.push([l.shift()]);A=r.slice(i.length-(g[0]?g[0].length:0)).reduce(function(te,le){return te+le},0)}else g=[i];y.push(g),S=A+d,_=L}else g.push(i),S+=_+A,_=L}return m=d?function(te,le){return(le?F:"")+te.join(" ")}:function(te){return te.join(" ")},y.map(m)},_0.splitTextToSize=function(n,e,t){var i,r=(t=t||{}).fontSize||this.internal.getFontSize(),o=function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var y=this.internal.getFont(g.fontName,g.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/r;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,o.lineIndent=t.lineIndent;var l,d,m=[];for(l=0,d=i.length;l<d;l++)m=m.concat(RM.apply(this,[i[l],s,o]));return m},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},i={},r=0;r<e.length;r++)t[e[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=e[r];var o=function(y){return"0x"+parseInt(y,10).toString(16)},s=n.__fontmetrics__.compress=function(y){var S,_,A,w,L=["{"];for(var F in y){if(S=y[F],isNaN(parseInt(F,10))?_="'"+F+"'":(F=parseInt(F,10),_=(_=o(F).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof S=="number")S<0?(A=o(S).slice(3),w="-"):(A=o(S).slice(2),w=""),A=w+A.slice(0,-1)+i[A.slice(-1)];else{if(Qn(S)!=="object")throw new Error("Don't know what to do with value type "+Qn(S)+".");A=s(S)}L.push(_+A)}return L.push("}"),L.join("")},l=n.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var S,_,A,w,L={},F=1,k=L,W=[],te="",le="",ge=y.length-1,re=1;re<ge;re+=1)(w=y[re])=="'"?S?(A=S.join(""),S=void 0):S=[]:S?S.push(w):w=="{"?(W.push([k,A]),k={},A=void 0):w=="}"?((_=W.pop())[0][_[1]]=k,A=void 0,k=_[0]):w=="-"?F=-1:A===void 0?t.hasOwnProperty(w)?(te+=t[w],A=parseInt(te,16)*F,F=1,te=""):te+=w:t.hasOwnProperty(w)?(le+=t[w],k[A]=parseInt(le,16)*F,F=1,A=void 0,le=""):le+=w;return L},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(y){var S=y.font,_=g.Unicode[S.postScriptName];_&&(S.metadata.Unicode={},S.metadata.Unicode.widths=_.widths,S.metadata.Unicode.kerning=_.kerning);var A=m.Unicode[S.postScriptName];A&&(S.metadata.Unicode.encoding=A,S.encoding=A.codePages[0])}])}(qt.API),function(n){var e=function(t){for(var i=t.length,r=new Uint8Array(i),o=0;o<i;o++)r[o]=t.charCodeAt(o);return r};n.API.events.push(["addFont",function(t){var i=void 0,r=t.font,o=t.instance;if(!r.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=o.existsFileInVFS(r.postScriptName)===!1?o.loadFile(r.postScriptName):o.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(Yf(l)),s.metadata=n.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(r,i)}}])}(qt),function(n){function e(){return($t.canvg?Promise.resolve($t.canvg):import("./chunk-VRARE7WB.js")).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}qt.API.addSvgAsImage=function(t,i,r,o,s,l,d,m){if(isNaN(i)||isNaN(r))throw ii.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(s))throw ii.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=o,g.height=s;var y=g.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,g.width,g.height);var S={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return e().then(function(A){return A.fromString(y,t,S)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(S)}).then(function(){_.addImage(g.toDataURL("image/jpeg",1),i,r,o,s,d,m)})}}(),qt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,t);return this},qt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,r,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),d=[],m=0,g=0,y=0;function S(A,w){var L,F=!1;for(L=0;L<A.length;L+=1)A[L]===w&&(F=!0);return F}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var _=l.length;for(y=0;y<_;y+=1)t[l[y]].value=t[l[y]].defaultValue,t[l[y]].explicitSet=!1}if(Qn(n)==="object"){for(r in n)if(o=n[r],S(l,r)&&o!==void 0){if(t[r].type==="boolean"&&typeof o=="boolean")t[r].value=o;else if(t[r].type==="name"&&S(t[r].valueSet,o))t[r].value=o;else if(t[r].type==="integer"&&Number.isInteger(o))t[r].value=o;else if(t[r].type==="array"){for(m=0;m<o.length;m+=1)if(i=!0,o[m].length===1&&typeof o[m][0]=="number")d.push(String(o[m]-1));else if(o[m].length>1){for(g=0;g<o[m].length;g+=1)typeof o[m][g]!="number"&&(i=!1);i===!0&&d.push([o[m][0]-1,o[m][1]-1].join(" "))}t[r].value="["+d.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,w=[];for(A in t)t[A].explicitSet===!0&&(t[A].type==="name"?w.push("/"+A+" /"+t[A].value):w.push("/"+A+" "+t[A].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),m=o.length+s.length+l.length+r.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+m+" >>"),this.internal.write("stream"),this.internal.write(r+o+s+l+d),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(qt.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,s){for(var l,d=s.metadata.Unicode.widths,m=["","0","00","000","0000"],g=[""],y=0,S=o.length;y<S;++y){if(l=s.metadata.characterToGlyph(o.charCodeAt(y)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=o.charCodeAt(y),d.indexOf(l)==-1&&(d.push(l),d.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return g.join("");l=l.toString(16),g.push(m[4-l.length],l)}return g.join("")},i=function(o){var s,l,d,m,g,y,S;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],y=0,S=(l=Object.keys(o).sort(function(_,A){return _-A})).length;y<S;y++)s=l[y],d.length>=100&&(g+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(m=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),d.push("<"+s+"><"+m+">"));return d.length&&(g+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),g+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var l=s.font,d=s.out,m=s.newObject,g=s.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="Identity-H"){for(var y=l.metadata.Unicode.widths,S=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),_="",A=0;A<S.length;A++)_+=String.fromCharCode(S[A]);var w=m();g({data:_,addLength1:!0,objectId:w}),d("endobj");var L=m();g({data:i(l.metadata.toUnicode),addLength1:!0,objectId:L}),d("endobj");var F=m();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+b0(l.fontName)),d("/FontFile2 "+w+" 0 R"),d("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),d("/Flags "+l.metadata.flags),d("/StemV "+l.metadata.stemV),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d(">>"),d("endobj");var k=m();d("<<"),d("/Type /Font"),d("/BaseFont /"+b0(l.fontName)),d("/FontDescriptor "+F+" 0 R"),d("/W "+n.API.PDFObject.convert(y)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+l.encoding+")"),d(">>"),d(">>"),d("endobj"),l.objectNumber=m(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+L+" 0 R"),d("/BaseFont /"+b0(l.fontName)),d("/Encoding /"+l.encoding),d("/DescendantFonts ["+k+" 0 R]"),d(">>"),d("endobj"),l.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var l=s.font,d=s.out,m=s.newObject,g=s.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var y=l.metadata.rawData,S="",_=0;_<y.length;_++)S+=String.fromCharCode(y[_]);var A=m();g({data:S,addLength1:!0,objectId:A}),d("endobj");var w=m();g({data:i(l.metadata.toUnicode),addLength1:!0,objectId:w}),d("endobj");var L=m();d("<<"),d("/Descent "+l.metadata.decender),d("/CapHeight "+l.metadata.capHeight),d("/StemV "+l.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+A+" 0 R"),d("/Flags 96"),d("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),d("/FontName /"+b0(l.fontName)),d("/ItalicAngle "+l.metadata.italicAngle),d("/Ascent "+l.metadata.ascender),d(">>"),d("endobj"),l.objectNumber=m();for(var F=0;F<l.metadata.hmtx.widths.length;F++)l.metadata.hmtx.widths[F]=parseInt(l.metadata.hmtx.widths[F]*(1e3/l.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+b0(l.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),d("endobj"),l.isAlreadyPutted=!0}})(o)}]);var r=function(o){var s,l=o.text||"",d=o.x,m=o.y,g=o.options||{},y=o.mutex||{},S=y.pdfEscape,_=y.activeFontKey,A=y.fonts,w=_,L="",F=0,k="",W=A[w].encoding;if(A[w].encoding!=="Identity-H")return{text:l,x:d,y:m,options:g,mutex:y};for(k=l,w=_,Array.isArray(l)&&(k=l[0]),F=0;F<k.length;F+=1)A[w].metadata.hasOwnProperty("cmap")&&(s=A[w].metadata.cmap.unicode.codeMap[k[F].charCodeAt(0)]),s||k[F].charCodeAt(0)<256&&A[w].metadata.hasOwnProperty("Unicode")?L+=k[F]:L+="";var te="";return parseInt(w.slice(1))<14||W==="WinAnsiEncoding"?te=S(L,w).split("").map(function(le){return le.charCodeAt(0).toString(16)}).join(""):W==="Identity-H"&&(te=t(L,A[w])),y.isHex=!0,{text:te,x:d,y:m,options:g,mutex:y}};e.events.push(["postProcessText",function(o){var s=o.text||"",l=[],d={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var m=0;for(m=0;m<s.length;m+=1)Array.isArray(s[m])&&s[m].length===3?l.push([r(Object.assign({},d,{text:s[m][0]})).text,s[m][1],s[m][2]]):l.push(r(Object.assign({},d,{text:s[m]})).text);o.text=l}else o.text=r(Object.assign({},d,{text:s})).text}])}(qt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(qt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,o,s,l,d,m,g,y=e,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],F=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,W=0;this.__bidiEngine__={};var te=function(V){var U=V.charCodeAt(),J=U>>8,Q=w[J];return Q!==void 0?y[256*Q+(255&U)]:J===252||J===253?"AL":F.test(J)?"L":J===8?"R":"N"},le=function(V){for(var U,J=0;J<V.length;J++){if((U=te(V.charAt(J)))==="L")return!1;if(U==="R")return!0}return!1},ge=function(V,U,J,Q){var Ce,X,ue,ie,ve=U[Q];switch(ve){case"L":case"R":k=!1;break;case"N":case"AN":break;case"EN":k&&(ve="AN");break;case"AL":k=!0,ve="R";break;case"WS":ve="N";break;case"CS":Q<1||Q+1>=U.length||(Ce=J[Q-1])!=="EN"&&Ce!=="AN"||(X=U[Q+1])!=="EN"&&X!=="AN"?ve="N":k&&(X="AN"),ve=X===Ce?X:"N";break;case"ES":ve=(Ce=Q>0?J[Q-1]:"B")==="EN"&&Q+1<U.length&&U[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&J[Q-1]==="EN"){ve="EN";break}if(k){ve="N";break}for(ue=Q+1,ie=U.length;ue<ie&&U[ue]==="ET";)ue++;ve=ue<ie&&U[ue]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(ie=U.length,ue=Q+1;ue<ie&&U[ue]==="NSM";)ue++;if(ue<ie){var we=V[Q],Je=we>=1425&&we<=2303||we===64286;if(Ce=U[ue],Je&&(Ce==="R"||Ce==="AL")){ve="R";break}}}ve=Q<1||(Ce=U[Q-1])==="B"?"N":J[Q-1];break;case"B":k=!1,r=!0,ve=W;break;case"S":o=!0,ve="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"BN":ve="N"}return ve},re=function(V,U,J){var Q=V.split("");return J&&Y(Q,J,{hiLevel:W}),Q.reverse(),U&&U.reverse(),Q.join("")},Y=function(V,U,J){var Q,Ce,X,ue,ie,ve=-1,we=V.length,Je=0,N=[],H=W?_:S,z=[];for(k=!1,r=!1,o=!1,Ce=0;Ce<we;Ce++)z[Ce]=te(V[Ce]);for(X=0;X<we;X++){if(ie=Je,N[X]=ge(V,z,N,X),Q=240&(Je=H[ie][A[N[X]]]),Je&=15,U[X]=ue=H[Je][5],Q>0)if(Q===16){for(Ce=ve;Ce<X;Ce++)U[Ce]=1;ve=-1}else ve=-1;if(H[Je][6])ve===-1&&(ve=X);else if(ve>-1){for(Ce=ve;Ce<X;Ce++)U[Ce]=ue;ve=-1}z[X]==="B"&&(U[X]=0),J.hiLevel|=ue}o&&function(ee,de,fe){for(var _e=0;_e<fe;_e++)if(ee[_e]==="S"){de[_e]=W;for(var ye=_e-1;ye>=0&&ee[ye]==="WS";ye--)de[ye]=W}}(z,U,we)},me=function(V,U,J,Q,Ce){if(!(Ce.hiLevel<V)){if(V===1&&W===1&&!r)return U.reverse(),void(J&&J.reverse());for(var X,ue,ie,ve,we=U.length,Je=0;Je<we;){if(Q[Je]>=V){for(ie=Je+1;ie<we&&Q[ie]>=V;)ie++;for(ve=Je,ue=ie-1;ve<ue;ve++,ue--)X=U[ve],U[ve]=U[ue],U[ue]=X,J&&(X=J[ve],J[ve]=J[ue],J[ue]=X);Je=ie}Je++}}},xe=function(V,U,J){var Q=V.split(""),Ce={hiLevel:W};return J||(J=[]),Y(Q,J,Ce),function(X,ue,ie){if(ie.hiLevel!==0&&g)for(var ve,we=0;we<X.length;we++)ue[we]===1&&(ve=L.indexOf(X[we]))>=0&&(X[we]=L[ve+1])}(Q,J,Ce),me(2,Q,U,J,Ce),me(1,Q,U,J,Ce),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(V,U,J){if(function(Ce,X){if(X)for(var ue=0;ue<Ce.length;ue++)X[ue]=ue;l===void 0&&(l=le(Ce)),m===void 0&&(m=le(Ce))}(V,U),s||!d||m)if(s&&d&&l^m)W=l?1:0,V=re(V,U,J);else if(!s&&d&&m)W=l?1:0,V=xe(V,U,J),V=re(V,U);else if(!s||l||d||m){if(s&&!d&&l^m)V=re(V,U),l?(W=0,V=xe(V,U,J)):(W=1,V=xe(V,U,J),V=re(V,U));else if(s&&l&&!d&&m)W=1,V=xe(V,U,J),V=re(V,U);else if(!s&&!d&&l^m){var Q=g;l?(W=1,V=xe(V,U,J),W=0,g=!1,V=xe(V,U,J),g=Q):(W=0,V=xe(V,U,J),V=re(V,U),W=1,g=!1,V=xe(V,U,J),g=Q,V=re(V,U))}}else W=0,V=xe(V,U,J);else W=l?1:0,V=xe(V,U,J);return V},this.__bidiEngine__.setOptions=function(V){V&&(s=V.isInputVisual,d=V.isOutputVisual,l=V.isInputRtl,m=V.isOutputRtl,g=V.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text,o=(i.x,i.y,i.options||{}),s=(i.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(r)==="[object Array]"){var l=0;for(s=[],l=0;l<r.length;l+=1)Object.prototype.toString.call(r[l])==="[object Array]"?s.push([t.doBidiReorder(r[l][0]),r[l][1],r[l][2]]):s.push([t.doBidiReorder(r[l])]);i.text=s}else i.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])}(qt),qt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new ul(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Gee(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Nee(this.contents),this.head=new Oee(this),this.name=new Bee(this),this.cmap=new KM(this),this.toUnicode={},this.hhea=new Ree(this),this.maxp=new Vee(this),this.hmtx=new Uee(this),this.post=new kee(this),this.os2=new Lee(this),this.loca=new zee(this),this.glyf=new qee(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,i,r,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,l,d,m;for(m=[],s=0,l=(d=this.bbox).length;s<l;s++)e=d[s],m.push(Math.round(e*this.scaleFactor));return m}.call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var r,o,s,l;for(s=0,o=0,l=(e=""+e).length;0<=l?o<l:o>l;o=0<=l?++o:--o)r=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/t)||0;return s*(t/1e3)},n.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n}();var Ls,ul=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,r;for(r=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,r,o,s,l,d;return e=this.readByte(),t=this.readByte(),i=this.readByte(),r=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^o)+65536*(255^s)+256*(255^l)+(255^d)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*r+16777216*o+65536*s+256*l+d},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var t,i,r,o;for(o=[],i=0,r=e.length;i<r;i++)t=e[i],o.push(this.writeByte(t));return o},n}(),Nee=function(){var n;function e(t){var i,r,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,o=this.tableCount;0<=o?r<o:r>o;r=0<=o?++r:--r)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,r,o,s,l,d,m,g,y,S,_,A,w;for(w in _=Object.keys(t).length,d=Math.log(2),y=16*Math.floor(Math.log(_)/d),s=Math.floor(y/d),g=16*_-y,(r=new ul).writeInt(this.scalarType),r.writeShort(_),r.writeShort(y),r.writeShort(s),r.writeShort(g),o=16*_,m=r.pos+o,l=null,A=[],t)for(S=t[w],r.writeString(w),r.writeInt(n(S)),r.writeInt(m),r.writeInt(S.length),A=A.concat(S),w==="head"&&(l=m),m+=S.length;m%4;)A.push(0),m++;return r.write(A),i=2981146554-n(r.data),r.pos=l+8,r.writeUInt32(i),r.data},n=function(t){var i,r,o,s;for(t=QM.call(t);t.length%4;)t.push(0);for(o=new ul(t),r=0,i=0,s=t.length;i<s;i=i+=4)r+=o.readUInt32();return 4294967295&r},e}(),Pee={}.hasOwnProperty,ca=function(n,e){for(var t in e)Pee.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};Ls=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var Oee=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var i;return(i=new ul).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(t),i.writeShort(this.glyphDataFormat),i.data},e}(),jM=function(){function n(e,t){var i,r,o,s,l,d,m,g,y,S,_,A,w,L,F,k,W;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(_=e.readUInt16(),S=_/2,e.pos+=6,o=function(){var te,le;for(le=[],d=te=0;0<=S?te<S:te>S;d=0<=S?++te:--te)le.push(e.readUInt16());return le}(),e.pos+=2,w=function(){var te,le;for(le=[],d=te=0;0<=S?te<S:te>S;d=0<=S?++te:--te)le.push(e.readUInt16());return le}(),m=function(){var te,le;for(le=[],d=te=0;0<=S?te<S:te>S;d=0<=S?++te:--te)le.push(e.readUInt16());return le}(),g=function(){var te,le;for(le=[],d=te=0;0<=S?te<S:te>S;d=0<=S?++te:--te)le.push(e.readUInt16());return le}(),r=(this.length-e.pos+this.offset)/2,l=function(){var te,le;for(le=[],d=te=0;0<=r?te<r:te>r;d=0<=r?++te:--te)le.push(e.readUInt16());return le}(),d=F=0,W=o.length;F<W;d=++F)for(L=o[d],i=k=A=w[d];A<=L?k<=L:k>=L;i=A<=L?++k:--k)g[d]===0?s=i+m[d]:(s=l[g[d]/2+(i-A)-(S-d)]||0)!==0&&(s+=m[d]),this.codeMap[i]=65535&s}e.pos=y}return n.encode=function(e,t){var i,r,o,s,l,d,m,g,y,S,_,A,w,L,F,k,W,te,le,ge,re,Y,me,xe,V,U,J,Q,Ce,X,ue,ie,ve,we,Je,N,H,z,ee,de,fe,_e,ye,Ye,Ue,ut;switch(Q=new ul,s=Object.keys(e).sort(function(nt,kt){return nt-kt}),t){case"macroman":for(w=0,L=function(){var nt=[];for(A=0;A<256;++A)nt.push(0);return nt}(),k={0:0},o={},Ce=0,ve=s.length;Ce<ve;Ce++)k[ye=e[r=s[Ce]]]==null&&(k[ye]=++w),o[r]={old:e[r],new:k[e[r]]},L[r]=k[e[r]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(L),{charMap:o,subtable:Q.data,maxGlyphID:w+1};case"unicode":for(U=[],y=[],W=0,k={},i={},F=m=null,X=0,we=s.length;X<we;X++)k[le=e[r=s[X]]]==null&&(k[le]=++W),i[r]={old:le,new:k[le]},l=k[le]-r,F!=null&&l===m||(F&&y.push(F),U.push(r),m=l),F=r;for(F&&y.push(F),y.push(65535),U.push(65535),xe=2*(me=U.length),Y=2*Math.pow(Math.log(me)/Math.LN2,2),S=Math.log(Y/2)/Math.LN2,re=2*me-Y,d=[],ge=[],_=[],A=ue=0,Je=U.length;ue<Je;A=++ue){if(V=U[A],g=y[A],V===65535){d.push(0),ge.push(0);break}if(V-(J=i[V].new)>=32768)for(d.push(0),ge.push(2*(_.length+me-A)),r=ie=V;V<=g?ie<=g:ie>=g;r=V<=g?++ie:--ie)_.push(i[r].new);else d.push(J-V),ge.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*me+2*_.length),Q.writeUInt16(0),Q.writeUInt16(xe),Q.writeUInt16(Y),Q.writeUInt16(S),Q.writeUInt16(re),fe=0,N=y.length;fe<N;fe++)r=y[fe],Q.writeUInt16(r);for(Q.writeUInt16(0),_e=0,H=U.length;_e<H;_e++)r=U[_e],Q.writeUInt16(r);for(Ye=0,z=d.length;Ye<z;Ye++)l=d[Ye],Q.writeUInt16(l);for(Ue=0,ee=ge.length;Ue<ee;Ue++)te=ge[Ue],Q.writeUInt16(te);for(ut=0,de=_.length;ut<de;ut++)w=_[ut],Q.writeUInt16(w);return{charMap:i,subtable:Q.data,maxGlyphID:W+1}}},n}(),KM=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="cmap",e.prototype.parse=function(t){var i,r,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=o?r<o:r>o;r=0<=o?++r:--r)i=new jM(t,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(t,i){var r,o;return i==null&&(i="macroman"),r=jM.encode(t,i),(o=new ul).writeUInt16(0),o.writeUInt16(1),r.table=o.data.concat(r.subtable),r},e}(),Ree=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Lee=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(t.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),kee=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="post",e.prototype.parse=function(t){var i,r,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(r=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)i=t.readByte(),o.push(this.names.push(t.readString(i)));return o;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 196608:break;case 262144:return this.map=function(){var l,d,m;for(m=[],s=l=0,d=this.file.maxp.numGlyphs;0<=d?l<d:l>d;s=0<=d?++l:--l)m.push(t.readUInt32());return m}.call(this)}},e}(),jee=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Bee=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="name",e.prototype.parse=function(t){var i,r,o,s,l,d,m,g,y,S,_;for(t.pos=this.offset,t.readShort(),i=t.readShort(),d=t.readShort(),r=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+d+t.readShort()});for(m={},s=y=0,S=r.length;y<S;s=++y)o=r[s],t.pos=o.offset,g=t.readString(o.length),l=new jee(g,o),m[_=o.nameID]==null&&(m[_]=[]),m[o.nameID].push(l);this.strings=m,this.copyright=m[0],this.fontFamily=m[1],this.fontSubfamily=m[2],this.uniqueSubfamily=m[3],this.fontName=m[4],this.version=m[5];try{this.postscriptName=m[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=m[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=m[7],this.manufacturer=m[8],this.designer=m[9],this.description=m[10],this.vendorUrl=m[11],this.designerUrl=m[12],this.license=m[13],this.licenseUrl=m[14],this.preferredFamily=m[15],this.preferredSubfamily=m[17],this.compatibleFull=m[18],this.sampleText=m[19]},e}(),Vee=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Uee=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="hmtx",e.prototype.parse=function(t){var i,r,o,s,l,d,m;for(t.pos=this.offset,this.metrics=[],i=0,d=this.file.hhea.numberOfMetrics;0<=d?i<d:i>d;i=0<=d?++i:--i)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var g,y;for(y=[],i=g=0;0<=o?g<o:g>o;i=0<=o?++g:--g)y.push(t.readInt16());return y}(),this.widths=function(){var g,y,S,_;for(_=[],g=0,y=(S=this.metrics).length;g<y;g++)s=S[g],_.push(s.advance);return _}.call(this),r=this.widths[this.widths.length-1],m=[],i=l=0;0<=o?l<o:l>o;i=0<=o?++l:--l)m.push(this.widths.push(r));return m},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),QM=[].slice,qee=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var i,r,o,s,l,d,m,g,y,S;return t in this.cache?this.cache[t]:(s=this.file.loca,i=this.file.contents,r=s.indexOf(t),(o=s.lengthOf(t))===0?this.cache[t]=null:(i.pos=this.offset+r,l=(d=new ul(i.read(o))).readShort(),g=d.readShort(),S=d.readShort(),m=d.readShort(),y=d.readShort(),this.cache[t]=l===-1?new Hee(d,g,S,m,y):new $ee(d,l,g,S,m,y),this.cache[t]))},e.prototype.encode=function(t,i,r){var o,s,l,d,m;for(l=[],s=[],d=0,m=i.length;d<m;d++)o=t[i[d]],s.push(l.length),o&&(l=l.concat(o.encode(r)));return s.push(l.length),{table:l,offsets:s}},e}(),$ee=function(){function n(e,t,i,r,o,s){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=r,this.xMax=o,this.yMax=s,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Hee=function(){function n(e,t,i,r,o){var s,l;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=r,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new ul(QM.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),zee=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="loca",e.prototype.parse=function(t){var i,r;return t.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?function(){var o,s;for(s=[],r=0,o=this.length;r<o;r+=2)s.push(2*t.readUInt16());return s}.call(this):function(){var o,s;for(s=[],r=0,o=this.length;r<o;r+=4)s.push(t.readUInt32());return s}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,i){for(var r=new Uint32Array(this.offsets.length),o=0,s=0,l=0;l<r.length;++l)if(r[l]=o,s<i.length&&i[s]==l){++s,r[l]=o;var d=this.offsets[l],m=this.offsets[l+1]-d;m>0&&(o+=m)}for(var g=new Array(4*r.length),y=0;y<r.length;++y)g[4*y+3]=255&r[y],g[4*y+2]=(65280&r[y])>>8,g[4*y+1]=(16711680&r[y])>>16,g[4*y]=(4278190080&r[y])>>24;return g},e}(),Gee=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,r,o;for(t in r=this.font.cmap.tables[0].codeMap,e={},o=this.subset)i=o[t],e[t]=r[i];return e},n.prototype.glyphsFor=function(e){var t,i,r,o,s,l,d;for(r={},s=0,l=e.length;s<l;s++)r[o=e[s]]=this.font.glyf.glyphFor(o);for(o in t=[],r)(i=r[o])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(o in d=this.glyphsFor(t))i=d[o],r[o]=i;return r},n.prototype.encode=function(e,t){var i,r,o,s,l,d,m,g,y,S,_,A,w,L,F;for(r in i=KM.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),_={0:0},F=i.charMap)_[(d=F[r]).old]=d.new;for(A in S=i.maxGlyphID,s)A in _||(_[A]=S++);return g=function(k){var W,te;for(W in te={},k)te[k[W]]=W;return te}(_),y=Object.keys(g).sort(function(k,W){return k-W}),w=function(){var k,W,te;for(te=[],k=0,W=y.length;k<W;k++)l=y[k],te.push(g[l]);return te}(),o=this.font.glyf.encode(s,w,_),m=this.font.loca.encode(o.offsets,w),L={cmap:this.font.cmap.raw(),glyf:o.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},n}();qt.API.PDFObject=function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,r,o,s;if(Array.isArray(t))return"["+function(){var l,d,m;for(m=[],l=0,d=t.length;l<d;l++)i=t[l],m.push(e.convert(i));return m}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in o=["<<"],t)s=t[r],o.push("/"+r+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+t},e}();var Tr=qt;var ZM=Ca(bu());function Wee(n,e){if(n&1&&(u(0,"div",12)(1,"h6",8),c(2,"\u0635\u0648\u0631\u0629 \u0627\u0644\u062F\u0641\u0639 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),a(),M(3,"img",17),a()),n&2){let t=q();f(3),E("src",t.purchaseData.online_payment_image,On)}}var C1=class n{constructor(e,t,i){this._InvoiceService=e;this.router=t;this.route=i}purchaseData;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.fetchPurchaseData(e)}get totalAfterTax(){let e=parseFloat(this.purchaseData?.total_cash||"0"),t=parseFloat(this.purchaseData?.tax_amount||"0");return e-t}fetchPurchaseData(e){this._InvoiceService.getPurchaseInvoiceById(e).subscribe({next:t=>{console.log(t.data),this.purchaseData=t.data||{}},error:t=>{console.error("Error fetching Purchase data:",t.message)}})}exportToPDF(){let e=document.getElementById("invoice-details");e&&(0,ZM.default)(e).then(t=>{let i=t.toDataURL("image/png"),r=new Tr("p","mm","a4"),o=190,s=297,l=t.height*o/t.width,d=l,m=0;for(r.addImage(i,"PNG",10,m,o,l),d-=s;d>=0;)m=d-l,r.addPage(),r.addImage(i,"PNG",10,m,o,l),d-=s;r.save("Purchase_Invoice.pdf")})}static \u0275fac=function(t){return new(t||n)(O(ar),O(Me),O(ft))};static \u0275cmp=Ae({type:n,selectors:[["app-show-purchase-invoices"]],decls:80,vars:11,consts:[[1,"mt-4","mb-4"],[1,"container"],[1,"row"],[1,"col-md-12"],["id","invoice-details",1,"card","shadow","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"col-md-6"],[1,"fw-bold"],[1,"mb-3"],[1,"text-muted"],["class","text-center mt-5",4,"ngIf"],[1,"text-center","mt-5"],[1,"btn","btn-success",3,"click"],[1,"mt-4","mb-4","text-center"],["routerLinkActive","active","routerLink","/dashboard/purchaseInvoices",1,"nav-link"],["type","button",1,"btn","btn-primary","px-4"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u062F\u0641\u0639 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",1,"img-fluid","rounded","mx-auto","d-block",2,"max-width","70%","max-height","400px",3,"src"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5"),c(7,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629"),a()(),u(8,"div",6)(9,"div",2)(10,"div",7)(11,"h6",8),c(12,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064A\u0644"),a(),u(13,"div",9)(14,"label",8),c(15,"\u0627\u0644\u0627\u0633\u0645:"),a(),u(16,"p",10),c(17),a()(),u(18,"div",9)(19,"label",8),c(20,"\u0627\u0644\u0647\u0627\u062A\u0641:"),a(),u(21,"p",10),c(22),a()()(),u(23,"div",7)(24,"h6",8),c(25,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0648\u0631\u062F"),a(),u(26,"div",9)(27,"label",8),c(28,"\u0627\u0644\u0627\u0633\u0645:"),a(),u(29,"p",10),c(30),a()(),u(31,"div",9)(32,"label",8),c(33,"\u0627\u0644\u0647\u0627\u062A\u0641:"),a(),u(34,"p",10),c(35),a()()(),u(36,"div",7)(37,"h6",8),c(38,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),u(39,"div",9)(40,"label",8),c(41,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062A\u062C:"),a(),u(42,"p",10),c(43),a()(),u(44,"div",9)(45,"label",8),c(46,"\u0633\u0639\u0631 \u0627\u0644\u0644\u062A\u0631 \u0627\u0644\u0648\u0627\u062D\u062F:"),a(),u(47,"p",10),c(48),a()(),u(49,"div",9)(50,"label",8),c(51,"\u0639\u062F\u062F \u0627\u0644\u062A\u0631\u0627\u062A:"),a(),u(52,"p",10),c(53),a()()(),u(54,"div",7)(55,"h6",8),c(56,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629"),a(),u(57,"div",9)(58,"label",8),c(59,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639:"),a(),u(60,"p",10),c(61),a()(),u(62,"div",9)(63,"label",8),c(64,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E:"),a(),u(65,"p",10),c(66),a()(),u(67,"div",9)(68,"label",8),c(69,"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A \u0628\u0639\u062F \u0627\u0644\u0636\u0631\u064A\u0628\u0629:"),a(),u(70,"p",10),c(71),a()()()(),D(72,Wee,4,1,"div",11),a()()()(),u(73,"div",12)(74,"button",13),Z("click",function(){return i.exportToPDF()}),c(75,"\u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 PDF"),a()(),u(76,"div",14)(77,"a",15)(78,"button",16),c(79,"\u0631\u062C\u0648\u0639"),a()()()()()),t&2&&(f(17),C((i.purchaseData==null||i.purchaseData.account==null?null:i.purchaseData.account.account_name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.purchaseData==null||i.purchaseData.account==null?null:i.purchaseData.account.phone)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(8),C((i.purchaseData==null||i.purchaseData.supplier==null?null:i.purchaseData.supplier.account_name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.purchaseData==null||i.purchaseData.supplier==null?null:i.purchaseData.supplier.phone)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(8),C((i.purchaseData==null||i.purchaseData.product==null?null:i.purchaseData.product.name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.purchaseData==null?null:i.purchaseData.price)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.purchaseData==null?null:i.purchaseData.amount_letters)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(8),C((i.purchaseData==null?null:i.purchaseData.payment_type)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.purchaseData==null?null:i.purchaseData.date)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C(i.totalAfterTax),f(),E("ngIf",i.purchaseData==null?null:i.purchaseData.online_payment_image))},dependencies:[wt,Ct,qi,Ne,tt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var Yee=n=>["/dashboard/showExpensesInvoices",n],Kee=n=>["/dashboard/updateExpensesInvoices",n];function Qee(n,e){if(n&1){let t=ht();u(0,"tr")(1,"th",13),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td"),c(10),a(),u(11,"td")(12,"div",14)(13,"a",15),M(14,"i",16),a(),u(15,"a",15),M(16,"i",17),a(),u(17,"i",18),Z("click",function(){let r=rt(t).$implicit,o=q();return ot(o.deleteExpenses(r.id))}),a()()()()}if(n&2){let t=e.$implicit,i=e.index;f(2),C(i+1),f(2),C(t.date),f(2),C(t.account.account_name),f(2),C(t.expense.account_name),f(2),C(t.payment_type),f(3),E("routerLink",mn(7,Yee,t.id)),f(2),E("routerLink",mn(9,Kee,t.id))}}var w1=class n{constructor(e,t,i){this._InvoiceService=e;this.router=t;this.toastr=i}isLoading=!1;expenses=[];filteredExpenses=[];searchQuery="";ngOnInit(){this.loadAllExpenses()}loadAllExpenses(){this._InvoiceService.viewAllExpenses().subscribe({next:e=>{e&&(console.log(e.data),this.expenses=e.data,this.filteredExpenses=this.expenses)},error:e=>{console.error(e)}})}filteredExpense(){let e=this.searchQuery.toLowerCase();this.filteredExpenses=this.expenses.filter(t=>t.date.toLowerCase().includes(e)||t.payment_type.toLowerCase().includes(e))}deleteExpenses(e){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A\u061F")&&this._InvoiceService.deleteExpenses(e).subscribe({next:t=>{t&&(this.router.navigate(["/dashboard/expensesInvoices"]),this.loadAllExpenses(),this.toastr.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0645\u0635\u0631\u0648\u0641 \u0628\u0646\u062C\u0627\u062D"))},error:t=>{console.error(t),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A")}})}static \u0275fac=function(t){return new(t||n)(O(ar),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-expenses-invoices"]],decls:34,vars:2,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],["routerLink","/dashboard/addExpensesInvoices",1,"nav-link"],[1,"fa-solid","fa-plus","text-white","iconPlus","rounded"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"fw-bold"],["type","search","placeholder","\u0628\u062D\u062B \u0628\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0623\u0648 \u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639...","aria-label","Search",1,"form-control","search","w-25",3,"ngModelChange","input","ngModel"],[1,"table-responsive"],[1,"table","mt-3"],["scope","col",1,"bg-light"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","justify-content-around","align-items-center"],[1,"nav-link",3,"routerLink"],[1,"fa-solid","fa-eye","btn1","bg-primary","rounded"],[1,"fa-solid","fa-pencil","btn1","bg-success","rounded"],[1,"fa-solid","fa-trash-can","btn1","bg-danger","rounded",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A"),a(),u(4,"span",1),c(5,"\u0627\u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 "),M(6,"i",2),c(7," \u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A"),a()(),u(8,"a",3),M(9,"i",4),a()(),u(10,"div",5)(11,"div",6)(12,"div",0)(13,"span",7),c(14,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A"),a(),u(15,"input",8),Tt("ngModelChange",function(o){return Pt(i.searchQuery,o)||(i.searchQuery=o),o}),Z("input",function(){return i.filteredExpense()}),a()()(),u(16,"div",9)(17,"table",10)(18,"thead")(19,"tr")(20,"th",11),c(21,"#"),a(),u(22,"th",11),c(23,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),u(24,"th",11),c(25,"\u0627\u0644\u062D\u0633\u0627\u0628 \u0645\u0646"),a(),u(26,"th",11),c(27,"\u0627\u0644\u0645\u0635\u0631\u0648\u0641"),a(),u(28,"th",11),c(29,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639"),a(),u(30,"th",11),c(31,"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"),a()()(),u(32,"tbody"),D(33,Qee,18,11,"tr",12),a()()()()),t&2&&(f(15),It("ngModel",i.searchQuery),f(18),E("ngForOf",i.filteredExpenses))},dependencies:[Ne,He,wt,Ct,Xt,Ze,et,xn],styles:["span[_ngcontent-%COMP%]{font-size:12px}.iconPlus[_ngcontent-%COMP%]{background-color:#145388;padding:11px;font-size:10px}.vendortable[_ngcontent-%COMP%]{background-color:#fff}.search[_ngcontent-%COMP%]{width:20%}.search[_ngcontent-%COMP%]{border-radius:20px;padding:.5rem 1rem;max-width:300px}.btn1[_ngcontent-%COMP%]{color:#fff;padding:5px}thead[_ngcontent-%COMP%]{background-color:#000!important}tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}i[_ngcontent-%COMP%]{cursor:pointer}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table[_ngcontent-%COMP%]{min-width:100%}@media (max-width: 768px){.table[_ngcontent-%COMP%]{font-size:12px}}"]})};function Zee(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0645\u0637\u0644\u0648\u0628"),a())}function Jee(n,e){if(n&1&&(u(0,"div",34),D(1,Zee,2,0,"p",35),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.expensesForm.get("date"))==null?null:t.hasError("required"))}}function Xee(n,e){n&1&&(u(0,"p"),c(1,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639 \u0645\u0637\u0644\u0648\u0628"),a())}function ete(n,e){if(n&1&&(u(0,"div",34),D(1,Xee,2,0,"p",35),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.expensesForm.get("payementType"))==null?null:t.hasError("required"))}}function tte(n,e){if(n&1&&(u(0,"option",36),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function nte(n,e){if(n&1){let t=ht();u(0,"div",11)(1,"label",25),c(2,"\u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0627\u0644\u062F\u0641\u0639 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),a(),u(3,"input",26),Z("change",function(r){rt(t);let o=q();return ot(o.onFileChange(r))}),a()()}}function ite(n,e){if(n&1&&(u(0,"option",36),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function rte(n,e){n&1&&(u(0,"p"),c(1,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0646\u0642\u062F\u064A \u0645\u0637\u0644\u0648\u0628"),a())}function ote(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function ste(n,e){if(n&1&&(u(0,"div",34),D(1,rte,2,0,"p",35)(2,ote,2,0,"p",35),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.expensesForm.get("total_cash"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.expensesForm.get("total_cash"))==null?null:i.getError("min"))}}function ate(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function ute(n,e){if(n&1&&(u(0,"div",34)(1,"ul"),D(2,ate,2,1,"li",37),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function lte(n,e){n&1&&M(0,"i",38)}var A1=class n{constructor(e,t,i,r,o){this._InvoiceService=e;this._Router=t;this.toastr=i;this._ProductService=r;this._AccountingService=o}msgError=[];isLoading=!1;products;selectedImage=null;selectedInvoiceImage=null;taxRate;suppliers;accounts;expensesAccounts;expensesForm=new dn({date:new je(this.getTodayDate()),total_cash:new je(null,[ae.required]),payementType:new je(null,[ae.required]),expense_id:new je(null,[ae.required]),account_id:new je(null,[ae.required]),note:new je(null)});ngOnInit(){this.loadProducts(),this.getTaxRate(),this.getExpensesAccounts(),this.expensesForm.addControl("tax_rate",new je(null,[ae.required,ae.pattern(/^\d+(\.\d{1,2})?$/)])),this.expensesForm.get("payementType")?.valueChanges.subscribe(e=>{e==="cash"?this.getAccountsByParent("10"):e==="online"&&this.getAccountsByParent("11")})}loadProducts(){this._ProductService.viewAllProducts().subscribe({next:e=>{e&&(console.log(e),this.products=e)},error:e=>{console.error(e)}})}onFileChange(e){let t=e.target;t.files&&t.files.length>0&&(this.selectedImage=t.files[0])}getTodayDate(){let e=new Date,t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${i}-${r}`}getTaxRate(){this._AccountingService.getTaxRate().subscribe({next:e=>{e&&(this.taxRate=parseFloat(e.rate),console.log(this.taxRate),this.expensesForm.get("tax_rate")?.setValue(this.taxRate))},error:e=>{console.error(e)}})}getAccountsByParent(e){this._AccountingService.getAccountsByParent(e).subscribe({next:t=>{t&&(this.accounts=t.data,console.log(`Accounts for parent ${e}:`,this.accounts))},error:t=>{console.error(t)}})}getExpensesAccounts(){this._AccountingService.viewAllExpensesAccounts().subscribe({next:e=>{e&&(this.expensesAccounts=e.data,console.log(this.expensesAccounts))},error:e=>{console.error(e)}})}get total_cash(){return this.expensesForm.get("total_cash")?.value||0}get taxAmount(){let e=this.total_cash,t=this.taxRate||0;return e*t/100}get totalAfterTax(){let e=this.total_cash,t=this.taxAmount;return e-t}onInvoiceFileChange(e){let t=e.target;t.files&&t.files.length>0&&(this.selectedInvoiceImage=t.files[0])}handleForm(){if(this.expensesForm.valid){this.isLoading=!0;let e=new FormData;e.append("date",this.expensesForm.get("date")?.value),e.append("total_cash",this.expensesForm.get("total_cash")?.value),e.append("expense_id",this.expensesForm.get("expense_id")?.value),e.append("account_id",this.expensesForm.get("account_id")?.value),e.append("payment_type",this.expensesForm.get("payementType")?.value),e.append("note",this.expensesForm.get("note")?.value),e.append("tax_rate",this.taxRate.toString()),e.append("tax_amount",this.taxAmount.toString()),this.expensesForm.get("payementType")?.value==="online"&&this.selectedImage&&e.append("online_payment_image",this.selectedImage),this.selectedInvoiceImage&&e.append("invoice_image",this.selectedInvoiceImage),this._InvoiceService.addExpenses(e).subscribe({next:t=>{console.log(t),t&&(this.toastr.success("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 \u0628\u0646\u062C\u0627\u062D"),this.isLoading=!1,this._Router.navigate(["/dashboard/expensesInvoices"]))},error:t=>{if(this.isLoading=!1,this.msgError=[],t.error&&t.error.errors)for(let i in t.error.errors)t.error.errors[i]instanceof Array?this.msgError.push(...t.error.errors[i]):this.msgError.push(t.error.errors[i]);console.error(this.msgError),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0625\u0636\u0627\u0641\u0629")}})}}static \u0275fac=function(t){return new(t||n)(O(ar),O(Me),O(Qe),O(Ln),O(bn))};static \u0275cmp=Ae({type:n,selectors:[["app-add-expenses-invoices"]],decls:85,vars:19,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","date",1,"form-label"],["id","date","formControlName","date","type","date",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","payementType",1,"form-label"],["id","payementType","formControlName","payementType",1,"form-control"],["value","cash"],["value","online"],[1,"form-label"],["formControlName","account_id",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","form-group col-md-6",4,"ngIf"],["formControlName","expense_id",1,"form-control"],["for","image",1,"form-label"],["id","image","type","file",1,"form-control",3,"change"],["for","total_cash",1,"form-label"],["id","total_cash","formControlName","total_cash","type","number","placeholder","\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0646\u0642\u062F\u064A","required","",1,"form-control"],[1,"form-group","col-md-12"],["for","note",1,"form-label"],["id","note","formControlName","note","rows","4","placeholder","\u0623\u062F\u062E\u0644 \u0623\u064A \u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0623\u0648 \u062A\u0641\u0627\u0635\u064A\u0644 \u0625\u0636\u0627\u0641\u064A\u0629",1,"form-control"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2," \u0625\u062F\u0627\u0631\u0629 \u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0646\u0641\u0642\u0627\u062A "),a(),u(3,"span",1),c(4,"\u0627\u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 "),M(5,"i",2),c(6," \u0627\u0644\u0646\u0641\u0642\u0627\u062A "),M(7,"i",2),c(8," \u0625\u0636\u0627\u0641\u0629 \u0646\u0641\u0642\u0627\u062A "),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17,"\u0625\u0636\u0627\u0641\u0629 \u0646\u0641\u0642\u0627\u062A"),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),M(23,"input",13),D(24,Jee,2,1,"div",14),a(),u(25,"div",11)(26,"label",15),c(27,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639"),a(),u(28,"select",16)(29,"option",17),c(30,"\u0646\u0642\u062F\u064B\u0627"),a(),u(31,"option",18),c(32,"\u062F\u0641\u0639 \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),a()(),D(33,ete,2,1,"div",14),a(),u(34,"div",11)(35,"label",19),c(36,"\u0627\u062E\u062A\u0627\u0631 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),u(37,"select",20)(38,"option",21),c(39,"\u0627\u062E\u062A\u0627\u0631 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),D(40,tte,2,2,"option",22),a()(),D(41,nte,4,0,"div",23),u(42,"div",11)(43,"label",19),c(44,"\u0627\u062E\u062A\u0627\u0631 \u062D\u0633\u0627\u0628 \u0627\u0644\u0646\u0641\u0642\u0627\u062A"),a(),u(45,"select",24)(46,"option",21),c(47,"\u0627\u062E\u062A\u0627\u0631 \u062D\u0633\u0627\u0628 \u0627\u0644\u0646\u0641\u0642\u0627\u062A"),a(),D(48,ite,2,2,"option",22),a()(),u(49,"div",11)(50,"label",25),c(51,"\u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629"),a(),u(52,"input",26),Z("change",function(o){return i.onInvoiceFileChange(o)}),a()()(),u(53,"div",6)(54,"div",11)(55,"label",27),c(56,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0646\u0642\u062F\u064A"),a(),M(57,"input",28),D(58,ste,3,2,"div",14),a(),u(59,"div",11)(60,"label",19),c(61,"\u0646\u0633\u0628\u0629 \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(62,"p"),c(63),a()(),u(64,"div",11)(65,"label",19),c(66,"\u0645\u0628\u0644\u063A \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(67,"p"),c(68),_n(69,"number"),a()(),u(70,"div",11)(71,"label",19),c(72,"\u0625\u062C\u0645\u0627\u0644\u064A \u0628\u0639\u062F \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(73,"p"),c(74),_n(75,"number"),a()()(),u(76,"div",29)(77,"label",30),c(78,"\u0645\u0644\u0627\u062D\u0638\u0629"),a(),M(79,"textarea",31),a()()()(),D(80,ute,3,1,"div",14),u(81,"div",3)(82,"button",32),D(83,lte,1,0,"i",33),c(84," \u062D\u0641\u0638"),a()()()()()()),t&2){let r,o,s,l;f(10),E("formGroup",i.expensesForm),f(14),E("ngIf",((r=i.expensesForm.get("date"))==null?null:r.errors)&&((r=i.expensesForm.get("date"))==null?null:r.touched)),f(9),E("ngIf",((o=i.expensesForm.get("payementType"))==null?null:o.errors)&&((o=i.expensesForm.get("payementType"))==null?null:o.touched)),f(7),E("ngForOf",i.accounts),f(),E("ngIf",((s=i.expensesForm.get("payementType"))==null?null:s.value)==="online"),f(7),E("ngForOf",i.expensesAccounts),f(10),E("ngIf",((l=i.expensesForm.get("total_cash"))==null?null:l.errors)&&((l=i.expensesForm.get("total_cash"))==null?null:l.touched)),f(5),Se("",i.taxRate," %"),f(5),Se("",yn(69,13,i.taxAmount,"1.2-2")," "),f(6),Se("",yn(75,16,i.totalAfterTax,"1.2-2")," "),f(6),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.expensesForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,nr,xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,sn,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};function cte(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0645\u0637\u0644\u0648\u0628"),a())}function dte(n,e){if(n&1&&(u(0,"div",36),D(1,cte,2,0,"p",37),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.expensesForm.get("date"))==null?null:t.hasError("required"))}}function pte(n,e){n&1&&(u(0,"p"),c(1,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639 \u0645\u0637\u0644\u0648\u0628"),a())}function fte(n,e){if(n&1&&(u(0,"div",36),D(1,pte,2,0,"p",37),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.expensesForm.get("payementType"))==null?null:t.hasError("required"))}}function mte(n,e){if(n&1&&(u(0,"option",38),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function hte(n,e){if(n&1){let t=ht();u(0,"div",11)(1,"label",25),c(2,"\u062A\u062D\u0645\u064A\u0644 \u0635\u0648\u0631\u0629 \u0639\u0628\u0631 \u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A"),a(),u(3,"input",26),Z("change",function(r){rt(t);let o=q();return ot(o.onFileChange(r))}),a()()}}function gte(n,e){if(n&1&&(u(0,"option",38),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function vte(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0643\u0644\u064A \u0646\u0642\u062F\u064B\u0627 \u0645\u0637\u0644\u0648\u0628"),a())}function _te(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function yte(n,e){if(n&1&&(u(0,"div",36),D(1,vte,2,0,"p",37)(2,_te,2,0,"p",37),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.expensesForm.get("total_cash"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.expensesForm.get("total_cash"))==null?null:i.getError("min"))}}function bte(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function Ete(n,e){if(n&1&&(u(0,"div",36)(1,"ul"),D(2,bte,2,1,"li",39),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function Ste(n,e){n&1&&M(0,"i",40)}var D1=class n{constructor(e,t,i,r,o,s){this._InvoiceService=e;this._Router=t;this.toastr=i;this._ProductService=r;this._AccountingService=o;this.route=s}msgError=[];isLoading=!1;products;selectedImage=null;selectedInvoiceImage=null;taxRate;suppliers;accounts;expensesAccounts;expensesForm=new dn({date:new je(this.getTodayDate()),total_cash:new je(null,[ae.required]),payementType:new je(null,[ae.required]),expense_id:new je(null,[ae.required]),account_id:new je(null,[ae.required]),note:new je(null)});ngOnInit(){this.loadProducts(),this.getTaxRate(),this.getExpensesAccount(),this.expensesForm.addControl("tax_rate",new je(null,[ae.required,ae.pattern(/^\d+(\.\d{1,2})?$/)])),this.expensesForm.get("payementType")?.valueChanges.subscribe(t=>{t==="cash"?this.getAccountsByParent("10"):t==="online"&&this.getAccountsByParent("11")});let e=this.route.snapshot.paramMap.get("id");e&&this.fetchExpenseData(e)}fetchExpenseData(e){this._InvoiceService.getExpensesById(e).subscribe({next:t=>{if(t){let i=t.data;console.log(i),this.expensesForm.patchValue({date:i.date,total_cash:i.total_cash,account_id:i.account.id,expense_id:i.expense.id,payementType:i.payment_type,note:i.note})}},error:t=>{this.msgError=t.error.error}})}loadProducts(){this._ProductService.viewAllProducts().subscribe({next:e=>{e&&(console.log(e),this.products=e)},error:e=>{console.error(e)}})}onFileChange(e){let t=e.target;t.files&&t.files.length>0&&(this.selectedImage=t.files[0])}getTodayDate(){let e=new Date,t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${i}-${r}`}getTaxRate(){this._AccountingService.getTaxRate().subscribe({next:e=>{e&&(this.taxRate=parseFloat(e.rate),console.log(this.taxRate),this.expensesForm.get("tax_rate")?.setValue(this.taxRate))},error:e=>{console.error(e)}})}getAccountsByParent(e){this._AccountingService.getAccountsByParent(e).subscribe({next:t=>{t&&(this.accounts=t.data,console.log(`Accounts for parent ${e}:`,this.accounts))},error:t=>{console.error(t)}})}getExpensesAccount(){this.expensesAccounts=[],this._AccountingService.viewAllExpensesAccounts().subscribe({next:e=>{e&&(this.expensesAccounts=e.data,console.log(this.expensesAccounts))},error:e=>{console.error(e)}})}get total_cash(){return this.expensesForm.get("total_cash")?.value||0}get taxAmount(){let e=this.total_cash,t=this.taxRate||0;return e*t/100}get totalAfterTax(){let e=this.total_cash,t=this.taxAmount;return e-t}onInvoiceFileChange(e){let t=e.target;t.files&&t.files.length>0&&(this.selectedInvoiceImage=t.files[0])}handleForm(){if(this.expensesForm.valid){this.isLoading=!0;let e=new FormData;e.append("date",this.expensesForm.get("date")?.value),e.append("total_cash",this.expensesForm.get("total_cash")?.value),e.append("expense_id",this.expensesForm.get("expense_id")?.value),e.append("account_id",this.expensesForm.get("account_id")?.value),e.append("payment_type",this.expensesForm.get("payementType")?.value),e.append("note",this.expensesForm.get("note")?.value),e.append("tax_rate",this.taxRate.toString()),e.append("tax_amount",this.taxAmount.toString()),this.expensesForm.get("payementType")?.value==="online"&&this.selectedImage&&e.append("online_payment_image",this.selectedImage),this.selectedInvoiceImage&&e.append("invoice_image",this.selectedInvoiceImage);let t=this.route.snapshot.paramMap.get("id");t&&this._InvoiceService.updateExpenses(t,e).subscribe({next:i=>{console.log(i),i&&(this.toastr.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0645\u0635\u0627\u0631\u064A\u0641 \u0628\u0646\u062C\u0627\u062D"),this.isLoading=!1,this._Router.navigate(["/dashboard/expensesInvoices"]))},error:i=>{if(this.isLoading=!1,this.msgError=[],i.error&&i.error.errors)for(let r in i.error.errors)i.error.errors[r]instanceof Array?this.msgError.push(...i.error.errors[r]):this.msgError.push(i.error.errors[r]);console.error(this.msgError),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u062F\u064A\u062B")}})}}onCancel(){this.expensesForm.reset(),this._Router.navigate(["/dashboard/expensesInvoices"])}static \u0275fac=function(t){return new(t||n)(O(ar),O(Me),O(Qe),O(Ln),O(bn),O(ft))};static \u0275cmp=Ae({type:n,selectors:[["app-update-expenses-invoices"]],decls:87,vars:19,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","date",1,"form-label"],["id","date","formControlName","date","type","date",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","payementType",1,"form-label"],["id","payementType","formControlName","payementType",1,"form-control"],["value","cash"],["value","online"],[1,"form-label"],["formControlName","account_id",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","form-group col-md-6",4,"ngIf"],["formControlName","expense_id",1,"form-control"],["for","image",1,"form-label"],["id","image","type","file",1,"form-control",3,"change"],["for","total_cash",1,"form-label"],["id","total_cash","formControlName","total_cash","type","number","placeholder","\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0643\u0644\u064A \u0646\u0642\u062F\u064B\u0627","required","",1,"form-control"],[1,"form-group","col-md-12"],["for","note",1,"form-label"],["id","note","formControlName","note","rows","4","placeholder","\u0623\u062F\u062E\u0644 \u0623\u064A \u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0623\u0648 \u062A\u0641\u0627\u0635\u064A\u0644 \u0625\u0636\u0627\u0641\u064A\u0629",1,"form-control"],[1,"mt-4","mb-4","d-flex","justify-content-around","w-25"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A"),a(),u(3,"span",1),c(4,"\u0627\u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 "),M(5,"i",2),c(6," \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A "),M(7,"i",2),c(8," \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A"),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17,"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A"),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),M(23,"input",13),D(24,dte,2,1,"div",14),a(),u(25,"div",11)(26,"label",15),c(27,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639"),a(),u(28,"select",16)(29,"option",17),c(30,"\u0646\u0642\u062F\u064A"),a(),u(31,"option",18),c(32,"\u0639\u0628\u0631 \u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A"),a()(),D(33,fte,2,1,"div",14),a(),u(34,"div",11)(35,"label",19),c(36,"\u0627\u062E\u062A\u0631 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),u(37,"select",20)(38,"option",21),c(39,"\u0627\u062E\u062A\u0631 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),D(40,mte,2,2,"option",22),a()(),D(41,hte,4,0,"div",23),u(42,"div",11)(43,"label",19),c(44,"\u0627\u062E\u062A\u0631 \u062D\u0633\u0627\u0628 \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A"),a(),u(45,"select",24)(46,"option",21),c(47,"\u0627\u062E\u062A\u0631 \u062D\u0633\u0627\u0628 \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A"),a(),D(48,gte,2,2,"option",22),a()(),u(49,"div",11)(50,"label",25),c(51,"\u062A\u062D\u0645\u064A\u0644 \u0635\u0648\u0631\u0629 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629"),a(),u(52,"input",26),Z("change",function(o){return i.onInvoiceFileChange(o)}),a()()(),u(53,"div",6)(54,"div",11)(55,"label",27),c(56,"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0643\u0644\u064A \u0646\u0642\u062F\u064B\u0627"),a(),M(57,"input",28),D(58,yte,3,2,"div",14),a(),u(59,"div",11)(60,"label",19),c(61,"\u0645\u0639\u062F\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(62,"p"),c(63),a()(),u(64,"div",11)(65,"label",19),c(66,"\u0645\u0642\u062F\u0627\u0631 \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(67,"p"),c(68),_n(69,"number"),a()(),u(70,"div",11)(71,"label",19),c(72,"\u0627\u0644\u0645\u062C\u0645\u0648\u0639 \u0628\u0639\u062F \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(73,"p"),c(74),_n(75,"number"),a()()(),u(76,"div",29)(77,"label",30),c(78,"\u0645\u0644\u0627\u062D\u0638\u0629"),a(),M(79,"textarea",31),a()()()(),D(80,Ete,3,1,"div",14),u(81,"div",32)(82,"button",33),D(83,Ste,1,0,"i",34),c(84," \u062A\u062D\u062F\u064A\u062B "),a(),u(85,"button",35),Z("click",function(){return i.onCancel()}),c(86,"\u0625\u0644\u063A\u0627\u0621"),a()()()()()()),t&2){let r,o,s,l;f(10),E("formGroup",i.expensesForm),f(14),E("ngIf",((r=i.expensesForm.get("date"))==null?null:r.errors)&&((r=i.expensesForm.get("date"))==null?null:r.touched)),f(9),E("ngIf",((o=i.expensesForm.get("payementType"))==null?null:o.errors)&&((o=i.expensesForm.get("payementType"))==null?null:o.touched)),f(7),E("ngForOf",i.accounts),f(),E("ngIf",((s=i.expensesForm.get("payementType"))==null?null:s.value)==="online"),f(7),E("ngForOf",i.expensesAccounts),f(10),E("ngIf",((l=i.expensesForm.get("total_cash"))==null?null:l.errors)&&((l=i.expensesForm.get("total_cash"))==null?null:l.touched)),f(5),Se("",i.taxRate," %"),f(5),Se("",yn(69,13,i.taxAmount,"1.2-2")," "),f(6),Se("",yn(75,16,i.totalAfterTax,"1.2-2")," "),f(6),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.expensesForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,nr,xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,sn,Dt,Mt],encapsulation:2})};var JM=Ca(bu());function xte(n,e){if(n&1&&(u(0,"div",12)(1,"h6",8),c(2,"\u0635\u0648\u0631\u0629 \u0627\u0644\u062F\u0641\u0639 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),a(),M(3,"img",17),a()),n&2){let t=q();f(3),E("src",t.expensesData.online_payment_image,On)}}function Cte(n,e){if(n&1&&(u(0,"div",12)(1,"h6",8),c(2,"\u0635\u0648\u0631\u0629 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 "),a(),M(3,"img",18),a()),n&2){let t=q();f(3),E("src",t.expensesData.invoice_image,On)}}var I1=class n{constructor(e,t,i){this._InvoiceService=e;this.router=t;this.route=i}expensesData;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.fetchExpensesData(e)}get totalAfterTax(){let e=parseFloat(this.expensesData?.total_cash||"0"),t=parseFloat(this.expensesData?.tax_amount||"0");return e-t}fetchExpensesData(e){this._InvoiceService.getExpensesById(e).subscribe({next:t=>{console.log(t.data),this.expensesData=t.data||{}},error:t=>{console.error("Error fetching Expenses data:",t.message)}})}exportToPDF(){let e=document.getElementById("invoice-details");e&&(0,JM.default)(e).then(t=>{let i=t.toDataURL("image/png"),r=new Tr("p","mm","a4"),o=190,s=297,l=t.height*o/t.width,d=l,m=0;for(r.addImage(i,"PNG",10,m,o,l),d-=s;d>=0;)m=d-l,r.addPage(),r.addImage(i,"PNG",10,m,o,l),d-=s;r.save("Expense_Invoice.pdf")})}static \u0275fac=function(t){return new(t||n)(O(ar),O(Me),O(ft))};static \u0275cmp=Ae({type:n,selectors:[["app-show-expenses-invoices"]],decls:89,vars:13,consts:[[1,"mt-4","mb-4"],[1,"container"],[1,"row"],[1,"col-md-12"],["id","invoice-details",1,"card","shadow","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"col-md-6"],[1,"fw-bold"],[1,"mb-3"],[1,"text-muted"],["class","text-center mt-5",4,"ngIf"],[1,"text-center","mt-5"],[1,"btn","btn-success",3,"click"],[1,"mt-4","mb-4","text-center"],["routerLinkActive","active","routerLink","/dashboard/expensesInvoices",1,"nav-link"],["type","button",1,"btn","btn-primary","px-4"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u062F\u0641\u0639 \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A",1,"img-fluid","rounded","mx-auto","d-block",2,"max-width","70%","max-height","400px",3,"src"],["alt","\u0635\u0648\u0631\u0629 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 ",1,"img-fluid","rounded","mx-auto","d-block",2,"max-width","70%","max-height","400px",3,"src"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5"),c(7,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629"),a()(),u(8,"div",6)(9,"div",2)(10,"div",7)(11,"h6",8),c(12,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064A\u0644"),a(),u(13,"div",9)(14,"label",8),c(15,"\u0627\u0644\u0627\u0633\u0645:"),a(),u(16,"p",10),c(17),a()(),u(18,"div",9)(19,"label",8),c(20,"\u0627\u0644\u0647\u0627\u062A\u0641:"),a(),u(21,"p",10),c(22),a()()(),u(23,"div",7)(24,"h6",8),c(25,"\u062A\u0641\u0627\u0635\u064A\u0644 \u062D\u0633\u0627\u0628 \u0627\u0644\u0645\u0635\u0631\u0648\u0641"),a(),u(26,"div",9)(27,"label",8),c(28,"\u0627\u0644\u0627\u0633\u0645:"),a(),u(29,"p",10),c(30),a()(),u(31,"div",9)(32,"label",8),c(33,"\u0627\u0644\u0647\u0627\u062A\u0641:"),a(),u(34,"p",10),c(35),a()()(),u(36,"div",7)(37,"h6",8),c(38,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629"),a(),u(39,"div",9)(40,"label",8),c(41,"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0636\u0631\u064A\u0628\u064A :"),a(),u(42,"p",10),c(43),a()(),u(44,"div",9)(45,"label",8),c(46,"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A :"),a(),u(47,"p",10),c(48),a()(),u(49,"div",9)(50,"label",8),c(51,"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A \u0628\u0639\u062F \u0627\u0644\u0636\u0631\u064A\u0628\u0629:"),a(),u(52,"p",10),c(53),a()()(),u(54,"div",7)(55,"div",9)(56,"label",8),c(57,"\u0645\u0639\u062F\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629:"),a(),u(58,"p",10),c(59),a()(),u(60,"div",9)(61,"label",8),c(62,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639:"),a(),u(63,"p",10),c(64),a()(),u(65,"div",9)(66,"label",8),c(67,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E:"),a(),u(68,"p",10),c(69),a()()()(),u(70,"div",2)(71,"div",7),D(72,xte,4,1,"div",11),a(),u(73,"div",7),D(74,Cte,4,1,"div",11),a()(),u(75,"div",2)(76,"div",3)(77,"div",9)(78,"label",8),c(79,"\u0645\u0644\u0627\u062D\u0638\u0629:"),a(),u(80,"p",10),c(81),a()()()()()()()(),u(82,"div",12)(83,"button",13),Z("click",function(){return i.exportToPDF()}),c(84,"\u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 PDF"),a()(),u(85,"div",14)(86,"a",15)(87,"button",16),c(88,"\u0631\u062C\u0648\u0639"),a()()()()()),t&2&&(f(17),C((i.expensesData==null||i.expensesData.account==null?null:i.expensesData.account.account_name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.expensesData==null||i.expensesData.account==null?null:i.expensesData.account.phone)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(8),C((i.expensesData==null||i.expensesData.expense==null?null:i.expensesData.expense.account_name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.expensesData==null||i.expensesData.expense==null?null:i.expensesData.expense.phone)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(8),C((i.expensesData==null?null:i.expensesData.tax_amount)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.expensesData==null?null:i.expensesData.total_cash)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C(i.totalAfterTax),f(6),C((i.expensesData==null?null:i.expensesData.tax_rate)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.expensesData==null?null:i.expensesData.payment_type)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.expensesData==null?null:i.expensesData.date)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(3),E("ngIf",i.expensesData==null?null:i.expensesData.online_payment_image),f(2),E("ngIf",i.expensesData==null?null:i.expensesData.invoice_image),f(7),C((i.expensesData==null?null:i.expensesData.note)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"))},dependencies:[Ne,tt,wt,Ct,qi],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var XM=Ca(bu());var rs=class n{constructor(e){this._HttpClient=e}baseURL=ui.apiUrl;yearReport(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/accounts/get-reports`,{headers:t})}getAccountsByType(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(`${this.baseURL}/accounts/get-accounts-by-type/${e}`,{headers:i})}equationHistory(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/equation_history/get-last-base-calculation`,{headers:t})}static \u0275fac=function(t){return new(t||n)(Ge(ni))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};function wte(n,e){if(n&1&&(u(0,"tr"),M(1,"td"),u(2,"td"),c(3),a(),u(4,"td",9),c(5),a()()),n&2){let t=e.$implicit;f(3),C(t.account_name),f(2),C(t.current_balance)}}function Ate(n,e){if(n&1&&(u(0,"tr"),M(1,"td"),u(2,"td"),c(3),a(),u(4,"td",9),c(5),a()()),n&2){let t=e.$implicit;f(3),C(t.account_name),f(2),C(t.current_balance)}}function Dte(n,e){if(n&1&&(u(0,"tr"),M(1,"td"),u(2,"td"),c(3),a(),u(4,"td",9),c(5),a()()),n&2){let t=e.$implicit;f(3),C(t.account_name),f(2),C(t.current_balance)}}function Ite(n,e){if(n&1&&(u(0,"tr"),M(1,"td"),u(2,"td"),c(3),a(),u(4,"td",9),c(5),a()()),n&2){let t=e.$implicit;f(3),C(t.account_name),f(2),C(t.current_balance)}}var T1=class n{constructor(e,t,i){this._ReportsService=e;this.router=t;this.toastr=i}msgError=[];totalBalance19=0;totalBalance20=0;totalBalance22=0;totalBalance23=0;isLoading=!1;accounts19=[];accounts20=[];accounts22=[];accounts23=[];currentYear=0;ngOnInit(){this.getAccountsByType19(),this.getAccountsByType20(),this.getAccountsByType22(),this.getAccountsByType23(),this.getCurrentYear()}getCurrentYear(){let e=new Date;this.currentYear=e.getFullYear()}getAccountsByType19(){this._ReportsService.getAccountsByType("19").subscribe({next:e=>{e&&(this.accounts19=e.data,console.log(e.data),this.totalBalance19=this.accounts19.reduce((t,i)=>t+parseFloat(i.current_balance||0),0))},error:e=>{console.error(e)}})}getAccountsByType20(){this._ReportsService.getAccountsByType("20").subscribe({next:e=>{e&&(this.accounts20=e.data,console.log(e.data),this.totalBalance20=this.accounts20.reduce((t,i)=>t+parseFloat(i.current_balance||0),0))},error:e=>{console.error(e)}})}getAccountsByType22(){this._ReportsService.getAccountsByType("22").subscribe({next:e=>{e&&(this.accounts22=e.data,console.log(e.data),this.totalBalance22=this.accounts22.reduce((t,i)=>t+parseFloat(i.current_balance||0),0))},error:e=>{console.error(e)}})}getAccountsByType23(){this._ReportsService.getAccountsByType("23").subscribe({next:e=>{e&&(this.accounts23=e.data,console.log(e.data),this.totalBalance23=this.accounts23.reduce((t,i)=>t+parseFloat(i.current_balance||0),0))},error:e=>{console.error(e)}})}exportToPDF(){let e=document.getElementById("invoice-details");e&&(0,XM.default)(e).then(t=>{let i=t.toDataURL("image/png"),r=new Tr("p","mm","a4"),o=190,s=297,l=t.height*o/t.width,d=l,m=0;for(r.addImage(i,"PNG",10,m,o,l),d-=s;d>=0;)m=d-l,r.addPage(),r.addImage(i,"PNG",10,m,o,l),d-=s;r.save("\u0625\u064A\u0636\u0627\u062D\u0627\u062A _\u0642\u0627\u0626\u0645\u0629 _\u0627\u0644\u062F\u062E\u0644_ \u0627\u0644\u0639\u0627\u0645.pdf")})}static \u0275fac=function(t){return new(t||n)(O(rs),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-test"]],decls:108,vars:25,consts:[["id","invoice-details",1,"container"],[1,"table-title"],[1,"mt-4"],[1,"table","table-bordered"],[1,"text-info","text-bold"],[1,"w-75"],[1,"currency","w-50"],[4,"ngFor","ngForOf"],[1,"total-row"],[1,"currency"],[1,"mt-4","text-center"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1),c(2,"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629/..............."),a(),u(3,"div",1),c(4," \u0633.\u062A/..................."),a(),u(5,"div",1),c(6,"\u0625\u064A\u0636\u0627\u062D\u0627\u062A \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062F\u062E\u0644 \u0627\u0644\u0639\u0627\u0645 "),M(7,"br"),c(8),a(),u(9,"div",2)(10,"table",3)(11,"thead")(12,"tr")(13,"th",4),c(14,"1"),a(),u(15,"th",5),c(16," \u062A\u0643\u0644\u0641\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A"),a(),u(17,"th",6),c(18),a()(),u(19,"tr"),M(20,"th")(21,"th"),u(22,"th",6),c(23,"\u0631\u064A\u0627\u0644 \u0633\u0639\u0648\u062F\u064A"),a()()(),u(24,"tbody"),D(25,wte,6,2,"tr",7),u(26,"tr",8),M(27,"td"),u(28,"td"),c(29,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"),a(),u(30,"td",9),c(31),_n(32,"number"),a()()()()(),u(33,"div",2)(34,"table",3)(35,"thead")(36,"tr")(37,"th",4),c(38,"2"),a(),u(39,"th",5),c(40," \u0627\u0644\u062A\u0643\u0627\u0644\u064A\u0641 \u0627\u0644\u062A\u0634\u063A\u064A\u0644\u064A\u0629"),a(),u(41,"th",9),c(42),a()(),u(43,"tr"),M(44,"th")(45,"th"),u(46,"th",6),c(47,"\u0631\u064A\u0627\u0644 \u0633\u0639\u0648\u062F\u064A"),a()()(),u(48,"tbody"),D(49,Ate,6,2,"tr",7),u(50,"tr",8),M(51,"td"),u(52,"td"),c(53,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"),a(),u(54,"td",9),c(55),_n(56,"number"),a()()()()(),u(57,"div",2)(58,"table",3)(59,"thead")(60,"tr")(61,"th",4),c(62,"3"),a(),u(63,"th",5),c(64," \u0645\u062E\u0635\u0635 \u0627\u0644\u0627\u0647\u0644\u0627\u0643\u0627\u062A"),a(),u(65,"th",9),c(66),a()(),u(67,"tr"),M(68,"th")(69,"th"),u(70,"th",6),c(71,"\u0631\u064A\u0627\u0644 \u0633\u0639\u0648\u062F\u064A"),a()()(),u(72,"tbody"),D(73,Dte,6,2,"tr",7),u(74,"tr",8),M(75,"td"),u(76,"td"),c(77,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"),a(),u(78,"td",9),c(79),_n(80,"number"),a()()()()(),u(81,"div",2)(82,"table",3)(83,"thead")(84,"tr")(85,"th",4),c(86,"4"),a(),u(87,"th",5),c(88," \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A \u0627\u0644\u0639\u0645\u0648\u0645\u064A\u0629 \u0648\u0627\u0644\u0625\u062F\u0627\u0631\u064A\u0629"),a(),u(89,"th",9),c(90),a()(),u(91,"tr"),M(92,"th")(93,"th"),u(94,"th",6),c(95,"\u0631\u064A\u0627\u0644 \u0633\u0639\u0648\u062F\u064A"),a()()(),u(96,"tbody"),D(97,Ite,6,2,"tr",7),u(98,"tr",8),M(99,"td"),u(100,"td"),c(101,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"),a(),u(102,"td",9),c(103),_n(104,"number"),a()()()()()(),u(105,"div",10)(106,"button",11),Z("click",function(){return i.exportToPDF()}),c(107,"Download as PDF"),a()()),t&2&&(f(8),Se("\u0639\u0646 \u0627\u0644\u0633\u0646\u0629 \u0627\u0644\u0645\u0646\u062A\u0647\u064A\u0629 \u0641\u064A \u0663\u0661 \u062F\u064A\u0633\u0645\u0628\u0631 ",i.currentYear,""),f(10),Se(" ",i.currentYear,""),f(7),E("ngForOf",i.accounts19),f(6),C(yn(32,13,i.totalBalance19,"1.2-2")),f(11),Se(" ",i.currentYear,""),f(7),E("ngForOf",i.accounts20),f(6),C(yn(56,16,i.totalBalance20,"1.2-2")),f(11),Se("",i.currentYear," "),f(7),E("ngForOf",i.accounts22),f(6),C(yn(80,19,i.totalBalance22,"1.2-2")),f(11),Se("",i.currentYear," "),f(7),E("ngForOf",i.accounts23),f(6),C(yn(104,22,i.totalBalance23,"1.2-2")))},dependencies:[Ne,He,nr],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:20px}.table-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#333;margin-bottom:10px}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;padding:5px 10px;border:1px solid #0a0a0a}.total-row[_ngcontent-%COMP%]{font-weight:700}.currency[_ngcontent-%COMP%]{text-align:right}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #333!important;vertical-align:middle}"]})};var eF=Ca(bu());var M1=class n{constructor(e,t,i){this._ReportsService=e;this.router=t;this.toastr=i}report=[];id18=0;id19=0;id18And19Sum=0;id20=0;id21=0;id22=0;id23=0;main_activities=0;id24=0;net_income=0;id25=0;final_net_income=0;ngOnInit(){this.loadAllequationHistory()}loadAllequationHistory(){this._ReportsService.yearReport().subscribe({next:e=>{if(e){console.log(e.data),this.report=e.data;let t=this.report.find(g=>g.id==="18");this.id18=t?t.value:0;let i=this.report.find(g=>g.id==="19");this.id19=i?i.value:0,this.id18And19Sum=this.id18+this.id19;let r=this.report.find(g=>g.id==="20");this.id20=r?r.value:0;let o=this.report.find(g=>g.id==="21");this.id21=o?o.value:0;let s=this.report.find(g=>g.id==="22");this.id22=s?s.value:0;let l=this.report.find(g=>g.id==="23");this.id23=l?l.value:0,this.main_activities=this.id20+this.id21+this.id22+this.id23;let d=this.report.find(g=>g.id==="24");this.id24=d?d.value:0,this.net_income=this.main_activities+this.id24;let m=this.report.find(g=>g.id==="25");this.id25=m?m.value:0,this.final_net_income=this.net_income+this.id25}},error:e=>{console.error(e)}})}exportToPDF(){let e=document.getElementById("invoice-details");e&&(0,eF.default)(e).then(t=>{let i=t.toDataURL("image/png"),r=new Tr("p","mm","a4"),o=190,s=297,l=t.height*o/t.width,d=l,m=0;for(r.addImage(i,"PNG",10,m,o,l),d-=s;d>=0;)m=d-l,r.addPage(),r.addImage(i,"PNG",10,m,o,l),d-=s;r.save("\u0642\u0627\u0626\u0645\u0629_ \u0627\u0644\u062F\u062E\u0644 _\u0627\u0644\u0639\u0627\u0645.pdf")})}static \u0275fac=function(t){return new(t||n)(O(rs),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-test2"]],decls:100,vars:12,consts:[["id","invoice-details",1,"container","my-5"],[1,"mb-4"],[1,"table-title"],[1,"table"],[1,"table-header"],[1,"text-info","text-center"],[1,"fw-bold","text-center"],[1,"text-center"],[1,"text-center","text-danger"],[1,"highlight"],[1,"fw-bold"],[1,"mt-4","text-center"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"h5",2),c(3,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0624\u0633\u0633\u0629"),a(),u(4,"div",2),c(5,"\u0633.\u062A/..................."),a(),u(6,"p",2),c(7,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062F\u062E\u0644 \u0627\u0644\u0639\u0627\u0645 "),M(8,"br"),c(9,"\u0639\u0646 \u0627\u0644\u0633\u0646\u0629 \u0627\u0644\u0645\u0646\u062A\u0647\u064A\u0629 \u0641\u064A \u0663\u0661 \u062F\u064A\u0633\u0645\u0628\u0631 \u0662\u0660\u0662\u0663"),a()(),M(10,"hr"),u(11,"table",3)(12,"thead",4)(13,"tr")(14,"th"),c(15,"\u0627\u0644\u0628\u064A\u0627\u0646"),a(),u(16,"th",5),c(17,"\u0627\u0644\u0625\u064A\u0636\u0627\u062D"),a(),u(18,"th",6),c(19,"\u0631\u064A\u0627\u0644 \u0633\u0639\u0648\u062F\u064A"),a()()(),u(20,"tbody")(21,"tr")(22,"td"),c(23,"\u0635\u0627\u0641\u064A \u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u062A\u0634\u063A\u064A\u0644\u064A\u0629"),a(),M(24,"td"),u(25,"td",7),c(26),a()(),u(27,"tr")(28,"td"),c(29,"\u062A\u0643\u0644\u0641\u0629 \u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A"),a(),u(30,"td",5),c(31,"1"),a(),u(32,"td",8),c(33),a()(),u(34,"tr",9)(35,"td",10),c(36,"\u0645\u062C\u0645\u0644 \u0627\u0644\u0631\u0628\u062D \u0645\u0646 \u0627\u0644\u0623\u0646\u0634\u0637\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629"),a(),M(37,"td"),u(38,"td",6),c(39),a()(),u(40,"tr")(41,"td"),c(42," \u0627\u0644\u062A\u0643\u0627\u0644\u064A\u0641 \u0627\u0644\u062A\u0634\u063A\u064A\u0644\u064A\u0629"),a(),u(43,"td",5),c(44,"2"),a(),u(45,"td",8),c(46),a()(),u(47,"tr")(48,"td"),c(49," \u0645\u0635\u0627\u0631\u064A\u0641 \u0628\u064A\u0639 \u0648\u062A\u0648\u0632\u064A\u0639"),a(),u(50,"td",5),c(51,"3"),a(),u(52,"td",8),c(53),a()(),u(54,"tr")(55,"td"),c(56," \u0645\u062E\u0635\u0635\u0627\u062A \u0627\u0647\u0644\u0627\u0643 \u0627\u0644\u0623\u0635\u0648\u0644 \u0627\u0644\u062B\u0627\u0628\u062A\u0629 "),a(),u(57,"td",5),c(58,"4"),a(),u(59,"td",8),c(60),a()(),u(61,"tr")(62,"td"),c(63,"\u0645\u0635\u0627\u0631\u064A\u0641 \u0627\u062F\u0627\u0631\u064A\u0647 \u0648\u0639\u0645\u0648\u0645\u064A\u0629 "),a(),M(64,"td"),u(65,"td",8),c(66),a()(),u(67,"tr",9)(68,"td",10),c(69," \u0635\u0627\u0641\u0649 \u0627\u0644\u062F\u062E\u0644 \u0627\u0644\u0634\u0627\u0645\u0644 \u0645\u0646 \u0627\u0644\u0623\u0646\u0634\u0637\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 "),a(),M(70,"td"),u(71,"td",6),c(72),a()(),u(73,"tr")(74,"td"),c(75,"\u0625\u064A\u0631\u0627\u062F\u0627\u062A \u0622\u062E\u0631\u0649 "),a(),M(76,"td"),u(77,"td",7),c(78),a()(),u(79,"tr",9)(80,"td",10),c(81,"\u0635\u0627\u0641\u0649 \u062F\u062E\u0644 \u0627\u0644\u0633\u0646\u0647 \u0642\u0628\u0644 \u0627\u0644\u0632\u0643\u0627\u0647 \u0627\u0644\u0634\u0631\u0639\u064A\u0629"),a(),M(82,"td"),u(83,"td",6),c(84),a()(),u(85,"tr")(86,"td"),c(87," \u0627\u0644\u0632\u0643\u0627\u0629 \u0627\u0644\u062A\u0642\u062F\u064A\u0631\u064A\u0629 "),a(),M(88,"td"),u(89,"td",7),c(90),a()(),u(91,"tr",9)(92,"td",10),c(93," \u0635\u0627\u0641\u0649 \u0627\u0644\u062F\u062E\u0644 \u0627\u0644\u0634\u0627\u0645\u0644 \u0628\u0639\u062F \u0627\u0644\u0632\u0643\u0627\u0629 "),a(),M(94,"td"),u(95,"td",6),c(96),a()()()()(),u(97,"div",11)(98,"button",12),Z("click",function(){return i.exportToPDF()}),c(99,"Download as PDF"),a()()),t&2&&(f(26),C(i.id18),f(7),C(i.id19),f(6),C(i.id18And19Sum),f(7),C(i.id20),f(7),C(i.id21),f(7),C(i.id22),f(6),C(i.id23),f(6),C(i.main_activities),f(6),C(i.id24),f(6),C(i.net_income),f(6),C(i.id25),f(6),C(i.final_net_income))},styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.table-header[_ngcontent-%COMP%]{font-weight:700;background-color:#e9ecef;border-bottom:2px solid #333}.amount-column[_ngcontent-%COMP%]{text-align:right;font-weight:700}.highlight[_ngcontent-%COMP%]{background-color:#f8f9fa}.table-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#000;margin-bottom:5px}table[_ngcontent-%COMP%]{border:1px solid #333}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #333!important;vertical-align:middle}hr[_ngcontent-%COMP%]{border-top:2px solid #333}"]})};var tF=Ca(bu());function Tte(n,e){if(n&1&&(u(0,"tr"),M(1,"td"),u(2,"td"),c(3),a(),u(4,"td",9),c(5),a()()),n&2){let t=e.$implicit;f(3),C(t.account_name),f(2),C(t.current_balance)}}function Mte(n,e){if(n&1&&(u(0,"tr"),M(1,"td"),u(2,"td"),c(3),a(),u(4,"td",9),c(5),a()()),n&2){let t=e.$implicit;f(3),C(t.account_name),f(2),C(t.current_balance)}}function Fte(n,e){if(n&1&&(u(0,"tr"),M(1,"td"),u(2,"td"),c(3),a(),u(4,"td",9),c(5),a()()),n&2){let t=e.$implicit;f(3),C(t.account_name),f(2),C(t.current_balance)}}var F1=class n{constructor(e,t,i){this._ReportsService=e;this.router=t;this.toastr=i}msgError=[];totalBalance1=0;totalBalance7=0;totalBalance5=0;isLoading=!1;accounts1=[];accounts7=[];accounts5=[];currentYear=0;ngOnInit(){this.getAccountsByType1(),this.getAccountsByType7(),this.getAccountsByType5(),this.getCurrentYear()}getCurrentYear(){let e=new Date;this.currentYear=e.getFullYear()}getAccountsByType1(){this._ReportsService.getAccountsByType("1").subscribe({next:e=>{e&&(this.accounts1=e.data,console.log(e.data),this.totalBalance1=this.accounts1.reduce((t,i)=>t+parseFloat(i.current_balance||0),0))},error:e=>{console.error(e)}})}getAccountsByType7(){this._ReportsService.getAccountsByType("7").subscribe({next:e=>{e&&(this.accounts7=e.data,console.log(e.data),this.totalBalance7=this.accounts7.reduce((t,i)=>t+parseFloat(i.current_balance||0),0))},error:e=>{console.error(e)}})}getAccountsByType5(){this._ReportsService.getAccountsByType("5").subscribe({next:e=>{e&&(this.accounts5=e.data,console.log(e.data),this.totalBalance5=this.accounts5.reduce((t,i)=>t+parseFloat(i.current_balance||0),0))},error:e=>{console.error(e)}})}exportToPDF(){let e=document.getElementById("invoice-details");e&&(0,tF.default)(e).then(t=>{let i=t.toDataURL("image/png"),r=new Tr("p","mm","a4"),o=190,s=297,l=t.height*o/t.width,d=l,m=0;for(r.addImage(i,"PNG",10,m,o,l),d-=s;d>=0;)m=d-l,r.addPage(),r.addImage(i,"PNG",10,m,o,l),d-=s;r.save("\u0625\u064A\u0636\u0627\u062D\u0627\u062A_ \u0642\u0627\u0626\u0645\u0629 _\u0627\u0644\u0645\u0631\u0643\u0632 _\u0627\u0644\u0645\u0627\u0644\u064A.pdf")})}static \u0275fac=function(t){return new(t||n)(O(rs),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-test3"]],decls:84,vars:19,consts:[["id","invoice-details",1,"container"],[1,"table-title"],[1,"mt-4"],[1,"table","table-bordered"],[1,"text-info","text-bold"],[1,"w-75"],[1,"currency","w-50"],[4,"ngFor","ngForOf"],[1,"total-row"],[1,"currency"],[1,"mt-4","text-center"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1),c(2,"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629/..............."),a(),u(3,"div",1),c(4," \u0633.\u062A/..................."),a(),u(5,"p",1),c(6,"\u0625\u064A\u0636\u0627\u062D\u0627\u062A \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0631\u0643\u0632 \u0627\u0644\u0645\u0627\u0644\u064A "),M(7,"br"),c(8),a(),u(9,"div",2)(10,"table",3)(11,"thead")(12,"tr")(13,"th",4),c(14,"5"),a(),u(15,"th",5),c(16," \u0627\u0644\u0646\u0642\u062F\u064A\u0647 \u0648\u0645\u0627 \u0641\u0649 \u062D\u0643\u0645\u0647\u0627"),a(),u(17,"th",6),c(18),a()(),u(19,"tr"),M(20,"th")(21,"th"),u(22,"th",6),c(23,"\u0631\u064A\u0627\u0644 \u0633\u0639\u0648\u062F\u064A"),a()()(),u(24,"tbody"),D(25,Tte,6,2,"tr",7),u(26,"tr",8),M(27,"td"),u(28,"td"),c(29,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"),a(),u(30,"td",9),c(31),_n(32,"number"),a()()()()(),u(33,"div",2)(34,"table",3)(35,"thead")(36,"tr")(37,"th",4),c(38,"6"),a(),u(39,"th",5),c(40," \u0627\u0631\u0635\u062F\u0629 \u0645\u062F\u064A\u0646\u0629 \u0645\u062F\u064A\u0646\u0629 \u062A\u062C\u0627\u0631\u064A\u0629"),a(),u(41,"th",9),c(42),a()(),u(43,"tr"),M(44,"th")(45,"th"),u(46,"th",6),c(47,"\u0631\u064A\u0627\u0644 \u0633\u0639\u0648\u062F\u064A"),a()()(),u(48,"tbody"),D(49,Mte,6,2,"tr",7),u(50,"tr",8),M(51,"td"),u(52,"td"),c(53,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"),a(),u(54,"td",9),c(55),_n(56,"number"),a()()()()(),u(57,"div",2)(58,"table",3)(59,"thead")(60,"tr")(61,"th",4),c(62,"7"),a(),u(63,"th",5),c(64," \u0635\u0627\u0641\u0649 \u0627\u0644\u0645\u0645\u062A\u0644\u0643\u0627\u062A \u0648\u0627\u0644\u0623\u0635\u0648\u0644 \u0627\u0644\u062B\u0627\u0628\u062A\u0629"),a(),u(65,"th",9),c(66),a()(),u(67,"tr"),M(68,"th")(69,"th"),u(70,"th",6),c(71,"\u0631\u064A\u0627\u0644 \u0633\u0639\u0648\u062F\u064A"),a()()(),u(72,"tbody"),D(73,Fte,6,2,"tr",7),u(74,"tr",8),M(75,"td"),u(76,"td"),c(77,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"),a(),u(78,"td",9),c(79),_n(80,"number"),a()()()()()(),u(81,"div",10)(82,"button",11),Z("click",function(){return i.exportToPDF()}),c(83,"Download as PDF"),a()()),t&2&&(f(8),Se("\u0639\u0646 \u0627\u0644\u0633\u0646\u0629 \u0627\u0644\u0645\u0646\u062A\u0647\u064A\u0629 \u0641\u064A \u0663\u0661 \u062F\u064A\u0633\u0645\u0628\u0631 ",i.currentYear,""),f(10),Se(" ",i.currentYear,""),f(7),E("ngForOf",i.accounts1),f(6),C(yn(32,10,i.totalBalance1,"1.2-2")),f(11),Se(" ",i.currentYear,""),f(7),E("ngForOf",i.accounts5),f(6),C(yn(56,13,i.totalBalance5,"1.2-2")),f(11),Se("",i.currentYear," "),f(7),E("ngForOf",i.accounts7),f(6),C(yn(80,16,i.totalBalance7,"1.2-2")))},dependencies:[Ne,He,nr],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:20px}.table-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#333;margin-bottom:10px}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;padding:5px 10px;border:1px solid #0a0a0a}.total-row[_ngcontent-%COMP%]{font-weight:700}.currency[_ngcontent-%COMP%]{text-align:right}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #333!important;vertical-align:middle}"]})};var nF=Ca(bu());var N1=class n{constructor(e,t,i){this._ReportsService=e;this.router=t;this.toastr=i}currentYear=0;report=[];id1=0;id2=0;id3=0;id4=0;id5=0;id6=0;assetsSum=0;id7=0;id8=0;notAssetsSum=0;allAssetsSum=0;id9=0;id10=0;id11=0;id13=0;requirmentsSum=0;id14=0;notRequirmentsSum=0;allRequirmentsSum=0;id15=0;id16=0;id17=0;partnersSum=0;partnersAndRequirmentsSum=0;ngOnInit(){this.getCurrentYear(),this.loadAllequationHistory()}loadAllequationHistory(){this._ReportsService.yearReport().subscribe({next:e=>{if(e){console.log(e.data),this.report=e.data;let t=this.report.find(k=>k.id==="1");this.id1=t?t.value:0;let i=this.report.find(k=>k.id==="2");this.id2=i?i.value:0;let r=this.report.find(k=>k.id==="3");this.id3=r?r.value:0;let o=this.report.find(k=>k.id==="4");this.id4=o?o.value:0;let s=this.report.find(k=>k.id==="5");this.id5=s?s.value:0;let l=this.report.find(k=>k.id==="6");this.id6=l?l.value:0,this.assetsSum=this.id1+this.id2+this.id3+this.id4+this.id5+this.id6;let d=this.report.find(k=>k.id==="7");this.id7=d?d.value:0;let m=this.report.find(k=>k.id==="8");this.id8=m?m.value:0,this.notAssetsSum=this.id7+this.id8,this.allAssetsSum=this.assetsSum+this.notAssetsSum;let g=this.report.find(k=>k.id==="9");this.id9=g?g.value:0;let y=this.report.find(k=>k.id==="10");this.id10=y?y.value:0;let S=this.report.find(k=>k.id==="11");this.id11=S?S.value:0;let _=this.report.find(k=>k.id==="13");this.id13=_?_.value:0,this.requirmentsSum=this.id9+this.id10+this.id11+this.id13;let A=this.report.find(k=>k.id==="14");this.id14=A?A.value:0,this.notRequirmentsSum=this.id14,this.allRequirmentsSum=this.requirmentsSum+this.notRequirmentsSum;let w=this.report.find(k=>k.id==="15");this.id15=w?A.value:0;let L=this.report.find(k=>k.id==="16");this.id16=L?L.value:0;let F=this.report.find(k=>k.id==="17");this.id17=F?F.value:0,this.partnersSum=this.id15+this.id16+this.id17,this.partnersAndRequirmentsSum=this.allRequirmentsSum+this.partnersSum}},error:e=>{console.error(e)}})}getCurrentYear(){let e=new Date;this.currentYear=e.getFullYear()}exportToPDF(){let e=document.getElementById("invoice-details");e&&(0,nF.default)(e).then(t=>{let i=t.toDataURL("image/png"),r=new Tr("p","mm","a4"),o=190,s=297,l=t.height*o/t.width,d=l,m=0;for(r.addImage(i,"PNG",10,m,o,l),d-=s;d>=0;)m=d-l,r.addPage(),r.addImage(i,"PNG",10,m,o,l),d-=s;r.save("\u0642\u0627\u0626\u0645\u0629 _\u0627\u0644\u0645\u0631\u0643\u0632 _\u0627\u0644\u0645\u0627\u0644\u064A.pdf")})}static \u0275fac=function(t){return new(t||n)(O(rs),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-test4"]],decls:200,vars:26,consts:[["id","invoice-details",1,"container"],[1,"table-title"],[1,"table","table-bordered","text-end"],[1,"text-center","text-info"],[1,"text-center"],["colspan","2",1,"fw-bold"],["colspan","1",1,"fw-bold","text-center"],[1,"fw-bold"],[1,"text-info","text-center","fw-bold"],[1,"fw-bold","text-center"],["colspan","3",1,"fw-bold"],[1,"text-center","fw-bold"],[1,"mt-4","text-center"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1),c(2,"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629/..............."),a(),u(3,"div",1),c(4," \u0633.\u062A/..................."),a(),u(5,"p",1),c(6," \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0631\u0643\u0632 \u0627\u0644\u0645\u0627\u0644\u064A "),M(7,"br"),c(8),a(),u(9,"table",2)(10,"thead")(11,"tr")(12,"th"),c(13,"\u0628\u064A\u0627\u0646"),a(),u(14,"th",3),c(15,"\u0627\u0644\u0625\u064A\u0636\u0627\u062D"),a(),u(16,"th",4),c(17),a()()(),u(18,"tbody")(19,"tr")(20,"td",5),c(21,"\u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0627\u062A"),a(),u(22,"td",6),c(23,"\u0631\u064A\u0627\u0644 \u0633\u0639\u0648\u062F\u064A"),a()(),u(24,"tr")(25,"td",7),c(26,"\u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0627\u062A \u0627\u0644\u0645\u062A\u062F\u0627\u0648\u0644\u0629"),a(),M(27,"td")(28,"td"),a(),u(29,"tr")(30,"td"),c(31,"\u0627\u0644\u0646\u0642\u062F\u064A\u0629 \u0648\u0645\u0627 \u0641\u064A \u062D\u0643\u0645\u0647\u0627"),a(),u(32,"td",8),c(33,"5"),a(),u(34,"td",4),c(35),a()(),u(36,"tr")(37,"td"),c(38,"\u0627\u0644\u0645\u062E\u0632\u0648\u0646 "),a(),M(39,"td"),u(40,"td",4),c(41),a()(),u(42,"tr")(43,"td"),c(44,"\u0627\u0644\u0630\u0645\u0645 \u0627\u0644\u0645\u062F\u064A\u0646\u0629 \u0627\u0644\u062A\u062C\u0627\u0631\u064A\u0629"),a(),M(45,"td"),u(46,"td",4),c(47),a()(),u(48,"tr")(49,"td"),c(50," \u0645\u0635\u0631\u0648\u0641\u0627\u062A \u0645\u062F\u0641\u0648\u0639\u0629 \u0645\u0642\u062F\u0645\u0647"),a(),M(51,"td"),u(52,"td",4),c(53),a()(),u(54,"tr")(55,"td"),c(56," \u0627\u0631\u0635\u062F\u0629 \u0645\u062F\u064A\u0646\u0629 \u062A\u062C\u0627\u0631\u064A\u0629 "),a(),u(57,"td",8),c(58,"6"),a(),u(59,"td",4),c(60),a()(),u(61,"tr")(62,"td"),c(63," \u0623\u0637\u0631\u0627\u0641 \u0630\u0627\u062A \u0639\u0644\u0627\u0642\u0647 \u0645\u062F\u064A\u0646\u0629 "),a(),M(64,"td"),u(65,"td",4),c(66),a()(),u(67,"tr")(68,"td",7),c(69,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0627\u062A \u0627\u0644\u0645\u062A\u062F\u0627\u0648\u0644\u0629"),a(),M(70,"td"),u(71,"td",9),c(72),a()(),u(73,"tr")(74,"td",7),c(75,"\u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0627\u062A \u063A\u064A\u0631 \u0627\u0644\u0645\u062A\u062F\u0627\u0648\u0644\u0629"),a(),M(76,"td")(77,"td"),a(),u(78,"tr")(79,"td"),c(80,"\u0645\u0645\u062A\u0644\u0643\u0627\u062A\u060C \u0622\u0644\u0627\u062A \u0648\u0645\u0639\u062F\u0627\u062A\u060C \u0635\u0627\u0641\u064A"),a(),u(81,"td",8),c(82,"7"),a(),u(83,"td",4),c(84),a()(),u(85,"tr")(86,"td"),c(87,"\u0645\u0634\u0631\u0648\u0639\u0627\u062A \u062A\u062D\u062A \u0627\u0644\u062A\u0646\u0641\u064A\u0630"),a(),M(88,"td"),u(89,"td",4),c(90),a()(),u(91,"tr")(92,"td",7),c(93,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0627\u062A \u063A\u064A\u0631 \u0627\u0644\u0645\u062A\u062F\u0627\u0648\u0644\u0629"),a(),M(94,"td"),u(95,"td",9),c(96),a()(),u(97,"tr")(98,"td",7),c(99,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0627\u062A"),a(),M(100,"td"),u(101,"td",9),c(102),a()(),u(103,"tr")(104,"td",10),c(105,"\u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0627\u062A"),a()(),u(106,"tr")(107,"td",7),c(108,"\u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0627\u062A \u0627\u0644\u0645\u062A\u062F\u0627\u0648\u0644\u0629"),a(),M(109,"td")(110,"td"),a(),u(111,"tr")(112,"td"),c(113,"\u0630\u0645\u0645 \u062F\u0627\u0626\u0646\u0629 \u062A\u062C\u0627\u0631\u064A\u0629"),a(),M(114,"td"),u(115,"td",4),c(116),a()(),u(117,"tr")(118,"td"),c(119,"\u0623\u0637\u0631\u0627\u0641 \u0630\u0627\u062A \u0639\u0644\u0627\u0642\u0629 \u062F\u0627\u0626\u0646\u0629 "),a(),M(120,"td"),u(121,"td",4),c(122),a()(),u(123,"tr")(124,"td"),c(125," \u0627\u0631\u0635\u062F\u0647 \u062F\u0627\u0626\u0646\u0629 \u0622\u062E\u0631\u0649"),a(),M(126,"td"),u(127,"td",4),c(128),a()(),u(129,"tr")(130,"td"),c(131,"\u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062D\u0642\u0629"),a(),M(132,"td"),u(133,"td",4),c(134),a()(),u(135,"tr")(136,"td",7),c(137," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062A\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0645\u062A\u062F\u0627\u0648\u0644\u0629"),a(),M(138,"td"),u(139,"td",9),c(140),a()(),u(141,"tr")(142,"td",7),c(143,"\u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0627\u062A \u063A\u064A\u0631 \u0627\u0644\u0645\u062A\u062F\u0627\u0648\u0644\u0629"),a(),M(144,"td")(145,"td"),a(),u(146,"tr")(147,"td"),c(148,"\u0642\u0631\u0648\u0636 \u0637\u0648\u064A\u0644\u0647 \u0627\u0644\u0627\u062C\u0644 "),a(),M(149,"td"),u(150,"td",4),c(151),a()(),u(152,"tr")(153,"td",7),c(154," \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062A\u0637\u0644\u0628\u0627\u062A \u063A\u064A\u0631 \u0627\u0644\u0645\u062A\u062F\u0627\u0648\u0644\u0629"),a(),M(155,"td"),u(156,"td",9),c(157),a()(),u(158,"tr")(159,"td",7),c(160," \u0627\u062C\u0645\u0627\u0644\u0649 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0627\u062A "),a(),M(161,"td"),u(162,"td",9),c(163),a()(),u(164,"tr")(165,"td",10),c(166,"\u062D\u0642\u0648\u0642 \u0627\u0644\u0634\u0631\u0643\u0627\u0621"),a()(),u(167,"tr")(168,"td"),c(169," \u0631\u0627\u0633 \u0627\u0644\u0645\u0627\u0644 "),a(),M(170,"td"),u(171,"td",4),c(172),a()(),u(173,"tr")(174,"td"),c(175," \u062C\u0627\u0631\u0649 \u0627\u0644\u0634\u0631\u0643\u0627\u0621 "),a(),M(176,"td"),u(177,"td",4),c(178),a()(),u(179,"tr")(180,"td"),c(181," \u0623\u0631\u0628\u0627\u062D \u0627\u0644\u0639\u0627\u0645 "),a(),M(182,"td"),u(183,"td",4),c(184),a()(),u(185,"tr")(186,"td",7),c(187,"\u0645\u062C\u0645\u0648\u0639 \u062D\u0642\u0648\u0642 \u0627\u0644\u0634\u0631\u0643\u0627\u0621 "),a(),M(188,"td"),u(189,"td",11),c(190),a()(),u(191,"tr")(192,"td",7),c(193,"\u0645\u062C\u0645\u0648\u0639 \u062D\u0642\u0648\u0642 \u0627\u0644\u0634\u0631\u0643\u0627\u0621 \u0648\u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0627\u062A"),a(),M(194,"td"),u(195,"td",11),c(196),a()()()()(),u(197,"div",12)(198,"button",13),Z("click",function(){return i.exportToPDF()}),c(199,"Download as PDF"),a()()),t&2&&(f(8),Se("\u0639\u0646 \u0627\u0644\u0633\u0646\u0629 \u0627\u0644\u0645\u0646\u062A\u0647\u064A\u0629 \u0641\u064A \u0663\u0661 \u062F\u064A\u0633\u0645\u0628\u0631 ",i.currentYear,""),f(9),C(i.currentYear),f(18),C(i.id1),f(6),C(i.id2),f(6),C(i.id3),f(6),C(i.id4),f(7),C(i.id5),f(6),C(i.id6),f(6),C(i.assetsSum),f(12),C(i.id7),f(6),C(i.id8),f(6),C(i.notAssetsSum),f(6),C(i.allAssetsSum),f(14),C(i.id9),f(6),C(i.id10),f(6),C(i.id11),f(6),C(i.id13),f(6),C(i.requirmentsSum),f(11),C(i.id14),f(6),C(i.notRequirmentsSum),f(6),C(i.allRequirmentsSum),f(9),C(i.id15),f(6),C(i.id16),f(6),C(i.id17),f(6),C(i.partnersSum),f(6),C(i.partnersAndRequirmentsSum))},styles:[".container[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.table-header[_ngcontent-%COMP%]{font-weight:700;background-color:#e9ecef;border-bottom:2px solid #333}.amount-column[_ngcontent-%COMP%]{text-align:right;font-weight:700}.highlight[_ngcontent-%COMP%]{background-color:#f8f9fa}.table-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#000;margin-bottom:5px}table[_ngcontent-%COMP%]{border:1px solid #333}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #333!important;vertical-align:middle}hr[_ngcontent-%COMP%]{border-top:2px solid #333}"]})};var da=class n{constructor(e){this._HttpClient=e}baseURL=ui.apiUrl;getAllEquation(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/equations`,{headers:t})}addEquation(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.post(`${this.baseURL}/equations`,e,{headers:i})}deleteEquation(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.delete(`${this.baseURL}/equations/${e}`,{headers:i})}getEquationById(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(this.baseURL+"/equations/"+e,{headers:i})}updateEquation(e,t){let i=localStorage.getItem("Gtoken"),r=new Le().set("Authorization",`Bearer ${i}`);return t.append("_method","PUT"),this._HttpClient.post(`${this.baseURL}/equations/${e}`,t,{headers:r})}static \u0275fac=function(t){return new(t||n)(Ge(ni))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var pa=class n{constructor(e){this._HttpClient=e}baseURL=ui.apiUrl;getAllEquationHistory(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/equation_history`,{headers:t})}addEquationHistory(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.post(`${this.baseURL}/equation_history`,e,{headers:i})}deleteEquationHistory(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.delete(`${this.baseURL}/equation_history/${e}`,{headers:i})}getEquationHistoryById(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(this.baseURL+"/equation_history/"+e,{headers:i})}updateEquationHistory(e,t){let i=localStorage.getItem("Gtoken"),r=new Le().set("Authorization",`Bearer ${i}`);return t.append("_method","PUT"),this._HttpClient.post(`${this.baseURL}/equation_history/${e}`,t,{headers:r})}static \u0275fac=function(t){return new(t||n)(Ge(ni))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var Nte=n=>["/dashboard/showEquation",n],Pte=n=>["/dashboard/updateEquation",n],Ote=n=>["/dashboard/historyOfEquation",n];function Rte(n,e){if(n&1){let t=ht();u(0,"tr")(1,"th",28),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td"),c(10),a(),u(11,"td"),c(12),a(),u(13,"td")(14,"div",29)(15,"a",30),M(16,"i",31),a(),u(17,"a",30),M(18,"i",32),a(),u(19,"a",30),M(20,"i",33),a(),u(21,"i",34),Z("click",function(){let r=rt(t).$implicit,o=q();return ot(o.deleteEquations(r.id))}),a(),u(22,"button",35),Z("click",function(){let r=rt(t).$implicit,o=q();return ot(o.openModal("historyModal",r.id))}),c(23,"\u0633\u062C\u0644 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629"),a()()()()}if(n&2){let t=e.$implicit,i=e.index;f(2),C(i+1),f(2),C(t.base_id.account_name),f(2),C(t.collection_id.account_name),f(2),C(t==null?null:t.first_price),f(2),C(t.current_price),f(2),C(t.number_of_periods),f(3),E("routerLink",mn(9,Nte,t.id)),f(2),E("routerLink",mn(11,Pte,t.id)),f(2),E("routerLink",mn(13,Ote,t.id))}}function Lte(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 2000"),a())}function kte(n,e){if(n&1&&(u(0,"p"),c(1),a()),n&2){let t=q(2);f(),Se("\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0647\u0648 ",t.currentYear,"")}}function jte(n,e){if(n&1&&(u(0,"div",36),D(1,Lte,2,0,"p",37)(2,kte,2,1,"p",37),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.equationHistory.get("year"))==null?null:t.hasError("min")),f(),E("ngIf",(i=r.equationHistory.get("year"))==null?null:i.hasError("max"))}}function Bte(n,e){if(n&1&&(u(0,"div",36)(1,"p"),c(2),a()()),n&2){let t=q();f(2),C(t.message)}}function Vte(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function Ute(n,e){if(n&1&&(u(0,"div",36)(1,"ul"),D(2,Vte,2,1,"li",13),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}var R1=class n{constructor(e,t,i,r){this._EquationService=e;this._EquationHistoryService=t;this.router=i;this.toastr=r}msgError=[];message;getTodayDate(){new Date().getFullYear()}selectedEquationId=null;isLoading=!1;equations=[];filteredEquations=[];searchQuery="";currentYear=0;equationHistory=new dn({year:new je(null,[ae.min(2e3),ae.max(new Date().getFullYear()),ae.pattern(/^\d+$/)])});ngOnInit(){this.getCurrentYear(),this.loadAllequations()}getCurrentYear(){let e=new Date;this.currentYear=e.getFullYear()}loadAllequations(){this._EquationService.getAllEquation().subscribe({next:e=>{e&&(console.log(e.data),this.equations=e.data,this.filteredEquations=this.equations)},error:e=>{console.error(e)}})}openModal(e,t){this.selectedEquationId=t;let i=document.getElementById(e);i&&new hr(i).show()}closeModal(e){let t=document.getElementById(e);t&&hr.getInstance(t)?.hide()}filteredEquation(){let e=this.searchQuery.toLowerCase();this.filteredEquations=this.equations.filter(t=>t.collection_id.toString().toLowerCase().includes(e)||t.base_id.toString().toLowerCase().includes(e)||t.first_price.toString().toLowerCase().includes(e)||t.current_price.toString().toLowerCase().includes(e)||t.number_of_periods.toString().toLowerCase().includes(e))}submitHistoryForm(){if(this.equationHistory.valid){this.isLoading=!0;let e=this.equationHistory.get("year")?.value;console.log("Year value from form control:",e);let t=new FormData;t.append("year",String(e)),this.selectedEquationId!==null&&t.append("equation_id",this.selectedEquationId.toString()),this._EquationHistoryService.addEquationHistory(t).subscribe({next:i=>{console.log(i),i&&(this.toastr.success("\u062A\u0645\u062A \u0625\u0636\u0627\u0641\u0629 \u0633\u062C\u0644 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629 \u0628\u0646\u062C\u0627\u062D"),this.isLoading=!1,this.router.navigate(["/dashboard/equations"]),this.closeModal("historyModal"))},error:i=>{if(this.isLoading=!1,this.message=i.error.message,console.log(this.message),this.msgError=[],i.error&&i.error.errors)for(let r in i.error.errors)i.error.errors[r]instanceof Array?this.msgError.push(...i.error.errors[r]):this.msgError.push(i.error.errors[r]);console.error(this.msgError)}})}}deleteEquations(e){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629\u061F")&&this._EquationService.deleteEquation(e).subscribe({next:t=>{t&&(this.router.navigate(["/dashboard/equations"]),this.loadAllequations(),this.toastr.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629 \u0628\u0646\u062C\u0627\u062D"))},error:t=>{console.error(t),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629")}})}static \u0275fac=function(t){return new(t||n)(O(da),O(pa),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-equations"]],decls:57,vars:8,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],["routerLink","/dashboard/equationHistory",1,"nav-link","text-white","bg-secondary","p-2","rounded"],["routerLink","/dashboard/addEquation",1,"nav-link"],[1,"fa-solid","fa-plus","text-white","iconPlus","rounded"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"fw-bold"],["type","search","placeholder","\u0628\u062D\u062B","aria-label","\u0628\u062D\u062B",1,"form-control","search","w-25",3,"ngModelChange","input","ngModel"],[1,"table-responsive"],[1,"table","mt-3"],["scope","col",1,"bg-light"],[4,"ngFor","ngForOf"],["id","historyModal","tabindex","-1","aria-labelledby","historyModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","d-flex","justify-content-between","align-items-center","w-100"],["id","historyModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","\u0625\u063A\u0644\u0627\u0642",1,"btn-close","ms-3",3,"click"],[1,"modal-body"],[3,"ngSubmit","formGroup"],[1,"form-group","col-md-6"],["for","year",1,"form-label"],["id","year","formControlName","year","type","number","min","2000",1,"form-control",3,"max"],["class","alert alert-danger",4,"ngIf"],["type","hidden",3,"value"],["type","submit",1,"btn","btn-primary"],["scope","row"],[1,"d-flex","justify-content-around","align-items-center"],[1,"nav-link",3,"routerLink"],[1,"fa-solid","fa-eye","btn1","bg-primary","rounded"],[1,"fa-solid","fa-pencil","btn1","bg-success","rounded"],[1,"fa-solid","fa-clock-rotate-left","btn1","bg-warning","rounded"],[1,"fa-solid","fa-trash-can","btn1","bg-danger","rounded",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0627\u062A"),a(),u(4,"span",1),c(5,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(6,"i",2),c(7," \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0627\u062A"),a()(),u(8,"a",3),c(9," \u0633\u062C\u0644 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0627\u062A "),a(),u(10,"a",4),M(11,"i",5),a()(),u(12,"div",6)(13,"div",7)(14,"div",0)(15,"span",8),c(16,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0627\u062A"),a(),u(17,"input",9),Tt("ngModelChange",function(o){return Pt(i.searchQuery,o)||(i.searchQuery=o),o}),Z("input",function(){return i.filteredEquation()}),a()()(),u(18,"div",10)(19,"table",11)(20,"thead")(21,"tr")(22,"th",12),c(23,"#"),a(),u(24,"th",12),c(25,"\u0627\u0644\u062A\u062C\u0645\u064A\u0639"),a(),u(26,"th",12),c(27,"\u0627\u0644\u0623\u0633\u0627\u0633"),a(),u(28,"th",12),c(29,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0623\u0648\u0644"),a(),u(30,"th",12),c(31,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u062D\u0627\u0644\u064A"),a(),u(32,"th",12),c(33,"\u0639\u062F\u062F \u0627\u0644\u0641\u062A\u0631\u0627\u062A"),a(),u(34,"th",12),c(35,"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"),a()()(),u(36,"tbody"),D(37,Rte,24,15,"tr",13),a()()()(),u(38,"div",14)(39,"div",15)(40,"div",16)(41,"div",17)(42,"h5",18),c(43,"\u0633\u062C\u0644 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629"),a(),u(44,"button",19),Z("click",function(){return i.closeModal("historyModal")}),a()(),u(45,"div",20)(46,"form",21),Z("ngSubmit",function(){return i.submitHistoryForm()}),u(47,"div",22)(48,"label",23),c(49,"\u0627\u0644\u0633\u0646\u0629"),a(),M(50,"input",24),D(51,jte,3,2,"div",25),a(),M(52,"input",26),D(53,Bte,3,1,"div",25)(54,Ute,3,1,"div",25),u(55,"button",27),c(56,"\u0625\u0631\u0633\u0627\u0644"),a()()()()()()),t&2){let r;f(17),It("ngModel",i.searchQuery),f(20),E("ngForOf",i.filteredEquations),f(9),E("formGroup",i.equationHistory),f(4),Np("max",i.currentYear),f(),E("ngIf",((r=i.equationHistory.get("year"))==null?null:r.errors)&&((r=i.equationHistory.get("year"))==null?null:r.touched)),f(),E("value",i.selectedEquationId),f(),E("ngIf",i.message),f(),E("ngIf",i.msgError&&i.msgError.length>0)}},dependencies:[Ne,He,tt,Xt,Rt,Ze,on,et,Ot,nc,J3,xn,wt,Ct,xt,Dt,Mt],styles:["span[_ngcontent-%COMP%]{font-size:12px}.iconPlus[_ngcontent-%COMP%]{background-color:#145388;padding:11px;font-size:10px}.vendortable[_ngcontent-%COMP%]{background-color:#fff}.search[_ngcontent-%COMP%]{width:20%}.search[_ngcontent-%COMP%]{border-radius:20px;padding:.5rem 1rem;max-width:300px}.btn1[_ngcontent-%COMP%]{color:#fff;padding:5px}thead[_ngcontent-%COMP%]{background-color:#000!important}tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}i[_ngcontent-%COMP%]{cursor:pointer}.modal-dialog[_ngcontent-%COMP%]{top:30%}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table[_ngcontent-%COMP%]{min-width:100%}@media (max-width: 768px){.table[_ngcontent-%COMP%]{font-size:12px}}"]})};function qte(n,e){n&1&&(u(0,"p"),c(1,"\u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 \u0627\u0644\u0623\u0648\u0644\u064A \u0645\u0637\u0644\u0648\u0628"),a())}function $te(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function Hte(n,e){if(n&1&&(u(0,"div",26),D(1,qte,2,0,"p",27)(2,$te,2,0,"p",27),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.equationForm.get("first_price"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.equationForm.get("first_price"))==null?null:i.getError("min"))}}function zte(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u062D\u0627\u0644\u064A \u0645\u0637\u0644\u0648\u0628"),a())}function Gte(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function Wte(n,e){if(n&1&&(u(0,"div",26),D(1,zte,2,0,"p",27)(2,Gte,2,0,"p",27),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.equationForm.get("current_price"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.equationForm.get("current_price"))==null?null:i.getError("min"))}}function Yte(n,e){n&1&&(u(0,"p"),c(1," \u0627\u0644\u0639\u0645\u0631 \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u0649 \u0628\u0627\u0644\u0633\u0646\u0647 \u0645\u0637\u0644\u0648\u0628"),a())}function Kte(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function Qte(n,e){if(n&1&&(u(0,"div",26),D(1,Yte,2,0,"p",27)(2,Kte,2,0,"p",27),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.equationForm.get("number_of_periods"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.equationForm.get("number_of_periods"))==null?null:i.getError("min"))}}function Zte(n,e){if(n&1&&(u(0,"option",28),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function Jte(n,e){if(n&1&&(u(0,"option",28),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function Xte(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function ene(n,e){if(n&1&&(u(0,"div",26)(1,"ul"),D(2,Xte,2,1,"li",29),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function tne(n,e){n&1&&M(0,"i",30)}var L1=class n{constructor(e,t,i,r){this._EquationService=e;this._Router=t;this._AccountingService=i;this.toastr=r}msgError=[];isLoading=!1;products=[];accounts;collections;bases;equationForm=new dn({first_price:new je(null,[ae.required,ae.min(0)]),current_price:new je(null,[ae.required,ae.min(0)]),number_of_periods:new je(null,[ae.required,ae.min(0)]),collection_id:new je(null,[ae.required]),base_id:new je(null,[ae.required])});ngOnInit(){this.getCollections(),this.getBases()}getCollections(){this._AccountingService.getAccountsByParent("25").subscribe({next:e=>{e&&(this.collections=e.data,console.log("Accounts for parent 25:",this.collections))},error:e=>{console.error(e)}})}getBases(){this._AccountingService.getAccountsByParent("2").subscribe({next:e=>{e&&(this.bases=e.data,console.log("Accounts for parent 2:",this.bases))},error:e=>{console.error(e)}})}handleForm(){if(this.equationForm.valid){this.isLoading=!0;let e=new FormData;e.append("first_price",this.equationForm.get("first_price")?.value),e.append("current_price",this.equationForm.get("current_price")?.value),e.append("number_of_periods",this.equationForm.get("number_of_periods")?.value),e.append("collection_id",this.equationForm.get("collection_id")?.value),e.append("base_id",this.equationForm.get("base_id")?.value),this._EquationService.addEquation(e).subscribe({next:t=>{console.log(t),t&&(this.toastr.success("\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629 \u0628\u0646\u062C\u0627\u062D"),this.isLoading=!1,this._Router.navigate(["/dashboard/equations"]))},error:t=>{if(this.isLoading=!1,this.msgError=[],t.error&&t.error.errors)for(let i in t.error.errors)t.error.errors[i]instanceof Array?this.msgError.push(...t.error.errors[i]):this.msgError.push(t.error.errors[i]);console.error(this.msgError),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629")}})}}static \u0275fac=function(t){return new(t||n)(O(da),O(Me),O(bn),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-add-equation"]],decls:54,vars:9,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","first_price",1,"form-label"],["id","first_price","formControlName","first_price","type","number","min","0","placeholder","\u0623\u062F\u062E\u0644 \u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 \u0627\u0644\u0623\u0648\u0644\u064A","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","current_price",1,"form-label"],["id","current_price","formControlName","current_price","type","number","min","0","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u062D\u0627\u0644\u064A","required","",1,"form-control"],["for","number_of_periods",1,"form-label"],["id","number_of_periods","formControlName","number_of_periods","type","number","min","0","placeholder","\u0623\u062F\u062E\u0644  \u0627\u0644\u0639\u0645\u0631 \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u0649 \u0628\u0627\u0644\u0633\u0646\u0647","required","",1,"form-control"],[1,"form-label"],["formControlName","collection_id",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","base_id",1,"form-control"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2," \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0627\u062A "),a(),u(3,"span",1),c(4,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(5,"i",2),c(6," \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0627\u062A "),M(7,"i",2),c(8," \u0625\u0636\u0627\u0641\u0629 \u0645\u0639\u0627\u062F\u0644\u0629 "),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17," \u0625\u0636\u0627\u0641\u0629 \u0645\u0639\u0627\u062F\u0644\u0629 "),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22," \u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621 \u0627\u0644\u0627\u0648\u0644\u0649"),a(),M(23,"input",13),D(24,Hte,3,2,"div",14),a(),u(25,"div",11)(26,"label",15),c(27,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u062D\u0627\u0644\u064A"),a(),M(28,"input",16),D(29,Wte,3,2,"div",14),a(),u(30,"div",11)(31,"label",17),c(32," \u0627\u0644\u0639\u0645\u0631 \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u0649 \u0628\u0627\u0644\u0633\u0646\u0647"),a(),M(33,"input",18),D(34,Qte,3,2,"div",14),a(),u(35,"div",11)(36,"label",19),c(37,"\u0627\u062E\u062A\u0631 \u0645\u062C\u0645\u0639 \u0627\u0644\u0627\u0647\u0644\u0627\u0643"),a(),u(38,"select",20)(39,"option",21),c(40,"\u0627\u062E\u062A\u0631 \u0645\u062C\u0645\u0639 \u0627\u0644\u0627\u0647\u0644\u0627\u0643 "),a(),D(41,Zte,2,2,"option",22),a()(),u(42,"div",11)(43,"label",19),c(44,"\u0627\u062E\u062A\u0631 \u062D\u0633\u0627\u0628 \u0627\u0644\u0627\u0635\u0644 \u0627\u0644\u062B\u0627\u0628\u062A"),a(),u(45,"select",23)(46,"option",21),c(47,"\u0627\u062E\u062A\u0631 \u062D\u0633\u0627\u0628 \u0627\u0644\u0627\u0635\u0644 \u0627\u0644\u062B\u0627\u0628\u062A"),a(),D(48,Jte,2,2,"option",22),a()()()()()(),D(49,ene,3,1,"div",14),u(50,"div",3)(51,"button",24),D(52,tne,1,0,"i",25),c(53," \u062D\u0641\u0638 "),a()()()()()()),t&2){let r,o,s;f(10),E("formGroup",i.equationForm),f(14),E("ngIf",((r=i.equationForm.get("first_price"))==null?null:r.errors)&&((r=i.equationForm.get("first_price"))==null?null:r.touched)),f(5),E("ngIf",((o=i.equationForm.get("current_price"))==null?null:o.errors)&&((o=i.equationForm.get("current_price"))==null?null:o.touched)),f(5),E("ngIf",((s=i.equationForm.get("number_of_periods"))==null?null:s.errors)&&((s=i.equationForm.get("number_of_periods"))==null?null:s.touched)),f(7),E("ngForOf",i.collections),f(7),E("ngForOf",i.bases),f(),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.equationForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,sn,nc,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};function nne(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0623\u0648\u0644 \u0645\u0637\u0644\u0648\u0628"),a())}function ine(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function rne(n,e){if(n&1&&(u(0,"div",28),D(1,nne,2,0,"p",29)(2,ine,2,0,"p",29),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.equationForm.get("first_price"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.equationForm.get("first_price"))==null?null:i.getError("min"))}}function one(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u062D\u0627\u0644\u064A \u0645\u0637\u0644\u0648\u0628"),a())}function sne(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function ane(n,e){if(n&1&&(u(0,"div",28),D(1,one,2,0,"p",29)(2,sne,2,0,"p",29),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.equationForm.get("current_price"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.equationForm.get("current_price"))==null?null:i.getError("min"))}}function une(n,e){n&1&&(u(0,"p"),c(1,"\u0639\u062F\u062F \u0627\u0644\u0641\u062A\u0631\u0627\u062A \u0645\u0637\u0644\u0648\u0628"),a())}function lne(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u062F\u0646\u0649 \u0647\u0648 0"),a())}function cne(n,e){if(n&1&&(u(0,"div",28),D(1,une,2,0,"p",29)(2,lne,2,0,"p",29),a()),n&2){let t,i,r=q();f(),E("ngIf",(t=r.equationForm.get("number_of_periods"))==null?null:t.getError("required")),f(),E("ngIf",(i=r.equationForm.get("number_of_periods"))==null?null:i.getError("min"))}}function dne(n,e){if(n&1&&(u(0,"option",30),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function pne(n,e){if(n&1&&(u(0,"option",30),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function fne(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function mne(n,e){if(n&1&&(u(0,"div",28)(1,"ul"),D(2,fne,2,1,"li",31),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function hne(n,e){n&1&&M(0,"i",32)}var k1=class n{constructor(e,t,i,r,o){this._EquationService=e;this._Router=t;this._AccountingService=i;this.toastr=r;this.route=o}msgError=[];isLoading=!1;products=[];accounts;collections;bases;equationForm=new dn({first_price:new je(null,[ae.required,ae.min(0)]),current_price:new je(null,[ae.required,ae.min(0)]),number_of_periods:new je(null,[ae.required,ae.min(0)]),collection_id:new je(null,[ae.required]),base_id:new je(null,[ae.required])});ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.fetchEquationData(e),this.getCollections(),this.getBases()}fetchEquationData(e){this._EquationService.getEquationById(e).subscribe({next:t=>{if(console.log("Equation Response:",t.data),t){let i=t.data;this.equationForm.patchValue({first_price:i.first_price,current_price:i.current_price,number_of_periods:i.number_of_periods,collection_id:i.collection_id?.id,base_id:i.base_id?.id})}},error:t=>{this.msgError=t.error.error}})}getCollections(){this._AccountingService.getAccountsByParent("25").subscribe({next:e=>{e&&(this.collections=e.data,console.log("Accounts for parent 25:",this.collections))},error:e=>{console.error(e)}})}getBases(){this._AccountingService.getAccountsByParent("2").subscribe({next:e=>{e&&(this.bases=e.data,console.log("Accounts for parent 2:",this.bases))},error:e=>{console.error(e)}})}handleForm(){if(this.equationForm.valid){this.isLoading=!0;let e=new FormData;e.append("first_price",this.equationForm.get("first_price")?.value),e.append("current_price",this.equationForm.get("current_price")?.value),e.append("number_of_periods",this.equationForm.get("number_of_periods")?.value),e.append("collection_id",this.equationForm.get("collection_id")?.value),e.append("base_id",this.equationForm.get("base_id")?.value);let t=this.route.snapshot.paramMap.get("id");t&&this._EquationService.updateEquation(t,e).subscribe({next:i=>{console.log(i),i&&(this.toastr.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629 \u0628\u0646\u062C\u0627\u062D"),this.isLoading=!1,this._Router.navigate(["/dashboard/equations"]))},error:i=>{if(this.isLoading=!1,this.msgError=[],i.error&&i.error.errors)for(let r in i.error.errors)i.error.errors[r]instanceof Array?this.msgError.push(...i.error.errors[r]):this.msgError.push(i.error.errors[r]);console.error(this.msgError),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629")}})}}onCancel(){this.equationForm.reset(),this._Router.navigate(["/dashboard/equations"])}static \u0275fac=function(t){return new(t||n)(O(da),O(Me),O(bn),O(Qe),O(ft))};static \u0275cmp=Ae({type:n,selectors:[["app-update-equation"]],decls:56,vars:9,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","first_price",1,"form-label"],["id","first_price","formControlName","first_price","type","number","min","0","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0623\u0648\u0644","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","current_price",1,"form-label"],["id","current_price","formControlName","current_price","type","number","min","0","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u062D\u0627\u0644\u064A","required","",1,"form-control"],["for","number_of_periods",1,"form-label"],["id","number_of_periods","formControlName","number_of_periods","type","number","min","0","placeholder","\u0623\u062F\u062E\u0644 \u0639\u062F\u062F \u0627\u0644\u0641\u062A\u0631\u0627\u062A","required","",1,"form-control"],[1,"form-label"],["formControlName","collection_id",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","base_id",1,"form-control"],[1,"mt-4","mb-4","d-flex","justify-content-around","w-25"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2," \u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0627\u062A "),a(),u(3,"span",1),c(4,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(5,"i",2),c(6," \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0627\u062A "),M(7,"i",2),c(8," \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629 "),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17," \u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629 "),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0623\u0648\u0644"),a(),M(23,"input",13),D(24,rne,3,2,"div",14),a(),u(25,"div",11)(26,"label",15),c(27,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u062D\u0627\u0644\u064A"),a(),M(28,"input",16),D(29,ane,3,2,"div",14),a(),u(30,"div",11)(31,"label",17),c(32,"\u0639\u062F\u062F \u0627\u0644\u0641\u062A\u0631\u0627\u062A"),a(),M(33,"input",18),D(34,cne,3,2,"div",14),a(),u(35,"div",11)(36,"label",19),c(37,"\u0627\u062E\u062A\u0631 \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u062A\u062C\u0645\u064A\u0639\u064A"),a(),u(38,"select",20)(39,"option",21),c(40,"\u0627\u062E\u062A\u0631 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),D(41,dne,2,2,"option",22),a()(),u(42,"div",11)(43,"label",19),c(44,"\u0627\u062E\u062A\u0631 \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0623\u0633\u0627\u0633\u064A"),a(),u(45,"select",23)(46,"option",21),c(47,"\u0627\u062E\u062A\u0631 \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0623\u0633\u0627\u0633\u064A"),a(),D(48,pne,2,2,"option",22),a()()()()()(),D(49,mne,3,1,"div",14),u(50,"div",24)(51,"button",25),D(52,hne,1,0,"i",26),c(53," \u062A\u062D\u062F\u064A\u062B "),a(),u(54,"button",27),Z("click",function(){return i.onCancel()}),c(55,"\u0625\u0644\u063A\u0627\u0621"),a()()()()()()),t&2){let r,o,s;f(10),E("formGroup",i.equationForm),f(14),E("ngIf",((r=i.equationForm.get("first_price"))==null?null:r.errors)&&((r=i.equationForm.get("first_price"))==null?null:r.touched)),f(5),E("ngIf",((o=i.equationForm.get("current_price"))==null?null:o.errors)&&((o=i.equationForm.get("current_price"))==null?null:o.touched)),f(5),E("ngIf",((s=i.equationForm.get("number_of_periods"))==null?null:s.errors)&&((s=i.equationForm.get("number_of_periods"))==null?null:s.touched)),f(7),E("ngForOf",i.collections),f(7),E("ngForOf",i.bases),f(),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.equationForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,sn,nc,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var j1=class n{constructor(e,t,i){this._EquationService=e;this.router=t;this.route=i}equationData;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.fetchEquationData(e)}fetchEquationData(e){this._EquationService.getEquationById(e).subscribe({next:t=>{console.log(t.data),this.equationData=t.data||{}},error:t=>{console.error("Error fetching Equation data:",t.message)}})}static \u0275fac=function(t){return new(t||n)(O(da),O(Me),O(ft))};static \u0275cmp=Ae({type:n,selectors:[["app-show-equation"]],decls:51,vars:7,consts:[[1,"mt-4","mb-4"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"col-md-6"],[1,"mb-3"],[1,"fw-bold"],[1,"text-muted"],["routerLinkActive","active","routerLink","/dashboard/equations",1,"nav-link"],["type","button",1,"btn","btn-primary","px-4"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5"),c(7,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629"),a()(),u(8,"div",6)(9,"div",2)(10,"div",7)(11,"div",8)(12,"label",9),c(13,"\u062D\u0633\u0627\u0628 \u0645\u062C\u0645\u0639 \u0627\u0644\u0627\u0647\u0644\u0627\u0643:"),a(),u(14,"p",10),c(15),a()(),u(16,"div",8)(17,"label",9),c(18,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0627\u0635\u0644 \u0627\u0644\u062B\u0627\u0628\u062A:"),a(),u(19,"p",10),c(20),a()(),u(21,"div",8)(22,"label",9),c(23,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u062D\u0627\u0644\u064A:"),a(),u(24,"p",10),c(25),a()()(),u(26,"div",7)(27,"div",8)(28,"label",9),c(29,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u0623\u0648\u0644\u064A:"),a(),u(30,"p",10),c(31),a()(),u(32,"div",8)(33,"label",9),c(34,"\u0639\u062F\u062F \u0627\u0644\u0641\u062A\u0631\u0627\u062A:"),a(),u(35,"p",10),c(36),a()(),u(37,"div",8)(38,"label",9),c(39,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0634\u0627\u0621:"),a(),u(40,"p",10),c(41),a()(),u(42,"div",8)(43,"label",9),c(44,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u062D\u062F\u064A\u062B:"),a(),u(45,"p",10),c(46),a()()()()()()()(),u(47,"div",0)(48,"a",11)(49,"button",12),c(50,"\u0631\u062C\u0648\u0639"),a()()()()()),t&2&&(f(15),C((i.equationData==null||i.equationData.collection_id==null?null:i.equationData.collection_id.account_name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.equationData==null||i.equationData.base_id==null?null:i.equationData.base_id.account_name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.equationData==null?null:i.equationData.current_price)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(6),C((i.equationData==null?null:i.equationData.first_price)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.equationData==null?null:i.equationData.number_of_periods)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.equationData==null?null:i.equationData.created_at)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((i.equationData==null?null:i.equationData.updated_at)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"))},dependencies:[wt,Ct,qi],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var gne=n=>["/dashboard/showEquationHistory",n];function vne(n,e){if(n&1){let t=ht();u(0,"tr")(1,"th",11),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td"),c(10),a(),u(11,"td")(12,"div",12)(13,"a",13),M(14,"i",14),a(),u(15,"i",15),Z("click",function(){let r=rt(t).$implicit,o=q();return ot(o.deleteEquationHistory(r.id))}),a()()()()}if(n&2){let t=e.$implicit,i=e.index;f(2),C(i+1),f(2),C(t.equation_id.id),f(2),C(t.year),f(2),C(t.equation_id.collection_id.account_name),f(2),C(t.equation_id.base_id.account_name),f(3),E("routerLink",mn(6,gne,t.id))}}var B1=class n{constructor(e,t,i){this._EquationHistoryService=e;this.router=t;this.toastr=i}msgError=[];selectedEquationId=null;isLoading=!1;equationHistory=[];filteredEquations=[];searchQuery="";ngOnInit(){this.loadAllequationHistory()}loadAllequationHistory(){this._EquationHistoryService.getAllEquationHistory().subscribe({next:e=>{e&&(console.log(e.data),this.equationHistory=e.data,this.filteredEquations=this.equationHistory)},error:e=>{console.error(e)}})}filteredEquation(){let e=this.searchQuery.toLowerCase();this.filteredEquations=this.equationHistory.filter(t=>t?.year?.toString().toLowerCase().includes(e))}deleteEquationHistory(e){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0645\u0646 \u062D\u0630\u0641 \u062A\u0627\u0631\u064A\u062E \u0647\u0630\u0647 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629\u061F")&&this._EquationHistoryService.deleteEquationHistory(e).subscribe({next:t=>{t&&(this.router.navigate(["/dashboard/equationHistory"]),this.loadAllequationHistory(),this.toastr.success("\u062A\u0645 \u062D\u0630\u0641 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629 \u0628\u0646\u062C\u0627\u062D"))},error:t=>{console.error(t),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629")}})}static \u0275fac=function(t){return new(t||n)(O(pa),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-equation-history"]],decls:32,vars:2,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"fw-bold"],["type","search","placeholder","\u0628\u062D\u062B ","aria-label","Search",1,"form-control","search","w-25",3,"ngModelChange","input","ngModel"],[1,"table-responsive"],[1,"table","mt-3"],["scope","col",1,"bg-light"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","justify-content-around","align-items-center"],[1,"nav-link",3,"routerLink"],[1,"fa-solid","fa-eye","btn1","bg-primary","rounded"],[1,"fa-solid","fa-trash-can","btn1","bg-danger","rounded",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629"),a(),u(4,"span",1),c(5," \u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(6,"i",2),c(7," \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629"),a()()(),u(8,"div",3)(9,"div",4)(10,"div",0)(11,"span",5),c(12,"\u0642\u0627\u0626\u0645\u0629 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629"),a(),u(13,"input",6),Tt("ngModelChange",function(o){return Pt(i.searchQuery,o)||(i.searchQuery=o),o}),Z("input",function(){return i.filteredEquation()}),a()()(),u(14,"div",7)(15,"table",8)(16,"thead")(17,"tr")(18,"th",9),c(19,"#"),a(),u(20,"th",9),c(21,"\u0645\u0639\u0631\u0641 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629"),a(),u(22,"th",9),c(23,"\u0627\u0644\u0633\u0646\u0629"),a(),u(24,"th",9),c(25,"\u062D\u0633\u0627\u0628 \u0645\u062C\u0645\u0639 \u0627\u0644\u0627\u0647\u0644\u0627\u0643"),a(),u(26,"th",9),c(27,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0627\u0635\u0644 \u0627\u0644\u062B\u0627\u0628\u062A"),a(),u(28,"th",9),c(29,"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"),a()()(),u(30,"tbody"),D(31,vne,16,8,"tr",10),a()()()()),t&2&&(f(13),It("ngModel",i.searchQuery),f(18),E("ngForOf",i.filteredEquations))},dependencies:[Ne,He,wt,Ct,Xt,Ze,et,xn],styles:["span[_ngcontent-%COMP%]{font-size:12px}.iconPlus[_ngcontent-%COMP%]{background-color:#145388;padding:11px;font-size:10px}.vendortable[_ngcontent-%COMP%]{background-color:#fff}.search[_ngcontent-%COMP%]{width:20%}.search[_ngcontent-%COMP%]{border-radius:20px;padding:.5rem 1rem;max-width:300px}.btn1[_ngcontent-%COMP%]{color:#fff;padding:5px}thead[_ngcontent-%COMP%]{background-color:#000!important}tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}i[_ngcontent-%COMP%]{cursor:pointer}.modal-dialog[_ngcontent-%COMP%]{top:30%}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table[_ngcontent-%COMP%]{min-width:100%}@media (max-width: 768px){.table[_ngcontent-%COMP%]{font-size:12px}}"]})};function _ne(n,e){if(n&1&&(u(0,"div")(1,"div",3)(2,"div",11)(3,"div",12)(4,"label",13),c(5,"\u0627\u0644\u0633\u0646\u0629:"),a(),u(6,"p",14),c(7),a()(),u(8,"div",12)(9,"label",13),c(10,"\u0645\u0639\u0631\u0641 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629:"),a(),u(11,"p",14),c(12),a()(),u(13,"div",12)(14,"label",13),c(15,"\u0627\u0644\u0645\u0628\u0644\u063A:"),a(),u(16,"p",14),c(17),a()(),u(18,"div",12)(19,"label",13),c(20,"\u0631\u0642\u0645 \u0627\u0644\u0641\u062A\u0631\u0629:"),a(),u(21,"p",14),c(22),a()(),u(23,"div",12)(24,"label",13),c(25,"\u062A\u0645 \u0627\u0644\u0625\u0646\u0634\u0627\u0621 \u0641\u064A:"),a(),u(26,"p",14),c(27),a()()(),u(28,"div",11)(29,"div",12)(30,"label",13),c(31,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0644\u062D\u0627\u0644\u064A:"),a(),u(32,"p",14),c(33),a()(),u(34,"div",12)(35,"label",13),c(36,"\u0627\u0644\u0633\u0639\u0631 \u0627\u0648\u0644 \u0627\u0644\u0645\u062F\u0629:"),a(),u(37,"p",14),c(38),a()(),u(39,"div",12)(40,"label",13),c(41,"\u062D\u0633\u0627\u0628 \u0645\u062C\u0645\u0639 \u0627\u0644\u0627\u0647\u0644\u0627\u0643:"),a(),u(42,"p",14),c(43),a()(),u(44,"div",12)(45,"label",13),c(46,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0627\u0635\u0644 \u0627\u0644\u062B\u0627\u0628\u062A:"),a(),u(47,"p",14),c(48),a()(),u(49,"div",12)(50,"label",13),c(51,"\u062A\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0641\u064A:"),a(),u(52,"p",14),c(53),a()()()()()),n&2){let t=q();f(7),C(t.equationHistory.year||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((t.equationHistory==null||t.equationHistory.equation_id==null?null:t.equationHistory.equation_id.id)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C(t.equationHistory.amount||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C(t.equationHistory.period_number||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C(t.equationHistory.created_at||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(6),C(t.equationHistory.current_price||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C(t.equationHistory.last_price||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((t.equationHistory.equation_id==null||t.equationHistory.equation_id.collection_id==null?null:t.equationHistory.equation_id.collection_id.account_name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C((t.equationHistory.equation_id==null||t.equationHistory.equation_id.base_id==null?null:t.equationHistory.equation_id.base_id.account_name)||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631"),f(5),C(t.equationHistory.updated_at||"\u063A\u064A\u0631 \u0645\u062A\u0648\u0641\u0631")}}function yne(n,e){n&1&&(u(0,"p",15),c(1,"\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0644\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629."),a())}var V1=class n{constructor(e,t,i){this._EquationHistoryService=e;this.router=t;this.route=i}equationHistory;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.fetchEquationHistory(e)}fetchEquationHistory(e){this._EquationHistoryService.getEquationHistoryById(e).subscribe({next:t=>{console.log(t.data),this.equationHistory=t.data||{}},error:t=>{console.error("Error fetching Equation History data:",t.message)}})}static \u0275fac=function(t){return new(t||n)(O(pa),O(Me),O(ft))};static \u0275cmp=Ae({type:n,selectors:[["app-show-equation-history"]],decls:16,vars:2,consts:[["noData",""],[1,"mt-4","mb-4"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[4,"ngIf","ngIfElse"],["routerLinkActive","active","routerLink","/dashboard/equationHistory",1,"nav-link"],["type","button",1,"btn","btn-primary","px-4"],[1,"col-md-6"],[1,"mb-3"],[1,"fw-bold"],[1,"text-muted"],[1,"text-danger"]],template:function(t,i){if(t&1&&(u(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"h5"),c(7,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629"),a()(),u(8,"div",7),D(9,_ne,54,10,"div",8)(10,yne,2,0,"ng-template",null,0,Lg),a()()()(),u(12,"div",1)(13,"a",9)(14,"button",10),c(15,"\u0631\u062C\u0648\u0639"),a()()()()()),t&2){let r=Pp(11);f(9),E("ngIf",i.equationHistory)("ngIfElse",r)}},dependencies:[Ne,tt,wt,Ct,qi],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var bne=n=>["/dashboard/showEquationHistory",n];function Ene(n,e){if(n&1){let t=ht();u(0,"tr")(1,"th",11),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td"),c(10),a(),u(11,"td")(12,"div",12)(13,"a",13),M(14,"i",14),a(),u(15,"i",15),Z("click",function(){let r=rt(t).$implicit,o=q();return ot(o.deleteEquationHistory(r.id))}),a()()()()}if(n&2){let t=e.$implicit,i=e.index;f(2),C(i+1),f(2),C(t.equation_id.id),f(2),C(t.year),f(2),C(t.equation_id.collection_id.account_name),f(2),C(t.equation_id.base_id.account_name),f(3),E("routerLink",mn(6,bne,t.id))}}var U1=class n{constructor(e,t,i,r){this._EquationHistoryService=e;this.route=t;this.router=i;this.toastr=r}msgError=[];selectedEquationId=null;isLoading=!1;equationHistory=[];filteredEquations=[];searchQuery="";ngOnInit(){this.route.params.subscribe(e=>{let t=+e.id;this.selectedEquationId=t,this.loadFilteredEquationHistory(t)})}loadFilteredEquationHistory(e){this._EquationHistoryService.getAllEquationHistory().subscribe({next:t=>{t&&(console.log(t.data),this.equationHistory=t.data,this.filteredEquations=this.equationHistory.filter(i=>i.equation_id.id===e),console.log(this.filteredEquations))},error:t=>{console.error(t)}})}filteredEquation(){let e=this.searchQuery.toLowerCase();this.filteredEquations=this.equationHistory.filter(t=>t?.year?.toString().toLowerCase().includes(e))}deleteEquationHistory(e){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u062A\u0627\u0631\u064A\u062E \u0647\u0630\u0647 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629\u061F")&&this._EquationHistoryService.deleteEquationHistory(e).subscribe({next:t=>{t&&(this.router.navigate(["/dashboard/equationHistory/this.selectedEquationId"]),this.loadFilteredEquationHistory(this.selectedEquationId),this.toastr.success("\u062A\u0645 \u062D\u0630\u0641 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629 \u0628\u0646\u062C\u0627\u062D"))},error:t=>{console.error(t),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629")}})}static \u0275fac=function(t){return new(t||n)(O(pa),O(ft),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-history-of-equation"]],decls:32,vars:2,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"fw-bold"],["type","search","placeholder","\u0628\u062D\u062B ","aria-label","Search",1,"form-control","search","w-25",3,"ngModelChange","input","ngModel"],[1,"table-responsive"],[1,"table","mt-3"],["scope","col",1,"bg-light"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","justify-content-around","align-items-center"],[1,"nav-link",3,"routerLink"],[1,"fa-solid","fa-eye","btn1","bg-primary","rounded"],[1,"fa-solid","fa-trash-can","btn1","bg-danger","rounded",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629"),a(),u(4,"span",1),c(5," \u0644\u0648\u062D\u0629 \u0627\u0644\u0642\u064A\u0627\u062F\u0629 "),M(6,"i",2),c(7," \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629"),a()()(),u(8,"div",3)(9,"div",4)(10,"div",0)(11,"span",5),c(12,"\u0642\u0627\u0626\u0645\u0629 \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0627\u062A "),a(),u(13,"input",6),Tt("ngModelChange",function(o){return Pt(i.searchQuery,o)||(i.searchQuery=o),o}),Z("input",function(){return i.filteredEquation()}),a()()(),u(14,"div",7)(15,"table",8)(16,"thead")(17,"tr")(18,"th",9),c(19,"#"),a(),u(20,"th",9),c(21,"\u0645\u0639\u0631\u0641 \u0627\u0644\u0645\u0639\u0627\u062F\u0644\u0629"),a(),u(22,"th",9),c(23,"\u0627\u0644\u0633\u0646\u0629"),a(),u(24,"th",9),c(25,"\u062D\u0633\u0627\u0628 \u0627\u0644\u062A\u062D\u0635\u064A\u0644 "),a(),u(26,"th",9),c(27,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0623\u0633\u0627\u0633 "),a(),u(28,"th",9),c(29,"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"),a()()(),u(30,"tbody"),D(31,Ene,16,8,"tr",10),a()()()()),t&2&&(f(13),It("ngModel",i.searchQuery),f(18),E("ngForOf",i.filteredEquations))},dependencies:[wt,Ct,Ne,He,Xt,Ze,et,xn],styles:["span[_ngcontent-%COMP%]{font-size:12px}.iconPlus[_ngcontent-%COMP%]{background-color:#145388;padding:11px;font-size:10px}.vendortable[_ngcontent-%COMP%]{background-color:#fff}.search[_ngcontent-%COMP%]{width:20%}.search[_ngcontent-%COMP%]{border-radius:20px;padding:.5rem 1rem;max-width:300px}.btn1[_ngcontent-%COMP%]{color:#fff;padding:5px}thead[_ngcontent-%COMP%]{background-color:#000!important}tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}i[_ngcontent-%COMP%]{cursor:pointer}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table[_ngcontent-%COMP%]{min-width:100%}@media (max-width: 768px){.table[_ngcontent-%COMP%]{font-size:12px}}.modal-dialog[_ngcontent-%COMP%]{top:30%}"]})};var iF=Ca(bu());function Sne(n,e){if(n&1&&(no(0),u(1,"tr")(2,"td"),c(3),a(),u(4,"td"),c(5),a(),u(6,"td"),c(7),a(),u(8,"td"),c(9),a(),u(10,"td"),c(11),a(),u(12,"td"),c(13),a(),u(14,"td")(15,"table",3)(16,"tr")(17,"td"),c(18,"1"),a(),u(19,"td"),c(20,"365"),a()()()(),u(21,"td"),c(22),a(),u(23,"td"),c(24),a()(),io()),n&2){let t=e.$implicit;f(3),C(t.equation_id.base_id.account_name),f(2),C(t.equation_id.first_price),f(2),C(t.last_price),f(2),C(t.equation_id.first_price),f(2),C(t.equation_id.number_of_periods),f(2),Se("",(100/t.equation_id.number_of_periods).toFixed(2),"%"),f(9),C(t.amount),f(2),C(t.equation_id.first_price-t.amount)}}var q1=class n{constructor(e,t,i){this._ReportsService=e;this.router=t;this.toastr=i}reportYear=[];currentYear=0;totalFirstPrice=0;totalCurrentPrice=0;totalNetFirstPrice=0;totalDepreciation=0;totalNetBookValue=0;ngOnInit(){this.getCurrentYear(),this.loadAllequationHistory()}loadAllequationHistory(){this._ReportsService.equationHistory().subscribe({next:e=>{e&&(console.log(e.data),this.reportYear=e.data,this.calculateTotals())},error:e=>{console.error(e)}})}getCurrentYear(){let e=new Date;this.currentYear=e.getFullYear()}calculateTotals(){this.totalFirstPrice=this.reportYear.reduce((e,t)=>e+(+t.equation_id.first_price||0),0),this.totalCurrentPrice=this.reportYear.reduce((e,t)=>e+(+t.equation_id.current_price||0),0),this.totalNetFirstPrice=this.reportYear.reduce((e,t)=>e+(+t.equation_id.first_price||0),0),this.totalDepreciation=this.reportYear.reduce((e,t)=>e+(+t.amount||0),0),this.totalNetBookValue=this.reportYear.reduce((e,t)=>e+((+t.equation_id.first_price||0)-(+t.amount||0)),0)}exportToPDF(){let e=document.getElementById("invoice-details");e&&(0,iF.default)(e).then(t=>{let i=t.toDataURL("image/png"),r=new Tr("p","mm","a4"),o=190,s=297,l=t.height*o/t.width,d=l,m=0;for(r.addImage(i,"PNG",10,m,o,l),d-=s;d>=0;)m=d-l,r.addPage(),r.addImage(i,"PNG",10,m,o,l),d-=s;r.save("\u062A\u0642\u0631\u064A\u0631 \u0627\u0644\u0633\u0646\u0629.pdf")})}static \u0275fac=function(t){return new(t||n)(O(rs),O(Me),O(Qe))};static \u0275cmp=Ae({type:n,selectors:[["app-report5"]],decls:51,vars:6,consts:[["id","invoice-details",1,"container","mt-5"],[1,"table-responsive"],[1,"table","table-bordered","text-center"],[1,"table","table-borderless","m-0"],["colspan","2"],[4,"ngFor","ngForOf"],["colspan","3"],[1,"mt-4","text-center"],[1,"btn","btn-primary",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th"),c(6,"\u0627\u0644\u0627\u0635\u0644"),a(),u(7,"th"),c(8,"\u0627\u0644\u0642\u064A\u0645\u0629 \u0627\u0644\u0634\u0631\u0627\u0626\u064A\u0629"),a(),u(9,"th"),c(10,"\u0627\u0644\u0625\u0647\u0644\u0627\u0643 \u0623\u0648\u0644 \u0627\u0644\u0639\u0627\u0645"),a(),u(11,"th"),c(12,"\u0635\u0627\u0641\u064A \u0627\u0644\u0642\u064A\u0645\u0629 \u0627\u0644\u0634\u0631\u0627\u0626\u064A\u0629 \u0623\u0648\u0644 \u0627\u0644\u0641\u062A\u0631\u0629"),a(),u(13,"th"),c(14,"\u0627\u0644\u0639\u0645\u0631 \u0627\u0644\u0627\u0641\u062A\u0631\u0627\u0636\u064A"),a(),u(15,"th"),c(16,"\u0646\u0633\u0628 \u0627\u0644\u0625\u0647\u0644\u0627\u0643"),a(),u(17,"th")(18,"table",3)(19,"tr")(20,"th",4),c(21,"\u0645\u062F\u0629 \u0627\u0644\u0627\u0633\u062A\u0647\u0644\u0627\u0643"),a()(),u(22,"tr")(23,"th"),c(24,"\u0633\u0646\u0629"),a(),u(25,"th"),c(26,"\u064A\u0648\u0645"),a()()()(),u(27,"th"),c(28,"\u0642\u064A\u0645\u0629 \u0627\u0644\u0625\u0647\u0644\u0627\u0643"),a(),u(29,"th"),c(30,"\u0635\u0627\u0641\u064A \u0627\u0644\u0642\u064A\u0645\u0629 \u0627\u0644\u062F\u0641\u062A\u0631\u064A\u0629"),a()()(),u(31,"tbody"),D(32,Sne,25,8,"ng-container",5),a(),u(33,"tfoot")(34,"tr")(35,"th"),c(36,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"),a(),u(37,"th"),c(38),a(),u(39,"th"),c(40),a(),u(41,"th"),c(42),a(),M(43,"th",6),u(44,"th"),c(45),a(),u(46,"th"),c(47),a()()()()()(),u(48,"div",7)(49,"button",8),Z("click",function(){return i.exportToPDF()}),c(50,"Download as PDF"),a()()),t&2&&(f(32),E("ngForOf",i.reportYear),f(6),C(i.totalFirstPrice),f(2),C(i.totalCurrentPrice),f(2),C(i.totalNetFirstPrice),f(3),C(i.totalDepreciation),f(2),C(i.totalNetBookValue))},dependencies:[Ne,He],styles:["#invoice-details[_ngcontent-%COMP%]   table.table[_ngcontent-%COMP%]{border-color:#000!important}#invoice-details[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #invoice-details[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:2px solid #000!important}#invoice-details[_ngcontent-%COMP%]   .table-borderless[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #invoice-details[_ngcontent-%COMP%]   .table-borderless[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none!important}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table[_ngcontent-%COMP%]{min-width:100%}@media (max-width: 768px){.table[_ngcontent-%COMP%]{font-size:12px}}"]})};var vt=class n{constructor(e){this.router=e}canActivate(e,t){let i=localStorage.getItem("userRole"),r=i?atob(i):null;if(!r)return this.router.navigate(["/login"]),!1;let o=e.data.roles;return o&&o.includes(r)?!0:(r==="admin"?this.router.navigate(["/dashboard"]):r==="worker"||r==="supervisor"||r==="accountant"?this.router.navigate(["/dashboard/shifts"]):this.router.navigate(["/login"]),!1)}static \u0275fac=function(t){return new(t||n)(Ge(Me))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var $1=class n{constructor(e){this.router=e}ngOnInit(){let e=localStorage.getItem("userRole"),t=e?atob(e):null;t==="admin"?this.router.navigate(["/dashboard/users"]):t==="supervisor"||t==="accountant"?this.router.navigate(["/dashboard/shifts"]):t==="worker"?this.router.navigate(["/dashboard/showShiftWorker"]):this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(O(Me))};static \u0275cmp=Ae({type:n,selectors:[["app-dashboard-redirect"]],decls:2,vars:0,template:function(t,i){t&1&&(u(0,"p"),c(1,"dashboard-redirect works!"),a())},encapsulation:2})};function xne(n,e){if(n&1&&(u(0,"option",42),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.name)}}function Cne(n,e){if(n&1&&(u(0,"option",42),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.machine_number)}}function wne(n,e){if(n&1){let t=ht();u(0,"div",18)(1,"div",19)(2,"div",20)(3,"label",21),c(4,"\u0646\u0648\u0639 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),u(5,"select",22),Z("change",function(){let r,o=rt(t),s=o.$implicit,l=o.index,d=q();return ot(d.onProductChange((r=s.get("product_id"))==null?null:r.value,l))}),u(6,"option",23),c(7,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),D(8,xne,2,2,"option",24),a()(),u(9,"div",20)(10,"label",25),c(11,"\u0646\u0648\u0639 \u0627\u0644\u0637\u0631\u0645\u0628\u0629"),a(),u(12,"select",26),Z("change",function(){let r,o=rt(t),s=o.$implicit,l=o.index,d=q();return ot(d.onMachineChange(l,(r=s.get("machine_id"))==null?null:r.value))}),u(13,"option",23),c(14,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0637\u0631\u0645\u0628\u0629"),a(),D(15,Cne,2,2,"option",24),a()(),u(16,"div",20)(17,"label",27),c(18,"\u0639\u062F\u0627\u062F \u0627\u0644\u0627\u063A\u0644\u0627\u0642"),a(),M(19,"input",28),a(),u(20,"div",20)(21,"label",8),c(22,"\u0635\u0648\u0631\u0647 \u0627\u0644\u0627\u063A\u0644\u0627\u0642"),a(),u(23,"input",29),Z("change",function(r){let o=rt(t).index,s=q();return ot(s.onFileSelected(r,"online_payment",o))}),a()(),u(24,"div",20)(25,"label",30),c(26,"\u0627\u0644\u0643\u0645\u064A\u0629 \u0628\u0627\u0644\u0644\u062A\u0631"),a(),M(27,"input",31),a(),u(28,"div",20)(29,"label",32),c(30,"\u0639\u062F\u0627\u062F \u0627\u0644\u0627\u0641\u062A\u062A\u0627\u062D"),a(),M(31,"input",33),a(),u(32,"div",20)(33,"label",34),c(34,"\u0633\u0639\u0631 \u0627\u0644\u0628\u064A\u0639"),a(),M(35,"input",35),a(),u(36,"div",36)(37,"label",37),c(38,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A \u0628\u0627\u0644\u0631\u064A\u0627\u0644"),a(),M(39,"input",38),a(),u(40,"div",39)(41,"button",40),Z("click",function(){let r=rt(t).index,o=q();return ot(o.removeOnlinePayment(r))}),M(42,"i",41),a()()()()}if(n&2){let t,i=e.$implicit,r=e.index,o=q();E("formGroupName",r),f(8),E("ngForOf",o.products),f(7),E("ngForOf",(t=i.get("machines"))==null?null:t.value)}}function Ane(n,e){if(n&1&&(u(0,"tr")(1,"td"),c(2),a(),u(3,"td"),c(4),a()()),n&2){let t=e.$implicit;f(2),C(t.product_name),f(2),C(t.total_liters||0)}}function Dne(n,e){n&1&&(u(0,"div",43),c(1," \u0644\u0627 \u064A\u0645\u0643\u0646 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0639\u0628\u0631 \u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A \u0623\u0643\u0628\u0631 \u0645\u0646 (\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0644\u063A - \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0645\u0646 \u0627\u0644\u0639\u0645\u064A\u0644). "),a())}var H1=class n{constructor(e,t,i,r,o,s,l,d){this._MachineService=e;this.fb=t;this.router=i;this._ShiftService=r;this.route=o;this.toastr=s;this._ProductService=l;this.cdr=d;this.shiftForm=this.fb.group({online_image:this.fb.control(null,[this.validateImage.bind(this)]),online_payments:this.fb.array([]),total_online:this.fb.control(this.total_online_value,[ae.required,ae.min(0)])})}selectedProducts=[];msgError=[];isLoading=!1;shiftForm;selectedImages={};products;machines;old_machines;total_online_value;totalAmount=0;totalCash=0;maxImageSize=2048*1024;total_client;totalLiters=0;totalOnlineLimitExceeded=!1;totalLiterForEachProduct;shift_id;ngOnInit(){this.loadProducts(),this.loadMyShift(),this.shiftForm.get("total_online")?.valueChanges.subscribe(()=>{this.calculateTotalCash()})}selectedFile=null;onFileSelect(e){let t=e.target.files[0];t&&(this.selectedFile=t,this.shiftForm.patchValue({online_image:t}))}validateImage(e){let t=this.selectedFile;if(t){let i=t.type,r=t.size;if(!["image/jpeg","image/png","image/jpg","image/gif"].includes(i))return{invalidFileType:!0};if(r>this.maxImageSize)return{fileTooLarge:!0}}return null}loadProducts(){this._ProductService.viewAllProducts().subscribe({next:e=>{e&&(console.log(e),this.products=e)},error:e=>{console.error(e)}})}loadMyShift(){this._ShiftService.getMyshift().subscribe({next:e=>{e&&(console.log(e.data),this.total_client=e.data.total_money_client,this.old_machines=e.data.shiftMachines,this.old_machines.forEach(i=>{this.addOnlinePayment(i)}),this.calculateTotalCash(),this.shift_id=e.data.id)},error:e=>{console.error(e)}})}onMachineChange(e,t){let i=this.onlinePayments.at(e);this._MachineService.getMachineById(t).subscribe({next:r=>{console.log(r),i.get("start_amount")?.setValue(r.start_amount||0)},error:r=>{console.error("Error fetching machines:",r)}})}onProductChange(e,t){if(!e)return;let i=this.products.find(r=>r.id===parseInt(e));i&&this.onlinePayments.at(t).get("price")?.setValue(i.price||0),this._ShiftService.getMachineByProduct(e).subscribe({next:r=>{console.log(r);let o=r.data||[];this.onlinePayments.at(t).get("machines")?.setValue(o)},error:r=>{console.error("Error fetching machines:",r)}})}addOnlinePayment(e){if(e==null){let t=this.shiftForm.get("online_payments"),i=this.fb.group({product_id:[null,[ae.required]],machine_id:[null,[ae.required]],start_amount:[0],total_money:[0],price:[0],close_amount:[null,[ae.required]],total_liters:[0],image:[null],id:[-1],machines:[[]]});i.get("close_amount")?.valueChanges.subscribe(()=>{let r=this.onlinePayments.controls.indexOf(i);r!==-1?this.updateTotalLiters(i,r):console.error("Payment group not found in the form array.")}),t.push(i),this.calculateTotalAmount()}}calculateTotalAmount(){this.totalAmount=this.onlinePayments.controls.reduce((e,t)=>{let i=t.get("total_money")?.value||0;return e+i},0),this.calculateTotalCash()}calculateTotalCash(){let e=this.shiftForm.get("total_online")?.value||0;console.log(this.totalAmount),console.log(e),console.log(this.total_client),this.totalCash=+this.totalAmount-(+this.total_client+e);let t=this.totalAmount-this.total_client;e>t?this.totalOnlineLimitExceeded=!0:this.totalOnlineLimitExceeded=!1}updateTotalLiters(e,t){let i=e.get("start_amount")?.value||0,r=e.get("close_amount")?.value||0,o=e.get("price")?.value||0,s=r-i,l=s*o;if(e.get("total_liters")?.setValue(s,{emitEvent:!1}),e.get("total_money")?.setValue(l,{emitEvent:!1}),console.log(`Total liters calculated: ${s}`),this.calculateTotalAmount(),!e.get("product_id")?.value){console.error("Product ID is missing.");return}this.aggregateProducts()}aggregateProducts(){let e={};this.onlinePayments.controls.forEach(t=>{let i=t,r=i.get("product_id")?.value,o=i.get("total_liters")?.value||0;if(r){let s=this.products.find(l=>l.id===parseInt(r,10));s&&(e[r]||(e[r]={totalLiters:0,productName:s.name}),e[r].totalLiters+=o)}}),this.selectedProducts=Object.keys(e).map(t=>({product_id:parseInt(t,10),product_name:e[t].productName,total_liters:e[t].totalLiters})),console.log("Aggregated products:",this.selectedProducts)}removeOnlinePayment(e){this.shiftForm.get("online_payments").removeAt(e),this.calculateTotalAmount()}handleForm(){if(this.shiftForm.invalid){this.toastr.error("\u064A\u0631\u062C\u0649 \u0627\u062F\u062E\u0627\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0644\u0625\u062A\u0645\u0627\u0645 \u0627\u0644\u0639\u0645\u0644\u064A\u0629"),console.log("Form validation failed:",this.shiftForm.errors),this.shiftForm.markAllAsTouched();return}this.isLoading=!0;let e=new FormData;this.onlinePayments.controls.forEach((t,i)=>{e.append(`machines[${i}][product_id]`,t.get("product_id")?.value||""),e.append(`machines[${i}][machine_id]`,t.get("machine_id")?.value||""),e.append(`machines[${i}][close_amount]`,t.get("close_amount")?.value||""),e.append(`machines[${i}][total_liters]`,t.get("total_liters")?.value||""),e.append(`machines[${i}][total_money]`,t.get("total_money")?.value||"");let r=this.selectedImages[`online_payment_${i}`];console.log("image",r),r&&e.append(`machines[${i}][close_image]`,r)}),this.selectedFile&&(console.log("online_image",this.selectedFile),e.append("online_image",this.selectedFile)),e.append("total_online",this.shiftForm.get("total_online")?.value||""),e.append("total_money",this.totalAmount.toString()),e.append("total_client",this.total_client.toString()),e.append("total_cash",this.totalCash.toString());for(let t of e.entries())console.log(`${t[0]}:`,t[1]);this._ShiftService.updateShiftWorker(e,this.shift_id).subscribe({next:t=>{this.isLoading=!1,t&&(this.toastr.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0648\u0631\u062F\u064A\u0629 \u0628\u0646\u062C\u0627\u062D"),this.router.navigate(["/dashboard/showShiftWorker"]))},error:t=>{this.isLoading=!1,this.msgError=t.error.error,t.status==422?this.toastr.error("\u064A\u0631\u062C\u0649 \u0627\u062F\u062E\u0627\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0644\u0625\u062A\u0645\u0627\u0645 \u0627\u0644\u0639\u0645\u0644\u064A\u0629"):this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649")}}),console.log("Form values before submitting:",this.shiftForm.value)}onCancel(){this.shiftForm.reset(),this.router.navigate(["/dashboard/shifts"])}get onlinePayments(){return this.shiftForm.get("online_payments")}onFileSelected(e,t,i){let r=e.target.files[0];r&&(this.selectedImages[`${t}_${i}`]=r)}static \u0275fac=function(t){return new(t||n)(O(oo),O(Si),O(Me),O(pi),O(ft),O(Qe),O(Ln),O(Wo))};static \u0275cmp=Ae({type:n,selectors:[["app-update-shift-worker"]],decls:36,vars:11,consts:[[3,"ngSubmit","formGroup"],["formArrayName","online_payments",1,"mt-4"],["class","payment-card mb-3",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","mt-3",3,"click"],[1,"fa-solid","fa-plus"],[1,"table","mt-3","custom-table"],[4,"ngFor","ngForOf"],[1,"col-md-4","custom-section"],["for","image"],["type","file","id","online_image","accept","image/*",1,"custom-file-input",3,"change"],[1,"col-md-4","custom-card"],["for","total_online"],["formControlName","total_online","type","number",1,"form-control"],["class","text-danger mt-2",4,"ngIf"],[1,"custom-card","total-amount","mt-4"],[1,"mt-3","custom-card"],["type","submit",1,"btn","btn-success","mt-3",3,"disabled"],[1,"fa-solid","fa-save"],[1,"payment-card","mb-3",3,"formGroupName"],[1,"row","align-items-center"],[1,"col-md-3"],["for","product_id"],["formControlName","product_id",1,"form-control",3,"change"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","machine_id"],["formControlName","machine_id",1,"form-control",3,"change"],["for","close_amount"],["formControlName","close_amount","type","number",1,"form-control"],["type","file",1,"form-control",3,"change"],["for","total_liters"],["formControlName","total_liters","type","number","readonly","",1,"form-control"],["for","start_amount"],["formControlName","start_amount","type","number","readonly","",1,"form-control"],["for","price"],["formControlName","price","type","number","readonly","",1,"form-control"],[1,"col-md-2"],["for","total_money"],["formControlName","total_money","type","number","readonly","",1,"form-control"],[1,"col-md-1"],["type","button",1,"btn","btn-danger","mt-4",3,"click"],[1,"fa-solid","fa-trash"],[3,"value"],[1,"text-danger","mt-2"]],template:function(t,i){t&1&&(u(0,"form",0),Z("ngSubmit",function(){return i.handleForm()}),u(1,"div",1),D(2,wne,43,3,"div",2),u(3,"button",3),Z("click",function(){return i.addOnlinePayment(null)}),M(4,"i",4),a()(),u(5,"table",5)(6,"thead")(7,"tr")(8,"th"),c(9,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),u(10,"th"),c(11,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0644\u062A\u0631\u0627\u062A"),a()()(),u(12,"tbody"),D(13,Ane,5,2,"tr",6),a()(),u(14,"div",7)(15,"label",8),c(16,"Online Image"),a(),u(17,"input",9),Z("change",function(o){return i.onFileSelect(o)}),a()(),u(18,"div",10)(19,"label",11),c(20,"\u0627\u0644\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0639\u0628\u0631 \u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A"),a(),M(21,"input",12),D(22,Dne,2,0,"div",13),a(),u(23,"div",14)(24,"h5"),c(25),_n(26,"number"),a()(),u(27,"div",15)(28,"h5"),c(29),a()(),u(30,"div",15)(31,"h5"),c(32),a()(),u(33,"button",16),M(34,"i",17),c(35," \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A "),a()()),t&2&&(E("formGroup",i.shiftForm),f(2),E("ngForOf",i.onlinePayments.controls),f(11),E("ngForOf",i.selectedProducts),f(9),E("ngIf",i.totalOnlineLimitExceeded),f(3),Se("\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A \u0628\u0627\u0644\u0631\u064A\u0627\u0644: ",yn(26,8,i.totalAmount,"1.2-2"),""),f(4),Se("\u0627\u0644\u0627\u062C\u0645\u0627\u0644\u0649 \u0643\u0627\u0634: ",i.totalCash,""),f(3),Se("\u0627\u0644\u0627\u062C\u0645\u0627\u0644\u0649 \u062F\u0641\u0639 \u0627\u0644\u0639\u0645\u0644\u0627\u0621: ",i.total_client,""),f(),E("disabled",i.isLoading))},dependencies:[Ne,He,tt,nr,xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,Dt,Mt,Qd,Zd],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}input[readonly][_ngcontent-%COMP%]{border:2px solid green;background-color:#f9f9f9;color:#333;cursor:not-allowed;box-shadow:0 2px 4px #0000001a}label[_ngcontent-%COMP%]{font-weight:700;display:block;margin-bottom:5px}.payment-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 8px #0000001a;padding:15px;transition:box-shadow .3s ease-in-out}.custom-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border:1px solid #ddd;font-family:Arial,sans-serif;text-align:center;background-color:#fff}.custom-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;font-weight:700;padding:12px;text-align:center;border-bottom:2px solid #ddd}.custom-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.custom-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;color:#333}.custom-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}.custom-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-right:1px solid #ddd}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none}.custom-table[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000001a;border-radius:8px;overflow:hidden}.custom-section[_ngcontent-%COMP%]{margin:20px auto;padding:20px;background-color:#f8f9fa;border-radius:12px;box-shadow:0 4px 8px #0000001a}.custom-card[_ngcontent-%COMP%]{padding:15px;background-color:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 4px #0000001a;margin-bottom:20px}.custom-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:5px;display:block}.custom-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #ccc;border-radius:6px;box-shadow:inset 0 1px 3px #0000001a;font-size:14px}.custom-file-input[_ngcontent-%COMP%]{border:2px dashed #4CAF50;color:#4caf50}.text-danger[_ngcontent-%COMP%]{font-size:12px;color:#e74c3c}']})};var Mr=class n{constructor(e){this._HttpClient=e}baseURL=ui.apiUrl;viewsalesInvoicesByShift(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(`${this.baseURL}/sales-invoices/by-shift/${e}`,{headers:i})}deleteSalesInvoice(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.delete(`${this.baseURL}/sales-invoices/${e}`,{headers:i})}addSalesInvoice(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.post(`${this.baseURL}/sales-invoices`,e,{headers:i})}getSalesInvoice(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.get(this.baseURL+"/sales-invoices/"+e,{headers:i})}updateSalesInvoice(e,t){let i=localStorage.getItem("Gtoken"),r=new Le().set("Authorization",`Bearer ${i}`);return t.append("_method","PUT"),this._HttpClient.post(`${this.baseURL}/sales-invoices/${e}`,t,{headers:r})}viewAllSalesInvoices(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/sales-invoices`,{headers:t})}static \u0275fac=function(t){return new(t||n)(Ge(ni))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ine=n=>["/dashboard/showSalesInvoice",n];function Tne(n,e){if(n&1){let t=ht();u(0,"button",15),Z("click",function(){rt(t);let r=q();return ot(r.openModal("shiftModal"))}),c(1," \u0625\u0636\u0627\u0641\u0629 \u0648\u0631\u062F\u064A\u0647 \u062C\u062F\u064A\u062F\u0647 "),a()}}function Mne(n,e){n&1&&(u(0,"div",16),c(1," \u0644\u0627 \u062A\u0648\u062C\u062F \u0648\u0631\u062F\u064A\u0627\u062A \u0645\u0641\u062A\u0648\u062D\u0629 "),a())}function Fne(n,e){if(n&1&&(u(0,"div",34)(1,"div",35)(2,"div",36)(3,"h6",37),c(4),a()(),u(5,"div",22)(6,"div",38)(7,"strong"),c(8," \u0642\u064A\u0645\u0629 \u0639\u062F\u0627\u062F \u0627\u0644\u0625\u063A\u0644\u0627\u0642:"),a(),u(9,"span",39),c(10),a()(),u(11,"div",38)(12,"strong"),c(13," \u0642\u064A\u0645\u0629 \u0639\u062F\u0627\u062F \u0627\u0644\u0641\u062A\u062D:"),a(),u(14,"span",40),c(15),a()(),u(16,"div",38)(17,"strong"),c(18,"\u0627\u0644\u0645\u0646\u062A\u062C:"),a(),u(19,"span",1),c(20),a()(),u(21,"div",38)(22,"strong"),c(23,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0644\u062A\u0631\u0627\u062A:"),a(),u(24,"span",41),c(25),a()(),u(26,"div",42)(27,"strong"),c(28,"\u0635\u0648\u0631\u0629 \u0627\u0644\u0625\u063A\u0644\u0627\u0642:"),a(),M(29,"br")(30,"img",43),a()()()()),n&2){let t=e.$implicit;f(4),Se("\u0627\u0644\u0637\u0631\u0645\u0628\u0629 \u0631\u0642\u0645 ",t.product_id,""),f(6),C(t.close_amount),f(5),C(t.open_amount),f(5),C(t.product.name),f(5),C(t.total_liters_amount),f(5),E("src",t.close_image,On)}}function Nne(n,e){if(n&1&&(u(0,"div")(1,"h6",31),c(2,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0637\u0631\u0645\u0628\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u0629:"),a(),u(3,"div",32),D(4,Fne,31,6,"div",33),a()()),n&2){let t=q(2);f(4),E("ngForOf",t.shiftData.shiftMachines)}}function Pne(n,e){if(n&1&&(u(0,"div",21)(1,"div",22)(2,"h6",23),c(3,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0639\u0627\u0645\u0644:"),a(),u(4,"p")(5,"strong"),c(6,"\u0627\u0633\u0645 \u0627\u0644\u0639\u0627\u0645\u0644:"),a(),c(7),a(),u(8,"p")(9,"strong"),c(10,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645:"),a(),c(11),a(),u(12,"p")(13,"strong"),c(14,"\u0627\u0644\u062F\u0648\u0631:"),a(),c(15),a(),u(16,"p")(17,"strong"),c(18,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0634\u0627\u0621:"),a(),c(19),_n(20,"date"),a()()()),n&2){let t=q(2);f(7),Se(" ",t.shiftData.worker.name,""),f(4),Se(" ",t.shiftData.worker.username,""),f(4),Se(" ",t.shiftData.worker.role,""),f(4),Se(" ",yn(20,4,t.shiftData.worker.created_at,"yyyy-MM-dd"),"")}}function One(n,e){if(n&1&&(u(0,"div",21)(1,"div",22)(2,"h6",44),c(3,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0634\u0631\u0641:"),a(),u(4,"p")(5,"strong"),c(6,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u0631\u0641:"),a(),c(7),a(),u(8,"p")(9,"strong"),c(10,"\u0627\u0644\u062F\u0648\u0631:"),a(),c(11),a()()()),n&2){let t=q(2);f(7),Se(" ",t.shiftData.supervisor.name,""),f(4),Se(" ",t.shiftData.supervisor.role,"")}}function Rne(n,e){if(n&1&&(u(0,"tr")(1,"th",50),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td")(10,"div",51)(11,"a",52),M(12,"i",53),a()()()()),n&2){let t=e.$implicit,i=e.index,r=q(3);f(2),C(i+1),f(2),C(t.date),f(2),C(r.getPaymentType(t.type)),f(2),C(t.tax_amount),f(3),E("routerLink",mn(5,Ine,t.id))}}function Lne(n,e){if(n&1&&(u(0,"div",45)(1,"div",46)(2,"table",47)(3,"thead")(4,"tr")(5,"th",48),c(6,"#"),a(),u(7,"th",48),c(8,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),u(9,"th",48),c(10,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639"),a(),u(11,"th",48),c(12,"\u0627\u0644\u0643\u0645\u064A\u0629 \u0628\u0639\u062F \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(13,"th",48),c(14,"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"),a()()(),u(15,"tbody"),D(16,Rne,13,7,"tr",49),a()()()()),n&2){let t=q(2);f(16),E("ngForOf",t.filteredSales)}}function kne(n,e){if(n&1){let t=ht();u(0,"div",17)(1,"h5",18),c(2,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0648\u0631\u062F\u064A\u0629"),a(),u(3,"div",19)(4,"div",20)(5,"p")(6,"strong"),c(7,"\u0631\u0642\u0645 \u0627\u0644\u0648\u0631\u062F\u064A\u0629:"),a(),c(8),a()(),u(9,"div",20)(10,"p")(11,"strong"),c(12,"\u0627\u0644\u062D\u0627\u0644\u0629:"),a(),c(13),a()()(),u(14,"div",19)(15,"div",20)(16,"p")(17,"strong"),c(18,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0634\u0627\u0621:"),a(),c(19),_n(20,"date"),a()(),u(21,"div",20)(22,"p")(23,"strong"),c(24,"\u062A\u0627\u0631\u064A\u062E:"),a(),c(25),a()()(),u(26,"div",21)(27,"div",22)(28,"h6",23),c(29,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0623\u0645\u0648\u0627\u0644"),a(),u(30,"p")(31,"strong"),c(32,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0623\u0645\u0648\u0627\u0644:"),a(),c(33),a(),u(34,"p")(35,"strong"),c(36,"\u0646\u0642\u062F\u0627\u064B:"),a(),c(37),a(),u(38,"p")(39,"strong"),c(40,"\u0639\u0628\u0631 \u0627\u0644\u0634\u0628\u0643\u0629:"),a(),c(41),a(),u(42,"p")(43,"strong"),c(44,"\u0622\u062C\u0644 \u0627\u0644\u0639\u0645\u0644\u0627\u0621:"),a(),c(45),a()()(),D(46,Nne,5,1,"div",24)(47,Pne,21,7,"div",25)(48,One,12,2,"div",25),u(49,"p",1)(50,"strong"),c(51,"\u062A\u0645 \u0622\u062E\u0631 \u062A\u062D\u062F\u064A\u062B \u0641\u064A:"),a(),c(52),_n(53,"date"),a(),u(54,"div",26)(55,"a",27),c(56," \u0627\u0639\u0627\u062F\u0629 \u0627\u062F\u062E\u0627\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0648\u0631\u062F\u064A\u0629 "),a(),u(57,"a",28),Z("click",function(){rt(t);let r=q();return ot(r.closeShift())}),c(58,`
\u062A\u0631\u062D\u064A\u0644 \u0627\u0644\u0648\u0631\u062F\u064A\u0629 \u0644\u0644\u0645\u0634\u0631\u0641 `),a(),u(59,"a",29),Z("click",function(){rt(t);let r=q();return ot(r.showInvoices())}),c(60,`
\u0639\u0631\u0636 \u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 `),a()(),D(61,Lne,17,1,"div",30),a()}if(n&2){let t=q();f(8),Se(" ",t.shiftData.shift,""),f(5),Se(" ",t.shiftData.status,""),f(6),Se(" ",yn(20,13,t.shiftData.created_at,"yyyy-MM-dd HH:mm"),""),f(6),Se(" ",t.shiftData.date,""),f(8),Se(" ",t.shiftData.total_shift_money,""),f(4),Se(" ",t.shiftData.total_money_cash,""),f(4),Se(" ",t.shiftData.total_money_online,""),f(4),Se(" ",t.shiftData.total_money_client,""),f(),E("ngIf",t.shiftData.shiftMachines&&t.shiftData.shiftMachines.length>0),f(),E("ngIf",t.shiftData.worker),f(),E("ngIf",t.shiftData.supervisor),f(4),Se(" ",yn(53,16,t.shiftData.updated_at,"yyyy-MM-dd HH:mm"),""),f(9),E("ngIf",t.showInvoice)}}var z1=class n{constructor(e,t,i,r){this.shiftService=e;this.toastr=t;this.router=i;this.salesService=r}shiftData=null;noShiftOpened=!1;showInvoice=!1;filteredSales;ngOnInit(){this.loadMyShift()}openModal(e){let t=document.getElementById(e);t&&new hr(t).show()}loadInvoices(e){this.salesService.viewsalesInvoicesByShift(e).subscribe({next:t=>{console.log(t.data),this.filteredSales=t.data},error:t=>{t.status===404?this.noShiftOpened=!0:(console.error(t),this.toastr.error(" \u062D\u062F\u062B \u0645\u0634\u0643\u0644\u0629 \u0627\u062B\u0646\u0627\u0621 \u062A\u0631\u062D\u064A\u0644 \u0627\u0644\u0648\u0631\u062F\u064A\u0629 "))}})}showInvoices(){this.showInvoice=!this.showInvoice}closeShift(){this.shiftService.closeMainShift(this.shiftData.id).subscribe({next:e=>{this.noShiftOpened=!0,this.toastr.success("  \u062A\u0645 \u062A\u0631\u062D\u064A\u0644 \u0627\u0644\u0648\u0631\u062F\u064A\u0629 \u0628\u0646\u062C\u0627\u062D  ")},error:e=>{e.status===404?this.noShiftOpened=!0:(console.error(e),this.toastr.error(" \u062D\u062F\u062B \u0645\u0634\u0643\u0644\u0629 \u0627\u062B\u0646\u0627\u0621 \u062A\u0631\u062D\u064A\u0644 \u0627\u0644\u0648\u0631\u062F\u064A\u0629 "))}})}closeModal(e){let t=document.getElementById(e);t&&hr.getInstance(t)?.hide()}loadMyShift(){this.shiftService.getMyshift().subscribe({next:e=>{console.log(e.data),this.shiftData=e.data,this.loadInvoices(this.shiftData.id),this.noShiftOpened=!1},error:e=>{e.status===404?this.noShiftOpened=!0:(console.error(e),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062C\u0644\u0628 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"))}})}getPaymentType(e){return e=="debit"?"\u0622\u062C\u0644":"\u0643\u0627\u0634"}chooseShift(e){let t=new FormData;t.append("shift",e.toString()),this.shiftService.addShiftWorker(t).subscribe({next:i=>{console.log(i),this.toastr.success("\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0648\u0631\u062F\u064A\u0629 \u0628\u0646\u062C\u0627\u062D"),this.router.navigate(["/dashboard/updateShiftWorker"]),this.closeModal("shiftModal")},error:i=>{this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0648\u0631\u062F\u064A\u0629")}})}static \u0275fac=function(t){return new(t||n)(O(pi),O(Qe),O(Me),O(Mr))};static \u0275cmp=Ae({type:n,selectors:[["app-show-shift-worker"]],decls:23,vars:3,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],["class","btn btn-primary text-white p-3 rounded",3,"click",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","card p-4 shadow-sm",4,"ngIf"],["id","shiftModal","tabindex","-1","aria-labelledby","shiftModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","shiftModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"btn","btn-primary","w-100","mb-2",3,"click"],[1,"btn","btn-secondary","w-100",3,"click"],[1,"btn","btn-primary","text-white","p-3","rounded",3,"click"],[1,"alert","alert-warning"],[1,"card","p-4","shadow-sm"],[1,"card-title","mb-4","text-center","text-primary"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"card","bg-light","mb-4"],[1,"card-body"],[1,"card-title","text-primary"],[4,"ngIf"],["class","card bg-light mb-4",4,"ngIf"],[1,"text-center"],["routerLink","/dashboard/updateShiftWorker",1,"btn","btn-success","w-25","text-white"],[1,"btn","btn-warning","w-25","text-white","me-5",3,"click"],[1,"btn","btn-success","w-25","text-white","me-5",3,"click"],["class","vendortable rounded mt-4 shadow-sm p-4 bg-white",4,"ngIf"],[1,"text-primary","mb-4","font-weight-bold"],[1,"row"],["class","col-12 col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","mb-4"],[1,"card","shadow-lg","border-light","rounded"],[1,"card-header","bg-info","text-white"],[1,"card-title","mb-0"],[1,"mb-2"],[1,"text-success"],[1,"text-warning"],[1,"text-primary"],[1,"mt-3","text-center"],["alt","Close Image",1,"img-fluid","rounded","border",2,"width","100%",3,"src"],[1,"card-title","text-info"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"table-responsive"],[1,"table","mt-3"],["scope","col",1,"bg-light"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","justify-content-around","align-items-center"],[1,"nav-link",3,"routerLink"],[1,"fa-solid","fa-eye","btn1","bg-primary","rounded"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0648\u0631\u062F\u064A\u0627\u062A"),a(),u(4,"span",1),c(5,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(6,"i",2),c(7," \u0627\u0644\u0648\u0631\u062F\u064A\u0627\u062A"),a()(),D(8,Tne,2,0,"button",3),a(),D(9,Mne,2,0,"div",4)(10,kne,62,19,"div",5),u(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"h5",10),c(16,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0648\u0631\u062F\u064A\u0629"),a(),u(17,"button",11),Z("click",function(){return i.closeModal("shiftModal")}),a()(),u(18,"div",12)(19,"button",13),Z("click",function(){return i.chooseShift(1)}),c(20,"Shift 1"),a(),u(21,"button",14),Z("click",function(){return i.chooseShift(2)}),c(22,"Shift 2"),a()()()()()),t&2&&(f(8),E("ngIf",i.noShiftOpened),f(),E("ngIf",i.noShiftOpened),f(),E("ngIf",i.shiftData&&!i.noShiftOpened))},dependencies:[wt,Ct,Ne,He,tt,Qg],styles:["span[_ngcontent-%COMP%]{font-size:12px}.iconPlus[_ngcontent-%COMP%]{background-color:#145388;padding:11px;font-size:10px}"]})};var A0=class n{constructor(e){this._HttpClient=e}baseURL=ui.apiUrl;getSettings(){let e=localStorage.getItem("Gtoken"),t=new Le().set("Authorization",`Bearer ${e}`);return this._HttpClient.get(`${this.baseURL}/settings`,{headers:t})}updateSettings(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`);return this._HttpClient.post(`${this.baseURL}/settings`,e,{headers:i})}static \u0275fac=function(t){return new(t||n)(Ge(ni))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};function jne(n,e){if(n&1&&(u(0,"div",29),M(1,"img",30),a()),n&2){let t=q();f(),E("src",t.logo,On)}}function Bne(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function Vne(n,e){if(n&1&&(u(0,"div",31)(1,"ul"),D(2,Bne,2,1,"li",32),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function Une(n,e){n&1&&M(0,"i",33)}var G1=class n{constructor(e,t,i){this.toastr=e;this.fb=t;this.settingsService=i;this.machineForm=this.fb.group({logo:[""],address:["",ae.required],phone:["",ae.required],tax_number:["",ae.required],tax_name:["",ae.required],invoice_message:["",ae.required]})}machineForm;settings=[];isLoading=!1;msgError=[];logo="";ngOnInit(){this.fetchSettings()}selectedFile=null;onFileSelected(e){let t=e.target.files[0];t&&(this.selectedFile=t,this.machineForm.patchValue({logo:t}))}fetchSettings(){this.settingsService.getSettings().subscribe(e=>{this.settings=e.data;let t=e.data;this.machineForm.patchValue({phone:t.phone,address:t.address,tax_number:t.tax_number,tax_name:t.tax_name,invoice_message:t.invoice_message}),t.logo!="none"&&(this.logo=t.logo)},e=>{this.msgError.push("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A")})}getLableByKey(e){return e=="logo"?"\u0634\u0639\u0627\u0631 \u0627\u0644\u0634\u0631\u0643\u0629":e=="address"?"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0634\u0631\u0643\u0629":e=="phone"?" \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 ":e=="tax_number"?" \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064A\u0628\u0649":e=="tax_name)"?" \u0627\u0644\u0633\u062C\u0644 \u0627\u0644\u062A\u062C\u0627\u0631\u0649":e=="invoice_message"?" \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0645\u0643\u062A\u0648\u0628\u0647 \u0622\u062E\u0631 \u0627\u0644\u0641\u062A\u0648\u0631\u0629":"\u0627\u062F\u062E\u0644 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A"}handleForm(){if(this.machineForm.invalid){this.isLoading=!1,this.toastr.error("\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u062F\u062E\u0627\u0644 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A");return}let e=new FormData;e.append("phone",this.machineForm.get("phone")?.value||"herer"),e.append("address",this.machineForm.get("address")?.value),e.append("tax_number",this.machineForm.get("tax_number")?.value),e.append("tax_name",this.machineForm.get("tax_name")?.value),e.append("invoice_message",this.machineForm.get("invoice_message")?.value),this.selectedFile&&e.append("logo",this.selectedFile),this.isLoading=!0,this.settingsService.updateSettings(e).subscribe(()=>{this.isLoading=!1,this.toastr.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0627\u0639\u062F\u0627\u062F\u0627\u062A \u0628\u0646\u062C\u0627\u062D"),this.fetchSettings()},t=>{this.isLoading=!1,this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A")})}static \u0275fac=function(t){return new(t||n)(O(Qe),O(Si),O(A0))};static \u0275cmp=Ae({type:n,selectors:[["app-update-setting"]],decls:50,vars:16,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","address",1,"form-label"],["id","address","type","text","formControlName","address","required","",1,"form-control",3,"placeholder"],["for","phone",1,"form-label"],["id","phone","type","text","formControlName","phone","required","",1,"form-control",3,"placeholder"],["for","tax_number",1,"form-label"],["id","tax_number","type","text","formControlName","tax_number","required","",1,"form-control",3,"placeholder"],["for","tax_name",1,"form-label"],["id","tax_name","type","text","formControlName","tax_name","required","",1,"form-control",3,"placeholder"],["for","invoice_message",1,"form-label"],["id","invoice_message","type","text","formControlName","invoice_message","required","",1,"form-control",3,"placeholder"],["for","logo",1,"form-label"],["accept","image/*","id","logo","type","file","required","",1,"form-control",3,"change"],["class","form-group col-md-12 mt-3",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"mt-4","mb-4","d-flex","justify-content-around","w-25"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"form-group","col-md-12","mt-3"],["alt","Logo",1,"centered-logo",3,"src"],[1,"alert","alert-danger"],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0627\u0639\u062F\u0627\u062F\u0627\u062A"),a(),u(3,"span",1),c(4,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(5,"i",2),c(6," \u0627\u0644\u0627\u0639\u062F\u0627\u062F\u0627\u062A "),M(7,"i",2),c(8," \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0627\u0639\u062F\u0627\u062F\u0627\u062A "),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17,"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0627\u0639\u062F\u0627\u062F\u0627\u062A"),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22),a(),M(23,"input",13),a(),u(24,"div",11)(25,"label",14),c(26),a(),M(27,"input",15),a(),u(28,"div",11)(29,"label",16),c(30),a(),M(31,"input",17),a(),u(32,"div",11)(33,"label",18),c(34),a(),M(35,"input",19),a(),u(36,"div",11)(37,"label",20),c(38),a(),M(39,"input",21),a(),u(40,"div",11)(41,"label",22),c(42),a(),u(43,"input",23),Z("change",function(o){return i.onFileSelected(o)}),a()(),D(44,jne,2,1,"div",24),a()()()(),D(45,Vne,3,1,"div",25),u(46,"div",26)(47,"button",27),D(48,Une,1,0,"i",28),c(49," \u062D\u0641\u0638 "),a()()()()()()),t&2&&(f(10),E("formGroup",i.machineForm),f(12),C(i.getLableByKey("address")),f(),E("placeholder","\u0623\u062F\u062E\u0644 "+i.getLableByKey("address")),f(3),C(i.getLableByKey("phone")),f(),E("placeholder","\u0623\u062F\u062E\u0644 "+i.getLableByKey("phone")),f(3),C(i.getLableByKey("tax_number")),f(),E("placeholder","\u0623\u062F\u062E\u0644 "+i.getLableByKey("tax_number")),f(3),C(i.getLableByKey("tax_name")),f(),E("placeholder","\u0623\u062F\u062E\u0644 "+i.getLableByKey("tax_name")),f(3),C(i.getLableByKey("invoice_message")),f(),E("placeholder","\u0623\u062F\u062E\u0644 "+i.getLableByKey("invoice_message")),f(3),C(i.getLableByKey("logo")),f(2),E("ngIf",i.logo),f(),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.machineForm.invalid),f(),E("ngIf",i.isLoading))},dependencies:[Ne,He,tt,xt,Rt,Ze,et,Ot,sn,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}.centered-logo[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;border:2px solid #ccc;box-shadow:0 4px 6px #0000001a;display:block;margin:0 auto;object-fit:cover}']})};var qne=n=>["/dashboard/showSalesInvoice",n],$ne=n=>["/dashboard/updateSalesInvoice",n],Hne=n=>["/dashboard/invoice",n];function zne(n,e){if(n&1){let t=ht();u(0,"tr")(1,"th",13),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td")(10,"div",14)(11,"a",15),M(12,"i",16),a(),u(13,"a",15),M(14,"i",17),a(),u(15,"a",15),M(16,"i",18),a(),u(17,"i",19),Z("click",function(){let r=rt(t).$implicit,o=q();return ot(o.deleteSale(r.id))}),a()()()()}if(n&2){let t=e.$implicit,i=e.index,r=q();f(2),C(i+1),f(2),C(t.date),f(2),C(r.getPaymentType(t.type)),f(2),C(t.tax_amount),f(3),E("routerLink",mn(7,qne,t.id)),f(2),E("routerLink",mn(9,$ne,t.id)),f(2),E("routerLink",mn(11,Hne,t.id))}}var W1=class n{constructor(e,t,i,r){this._SalesService=e;this.router=t;this.toastr=i;this.shiftService=r}isLoading=!1;sales=[];filteredSales=[];searchQuery="";userRole=null;ngOnInit(){this.getUserRole()}getUserRole(){let e=localStorage.getItem("userRole");e?(this.userRole=Zo.decode(e),this.loadAllExpenses(this.userRole)):this.userRole=null}loadMyShift(){this.shiftService.getMyshift().subscribe({next:e=>{console.log(e.data),this.loadInvoicesForMe(e.data.id)},error:e=>{e.status===404?this.toastr.warning("\u0644\u0645 \u064A\u062A\u0645 \u0641\u062A\u062D \u0648\u0631\u062F\u064A\u0629 \u0628\u0639\u062F"):(console.error(e),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062C\u0644\u0628 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"))}})}getPaymentType(e){return e=="debit"?"\u0622\u062C\u0644":"\u0643\u0627\u0634"}loadInvoicesForMe(e){this._SalesService.viewsalesInvoicesByShift(e).subscribe({next:t=>{this.sales=t.data,this.filteredSales=this.sales},error:t=>{t.status===404||(console.error(t),this.toastr.error(" \u062D\u062F\u062B \u0645\u0634\u0643\u0644\u0629 \u0627\u062B\u0646\u0627\u0621 \u062A\u0631\u062D\u064A\u0644 \u0627\u0644\u0648\u0631\u062F\u064A\u0629 "))}})}loadAllExpenses(e){e=="worker"?this.loadMyShift():this._SalesService.viewAllSalesInvoices().subscribe({next:t=>{t&&(console.log(t.data),this.sales=t.data,this.filteredSales=this.sales)},error:t=>{console.error(t)}})}filteredExpense(){let e=this.searchQuery.toLowerCase();this.filteredSales=this.sales.filter(t=>t.date.toLowerCase().includes(e)||t.type.toLowerCase().includes(e)||t.tax_amount.toLowerCase().includes(e))}deleteSale(e){confirm("\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629\u061F")&&this._SalesService.deleteSalesInvoice(e).subscribe({next:t=>{t&&(this.router.navigate(["/dashboard/salesInvoices"]),this.loadAllExpenses(this.userRole||""),this.toastr.success("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 \u0628\u0646\u062C\u0627\u062D"))},error:t=>{console.error(t),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629")}})}static \u0275fac=function(t){return new(t||n)(O(Mr),O(Me),O(Qe),O(pi))};static \u0275cmp=Ae({type:n,selectors:[["app-sales-invoices"]],decls:32,vars:2,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],["routerLink","/dashboard/addSalesInvoice",1,"nav-link"],[1,"fa-solid","fa-plus","text-white","iconPlus","rounded"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"fw-bold"],["type","search","placeholder","\u0628\u062D\u062B \u0628\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0623\u0648 \u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639...","aria-label","Search",1,"form-control","search","w-25",3,"ngModelChange","input","ngModel"],[1,"table-responsive"],[1,"table","mt-3"],["scope","col",1,"bg-light"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","justify-content-around","align-items-center"],[1,"nav-link",3,"routerLink"],[1,"fa-solid","fa-eye","btn1","bg-primary","rounded"],[1,"fa-solid","fa-pencil","btn1","bg-success","rounded"],[1,"fa-solid","fa-file-invoice","btn1","bg-warning","rounded"],[1,"fa-solid","fa-trash-can","btn1","bg-danger","rounded",3,"click"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A"),a(),u(4,"span",1),c(5,"\u0627\u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 "),M(6,"i",2),c(7," \u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A"),a()(),u(8,"a",3),M(9,"i",4),a()(),u(10,"div",5)(11,"div",6)(12,"div",0)(13,"span",7),c(14,"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A"),a(),u(15,"input",8),Tt("ngModelChange",function(o){return Pt(i.searchQuery,o)||(i.searchQuery=o),o}),Z("input",function(){return i.filteredExpense()}),a()()(),u(16,"div",9)(17,"table",10)(18,"thead")(19,"tr")(20,"th",11),c(21,"#"),a(),u(22,"th",11),c(23,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),u(24,"th",11),c(25,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639"),a(),u(26,"th",11),c(27,"\u0627\u0644\u0643\u0645\u064A\u0629 \u0628\u0639\u062F \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(28,"th",11),c(29,"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"),a()()(),u(30,"tbody"),D(31,zne,18,13,"tr",12),a()()()()),t&2&&(f(15),It("ngModel",i.searchQuery),f(16),E("ngForOf",i.filteredSales))},dependencies:[Ne,He,wt,Ct,Xt,Ze,et,xn],styles:["span[_ngcontent-%COMP%]{font-size:12px}.iconPlus[_ngcontent-%COMP%]{background-color:#145388;padding:11px;font-size:10px}.vendortable[_ngcontent-%COMP%]{background-color:#fff}.search[_ngcontent-%COMP%]{width:20%}.search[_ngcontent-%COMP%]{border-radius:20px;padding:.5rem 1rem;max-width:300px}.btn1[_ngcontent-%COMP%]{color:#fff;padding:5px}thead[_ngcontent-%COMP%]{background-color:#000!important}tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}i[_ngcontent-%COMP%]{cursor:pointer}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.table[_ngcontent-%COMP%]{min-width:100%}@media (max-width: 768px){.table[_ngcontent-%COMP%]{font-size:12px}}"]})};function Gne(n,e){n&1&&(u(0,"div",5)(1,"strong"),c(2,"\u064A\u062C\u0628 \u0641\u062A\u062D \u0648\u0631\u062F\u064A\u0629 \u0644\u0625\u0636\u0627\u0641\u0629 \u0641\u0627\u062A\u0648\u0631\u0629 \u062C\u062F\u064A\u062F\u0629."),a()())}function Wne(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0647\u0648 255"),a())}function Yne(n,e){if(n&1&&(u(0,"div",44),D(1,Wne,2,0,"p",45),a()),n&2){let t,i=q(2);f(),E("ngIf",(t=i.salesForm.get("tax_no"))==null?null:t.getError("maxLength"))}}function Kne(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0647\u0648 255"),a())}function Qne(n,e){if(n&1&&(u(0,"div",44),D(1,Kne,2,0,"p",45),a()),n&2){let t,i=q(2);f(),E("ngIf",(t=i.salesForm.get("tax_name"))==null?null:t.getError("maxLength"))}}function Zne(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0647\u0648 255"),a())}function Jne(n,e){if(n&1&&(u(0,"div",44),D(1,Zne,2,0,"p",45),a()),n&2){let t,i=q(2);f(),E("ngIf",(t=i.salesForm.get("client_name"))==null?null:t.getError("maxLength"))}}function Xne(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0647\u0648 20"),a())}function eie(n,e){if(n&1&&(u(0,"div",44),D(1,Xne,2,0,"p",45),a()),n&2){let t,i=q(2);f(),E("ngIf",(t=i.salesForm.get("phone"))==null?null:t.getError("maxLength"))}}function tie(n,e){if(n&1&&(u(0,"option",46),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),Se(" ",t.name," ")}}function nie(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0645\u0637\u0644\u0648\u0628"),a())}function iie(n,e){if(n&1&&(u(0,"div",44),D(1,nie,2,0,"p",45),a()),n&2){let t,i=q(2);f(),E("ngIf",(t=i.salesForm.get("date"))==null?null:t.hasError("required"))}}function rie(n,e){n&1&&(u(0,"p"),c(1,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639 \u0645\u0637\u0644\u0648\u0628"),a())}function oie(n,e){if(n&1&&(u(0,"div",44),D(1,rie,2,0,"p",45),a()),n&2){let t,i=q(2);f(),E("ngIf",(t=i.salesForm.get("type"))==null?null:t.hasError("required"))}}function sie(n,e){if(n&1&&(u(0,"option",46),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function aie(n,e){if(n&1&&(u(0,"div",14)(1,"label",41),c(2,"\u0627\u062E\u062A\u0631 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),u(3,"select",47)(4,"option",48),c(5,"\u0627\u062E\u062A\u0627\u0631 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),D(6,sie,2,2,"option",27),a()()),n&2){let t=q(2);f(6),E("ngForOf",t.accounts)}}function uie(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0644\u062A\u0631\u0627\u062A \u0645\u0637\u0644\u0648\u0628\u0629"),a())}function lie(n,e){if(n&1&&(u(0,"div",44),D(1,uie,2,0,"p",45),a()),n&2){let t,i=q(2);f(),E("ngIf",(t=i.salesForm.get("liters"))==null?null:t.getError("required"))}}function cie(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function die(n,e){if(n&1&&(u(0,"div",44)(1,"ul"),D(2,cie,2,1,"li",49),a()()),n&2){let t=q(2);f(2),E("ngForOf",t.msgError)}}function pie(n,e){n&1&&M(0,"i",50)}function fie(n,e){if(n&1){let t=ht();u(0,"div",6)(1,"form",7),Z("ngSubmit",function(){rt(t);let r=q();return ot(r.handleForm())}),u(2,"div",8)(3,"div",9)(4,"div",10)(5,"div",11)(6,"div",12)(7,"h5"),c(8,"\u0625\u0636\u0627\u0641\u0629 \u0645\u0628\u064A\u0639\u0627\u062A"),a()(),u(9,"div",13)(10,"div",9)(11,"div",14)(12,"label",15),c(13,"\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064A\u0628\u0649"),a(),M(14,"input",16),D(15,Yne,2,1,"div",17),a(),u(16,"div",14)(17,"label",18),c(18," \u0627\u0644\u0633\u062C\u0644 \u0627\u0644\u062A\u062C\u0627\u0631\u0649"),a(),M(19,"input",19),D(20,Qne,2,1,"div",17),a(),u(21,"div",14)(22,"label",20),c(23,"\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644"),a(),M(24,"input",21),D(25,Jne,2,1,"div",17),a(),u(26,"div",14)(27,"label",22),c(28,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"),a(),M(29,"input",23),D(30,eie,2,1,"div",17),a(),u(31,"div",24)(32,"label",25),c(33,"\u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),u(34,"select",26),D(35,tie,2,2,"option",27),a()(),u(36,"div",28)(37,"p"),c(38),a()(),u(39,"div",14)(40,"label",29),c(41,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),M(42,"input",30),D(43,iie,2,1,"div",17),a(),u(44,"div",14)(45,"label",31),c(46,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639"),a(),u(47,"select",32)(48,"option",33),c(49,"\u0646\u0642\u062F\u064B\u0627"),a(),u(50,"option",34),c(51,"\u0622\u062C\u0644"),a()(),D(52,oie,2,1,"div",17),a(),D(53,aie,7,1,"div",35),u(54,"div",36)(55,"label",37),c(56,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646"),a(),M(57,"textarea",38),a()(),u(58,"div",9)(59,"div",14)(60,"label",39),c(61,"\u0627\u0644\u0644\u062A\u0631\u0627\u062A"),a(),M(62,"input",40),D(63,lie,2,1,"div",17),a(),u(64,"div",14)(65,"label",41),c(66,"\u0645\u0628\u0644\u063A \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(67,"p"),c(68),a()(),u(69,"div",14)(70,"label",41),c(71,"\u0646\u0633\u0628\u0629 \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(72,"p"),c(73),a()(),u(74,"div",14)(75,"label",41),c(76,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(77,"p"),c(78),_n(79,"number"),a()(),u(80,"div",14)(81,"label",41),c(82," \u0627\u0644\u0627\u062C\u0645\u0627\u0644\u0649 \u0628\u0639\u062F \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(83,"p"),c(84),_n(85,"number"),a()()()()(),D(86,die,3,1,"div",17),u(87,"div",6)(88,"button",42),D(89,pie,1,0,"i",43),c(90," \u062D\u0641\u0638"),a()()()()()()()}if(n&2){let t,i,r,o,s,l,d,m,g=q();f(),E("formGroup",g.salesForm),f(14),E("ngIf",((t=g.salesForm.get("tax_no"))==null?null:t.errors)&&((t=g.salesForm.get("tax_no"))==null?null:t.touched)),f(5),E("ngIf",((i=g.salesForm.get("tax_name"))==null?null:i.errors)&&((i=g.salesForm.get("tax_name"))==null?null:i.touched)),f(5),E("ngIf",((r=g.salesForm.get("client_name"))==null?null:r.errors)&&((r=g.salesForm.get("client_name"))==null?null:r.touched)),f(5),E("ngIf",((o=g.salesForm.get("phone"))==null?null:o.errors)&&((o=g.salesForm.get("phone"))==null?null:o.touched)),f(5),E("ngForOf",g.products),f(3),Se("\u0633\u0639\u0631 \u0627\u0644\u0645\u0646\u062A\u062C \u0627\u0644\u0645\u062E\u062A\u0627\u0631: ",g.selectedProductPrice,""),f(5),E("ngIf",((s=g.salesForm.get("date"))==null?null:s.errors)&&((s=g.salesForm.get("date"))==null?null:s.touched)),f(9),E("ngIf",((l=g.salesForm.get("type"))==null?null:l.errors)&&((l=g.salesForm.get("type"))==null?null:l.touched)),f(),E("ngIf",((d=g.salesForm.get("type"))==null?null:d.value)==="debit"),f(10),E("ngIf",((m=g.salesForm.get("liters"))==null?null:m.errors)&&((m=g.salesForm.get("liters"))==null?null:m.touched)),f(5),C(g.amount),f(5),Se("",g.taxRate," %"),f(5),C(yn(79,18,g.taxAmount,"1.2-2")),f(6),C(yn(85,21,g.amount-g.taxAmount,"1.2-2")),f(2),E("ngIf",g.msgError&&g.msgError.length>0),f(2),E("disabled",g.salesForm.invalid),f(),E("ngIf",g.isLoading)}}var Y1=class n{constructor(e,t,i,r,o,s){this._SalesService=e;this._Router=t;this.toastr=i;this._ProductService=r;this._AccountingService=o;this._ShiftService=s}msgError=[];isLoading=!1;products;selectedImage=null;selectedInvoiceImage=null;taxRate;suppliers;accounts;expensesAccounts;shiftDataId=null;noShiftOpened=!1;selectedProductPrice="";amount=0;salesForm=new dn({address:new je(null,[ae.maxLength(255)]),tax_no:new je(null,[ae.maxLength(255)]),tax_name:new je(null,[ae.maxLength(255)]),client_name:new je(null,[ae.maxLength(255)]),phone:new je(null,[ae.maxLength(20)]),date:new je(this.getTodayDate()),type:new je(null,[ae.required]),account_id:new je(null),liters:new je(null,[ae.required]),product_id:new je(null,[ae.required])});ngOnInit(){this.loadProducts(),this.getTaxRate(),this.loadMyShift(),this.trackProductSelection(),this.updateAmount(),this.salesForm.addControl("tax_rate",new je(null,[ae.required,ae.pattern(/^\d+(\.\d{1,2})?$/)])),this.salesForm.get("type")?.valueChanges.subscribe(e=>{e==="debit"&&this.getAccountsByParent("12")})}loadProducts(){this._ProductService.viewAllProducts().subscribe({next:e=>{this.products=e},error:e=>{console.error("Error loading products:",e)}})}trackProductSelection(){this.salesForm.get("product_id")?.valueChanges.subscribe(e=>{if(console.log("Selected Product ID:",e),!this.products||this.products.length===0){console.error("Products are not loaded or empty.");return}let t=this.products.find(i=>i.id===+e);t?(this.selectedProductPrice=t.price,this.updateAmount(),console.log("Selected Product Price:",+this.selectedProductPrice)):console.error("Selected product not found.")})}updateAmount(){this.salesForm.get("liters")?.valueChanges.subscribe(e=>{this.calculateAmount(e,this.selectedProductPrice),console.log(e)})}calculateAmount(e,t){let i=parseFloat(t||"0"),r=parseFloat(e||"0");this.amount=r*i,console.log("Calculated Amount:",this.amount)}onFileChange(e){let t=e.target;t.files&&t.files.length>0&&(this.selectedImage=t.files[0])}getTodayDate(){let e=new Date,t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${i}-${r}`}getTaxRate(){this._AccountingService.getTaxRate().subscribe({next:e=>{e&&(this.taxRate=parseFloat(e.rate),console.log(this.taxRate),this.salesForm.get("tax_rate")?.setValue(this.taxRate))},error:e=>{console.error(e)}})}loadMyShift(){this._ShiftService.getMyshift().subscribe({next:e=>{console.log(e.data),this.shiftDataId=e.data.id,console.log(this.shiftDataId),this.noShiftOpened=!1},error:e=>{e.status===404?this.noShiftOpened=!0:(console.error(e),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062C\u0644\u0628 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"))}})}getAccountsByParent(e){this._AccountingService.getAccountsByParent(e).subscribe({next:t=>{t&&(this.accounts=t.data,console.log(`Accounts for parent ${e}:`,this.accounts))},error:t=>{console.error(t)}})}get taxAmount(){let e=this.amount,t=this.taxRate||0;return e*t/100}onInvoiceFileChange(e){let t=e.target;t.files&&t.files.length>0&&(this.selectedInvoiceImage=t.files[0])}handleForm(){if(this.salesForm.valid){this.isLoading=!0;let e=new FormData;e.append("address",this.salesForm.get("address")?.value),e.append("tax_no",this.salesForm.get("tax_no")?.value),e.append("tax_name",this.salesForm.get("tax_name")?.value),e.append("client_name",this.salesForm.get("client_name")?.value),e.append("phone",this.salesForm.get("phone")?.value),e.append("date",this.salesForm.get("date")?.value),e.append("product_id",this.salesForm.get("product_id")?.value),e.append("main_shift_id",this.shiftDataId.toString()),e.append("type",this.salesForm.get("type")?.value),e.append("liters",this.salesForm.get("liters")?.value),e.append("amount",this.amount.toString()),e.append("tax_rate",this.taxRate.toString()),e.append("tax_amount",this.taxAmount.toString()),this.salesForm.get("type")?.value==="debit"&&e.append("account_id",this.salesForm.get("account_id")?.value),this._SalesService.addSalesInvoice(e).subscribe({next:t=>{console.log(t),t&&(this.toastr.success("\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0641\u0627\u062A\u0648\u0631\u0629 \u0628\u0646\u062C\u0627\u062D"),this.isLoading=!1,this._Router.navigate(["/dashboard/salesInvoices"]))},error:t=>{if(this.isLoading=!1,this.msgError=[],t.error&&t.error.errors)for(let i in t.error.errors)t.error.errors[i]instanceof Array?this.msgError.push(...t.error.errors[i]):this.msgError.push(t.error.errors[i]);console.error(this.msgError),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0625\u0636\u0627\u0641\u0629")}})}}static \u0275fac=function(t){return new(t||n)(O(Mr),O(Me),O(Qe),O(Ln),O(bn),O(pi))};static \u0275cmp=Ae({type:n,selectors:[["app-add-sales-invoice"]],decls:11,vars:2,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],["class","alert alert-warning text-center",4,"ngIf"],["class","mt-4 mb-4",4,"ngIf"],[1,"alert","alert-warning","text-center"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","tax_no",1,"form-label"],["id","tax_no","formControlName","tax_no","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064A\u0628\u0629 \u0645\u0646 \u0641\u0636\u0644\u0643",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","tax_name",1,"form-label"],["id","tax_name","formControlName","tax_name","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0636\u0631\u064A\u0628\u0629 \u0645\u0646 \u0641\u0636\u0644\u0643",1,"form-control"],["for","client_name",1,"form-label"],["id","client_name","formControlName","client_name","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644 \u0645\u0646 \u0641\u0636\u0644\u0643",1,"form-control"],["for","phone",1,"form-label"],["id","phone","formControlName","phone","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 \u0645\u0646 \u0641\u0636\u0644\u0643",1,"form-control"],[1,"form-group"],["for","product_id"],["id","product_id","formControlName","product_id",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","mt-2"],["for","date",1,"form-label"],["id","date","formControlName","date","type","date",1,"form-control"],["for","type",1,"form-label"],["id","type","formControlName","type",1,"form-control"],["value","cash"],["value","debit"],["class","form-group col-md-6",4,"ngIf"],[1,"form-group","col-md-12"],["for","address",1,"form-label"],["id","address","formControlName","address","rows","4","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0639\u0646\u0648\u0627\u0646",1,"form-control"],["for","liters",1,"form-label"],["id","liters","formControlName","liters","type","number","placeholder","\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0646\u0642\u062F\u064A","required","",1,"form-control"],[1,"form-label"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],["formControlName","account_id",1,"form-control"],["value","","disabled",""],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A"),a(),u(3,"span",1),c(4,"\u0627\u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 "),M(5,"i",2),c(6," \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A "),M(7,"i",2),c(8," \u0625\u0636\u0627\u0641\u0629 \u0645\u0628\u064A\u0639\u0627\u062A "),a()(),D(9,Gne,3,0,"div",3)(10,fie,91,24,"div",4)),t&2&&(f(9),E("ngIf",i.noShiftOpened),f(),E("ngIf",!i.noShiftOpened))},dependencies:[Ne,He,tt,nr,xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,sn,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};function mie(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0647\u0648 255"),a())}function hie(n,e){if(n&1&&(u(0,"div",43),D(1,mie,2,0,"p",44),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.salesForm.get("tax_no"))==null?null:t.getError("maxLength"))}}function gie(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0647\u0648 255"),a())}function vie(n,e){if(n&1&&(u(0,"div",43),D(1,gie,2,0,"p",44),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.salesForm.get("tax_name"))==null?null:t.getError("maxLength"))}}function _ie(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0647\u0648 255"),a())}function yie(n,e){if(n&1&&(u(0,"div",43),D(1,_ie,2,0,"p",44),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.salesForm.get("client_name"))==null?null:t.getError("maxLength"))}}function bie(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062D\u062F \u0627\u0644\u0623\u0642\u0635\u0649 \u0647\u0648 20"),a())}function Eie(n,e){if(n&1&&(u(0,"div",43),D(1,bie,2,0,"p",44),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.salesForm.get("phone"))==null?null:t.getError("maxLength"))}}function Sie(n,e){if(n&1&&(u(0,"option",45),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),Se(" ",t.name," ")}}function xie(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E \u0645\u0637\u0644\u0648\u0628"),a())}function Cie(n,e){if(n&1&&(u(0,"div",43),D(1,xie,2,0,"p",44),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.salesForm.get("date"))==null?null:t.hasError("required"))}}function wie(n,e){n&1&&(u(0,"p"),c(1,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639 \u0645\u0637\u0644\u0648\u0628"),a())}function Aie(n,e){if(n&1&&(u(0,"div",43),D(1,wie,2,0,"p",44),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.salesForm.get("type"))==null?null:t.hasError("required"))}}function Die(n,e){if(n&1&&(u(0,"option",45),c(1),a()),n&2){let t=e.$implicit;E("value",t.id),f(),C(t.account_name)}}function Iie(n,e){if(n&1&&(u(0,"div",11)(1,"label",35),c(2,"\u0627\u062E\u062A\u0631 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),u(3,"select",46)(4,"option",47),c(5,"\u0627\u062E\u062A\u0627\u0631 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),D(6,Die,2,2,"option",24),a()()),n&2){let t=q();f(6),E("ngForOf",t.accounts)}}function Tie(n,e){n&1&&(u(0,"p"),c(1,"\u0627\u0644\u0644\u062A\u0631\u0627\u062A \u0645\u0637\u0644\u0648\u0628\u0629"),a())}function Mie(n,e){if(n&1&&(u(0,"div",43),D(1,Tie,2,0,"p",44),a()),n&2){let t,i=q();f(),E("ngIf",(t=i.salesForm.get("liters"))==null?null:t.getError("required"))}}function Fie(n,e){if(n&1&&(u(0,"li"),c(1),a()),n&2){let t=e.$implicit;f(),C(t)}}function Nie(n,e){if(n&1&&(u(0,"div",43)(1,"ul"),D(2,Fie,2,1,"li",48),a()()),n&2){let t=q();f(2),E("ngForOf",t.msgError)}}function Pie(n,e){n&1&&M(0,"i",49)}var K1=class n{constructor(e,t,i,r,o,s,l){this._SalesService=e;this._Router=t;this.toastr=i;this._ProductService=r;this._AccountingService=o;this._ShiftService=s;this.route=l}msgError=[];isLoading=!1;products;selectedImage=null;selectedInvoiceImage=null;taxRate;suppliers;accounts;expensesAccounts;shiftDataId=null;noShiftOpened=!1;selectedProductPrice="";salesForm=new dn({address:new je(null,[ae.maxLength(255)]),tax_no:new je(null,[ae.maxLength(255)]),tax_name:new je(null,[ae.maxLength(255)]),client_name:new je(null,[ae.maxLength(255)]),phone:new je(null,[ae.maxLength(20)]),date:new je(this.getTodayDate()),type:new je(null,[ae.required]),account_id:new je(null),liters:new je(null,[ae.required]),product_id:new je(null,[ae.required])});ngOnInit(){this.loadProducts(),this.getTaxRate(),this.loadMyShift(),this.trackProductSelection(),this.salesForm.addControl("tax_rate",new je(null,[ae.required,ae.pattern(/^\d+(\.\d{1,2})?$/)])),this.salesForm.get("type")?.valueChanges.subscribe(t=>{t==="debit"&&this.getAccountsByParent("12")});let e=this.route.snapshot.paramMap.get("id");e&&this.fetcSaleData(e)}fetcSaleData(e){this._SalesService.getSalesInvoice(e).subscribe({next:t=>{if(t){let i=t.data;console.log(i),this.salesForm.patchValue({tax_no:i.tax_no,tax_name:i.tax_name,client_name:i.client_name,phone:i.phone,date:i.date,type:i.type,account_id:i?.account?.id,liters:i.liters,product_id:i.product_id,address:i.address})}},error:t=>{this.msgError=t.error.error}})}loadProducts(){this._ProductService.viewAllProducts().subscribe({next:e=>{this.products=e},error:e=>{console.error("Error loading products:",e)}})}trackProductSelection(){this.salesForm.get("product_id")?.valueChanges.subscribe(e=>{if(console.log("Selected Product ID:",e),!this.products||this.products.length===0){console.error("Products are not loaded or empty.");return}let t=this.products.find(i=>i.id===+e);t?(this.selectedProductPrice=t.price,console.log("Selected Product Price:",+this.selectedProductPrice)):console.error("Selected product not found.")})}onFileChange(e){let t=e.target;t.files&&t.files.length>0&&(this.selectedImage=t.files[0])}getTodayDate(){let e=new Date,t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${i}-${r}`}getTaxRate(){this._AccountingService.getTaxRate().subscribe({next:e=>{e&&(this.taxRate=parseFloat(e.rate),console.log(this.taxRate),this.salesForm.get("tax_rate")?.setValue(this.taxRate))},error:e=>{console.error(e)}})}loadMyShift(){this._ShiftService.getMyshift().subscribe({next:e=>{console.log(e.data),this.shiftDataId=e.data.id,console.log(this.shiftDataId),this.noShiftOpened=!1},error:e=>{e.status===404?this.noShiftOpened=!0:(console.error(e),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062C\u0644\u0628 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"))}})}getAccountsByParent(e){this._AccountingService.getAccountsByParent(e).subscribe({next:t=>{t&&(this.accounts=t.data,console.log(`Accounts for parent ${e}:`,this.accounts))},error:t=>{console.error(t)}})}get amount(){return(this.salesForm.get("liters")?.value||0)*+this.selectedProductPrice}get taxAmount(){let e=this.amount,t=this.taxRate||0;return e*t/100}onInvoiceFileChange(e){let t=e.target;t.files&&t.files.length>0&&(this.selectedInvoiceImage=t.files[0])}handleForm(){if(this.salesForm.valid){this.isLoading=!0;let e=new FormData;e.append("address",this.salesForm.get("address")?.value),e.append("tax_no",this.salesForm.get("tax_no")?.value),e.append("tax_name",this.salesForm.get("tax_name")?.value),e.append("client_name",this.salesForm.get("client_name")?.value),e.append("phone",this.salesForm.get("phone")?.value),e.append("date",this.salesForm.get("date")?.value),e.append("product_id",this.salesForm.get("product_id")?.value),e.append("main_shift_id",this.shiftDataId.toString()),e.append("type",this.salesForm.get("type")?.value),e.append("liters",this.salesForm.get("liters")?.value),e.append("amount",this.amount.toString()),e.append("tax_rate",this.taxRate.toString()),e.append("tax_amount",this.taxAmount.toString()),this.salesForm.get("type")?.value==="debit"&&e.append("account_id",this.salesForm.get("account_id")?.value);let t=this.route.snapshot.paramMap.get("id");t&&this._SalesService.updateSalesInvoice(t,e).subscribe({next:i=>{console.log(i),i&&(this.toastr.success("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A \u0628\u0646\u062C\u0627\u062D"),this.isLoading=!1,this._Router.navigate(["/dashboard/salesInvoices"]))},error:i=>{if(this.isLoading=!1,this.msgError=[],i.error&&i.error.errors)for(let r in i.error.errors)i.error.errors[r]instanceof Array?this.msgError.push(...i.error.errors[r]):this.msgError.push(i.error.errors[r]);console.error(this.msgError),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u0625\u0636\u0627\u0641\u0629")}})}}onCancel(){this.salesForm.reset(),this._Router.navigate(["/dashboard/salesInvoices"])}static \u0275fac=function(t){return new(t||n)(O(Mr),O(Me),O(Qe),O(Ln),O(bn),O(pi),O(ft))};static \u0275cmp=Ae({type:n,selectors:[["app-update-sales-invoice"]],decls:96,vars:20,consts:[[1,"mt-3","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],[1,"mt-4","mb-4"],[3,"ngSubmit","formGroup"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow","em-card","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body","pb-5"],[1,"form-group","col-md-6"],["for","tax_no",1,"form-label"],["id","tax_no","formControlName","tax_no","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064A\u0628\u0629 \u0645\u0646 \u0641\u0636\u0644\u0643","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","tax_name",1,"form-label"],["id","tax_name","formControlName","tax_name","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0636\u0631\u064A\u0628\u0629 \u0645\u0646 \u0641\u0636\u0644\u0643","required","",1,"form-control"],["for","client_name",1,"form-label"],["id","client_name","formControlName","client_name","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644 \u0645\u0646 \u0641\u0636\u0644\u0643","required","",1,"form-control"],["for","phone",1,"form-label"],["id","phone","formControlName","phone","type","text","placeholder","\u0623\u062F\u062E\u0644 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641 \u0645\u0646 \u0641\u0636\u0644\u0643","required","",1,"form-control"],[1,"form-group"],["for","product_id"],["id","product_id","formControlName","product_id",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","mt-2"],["for","date",1,"form-label"],["id","date","formControlName","date","type","date",1,"form-control"],["for","type",1,"form-label"],["id","type","formControlName","type",1,"form-control"],["value","cash"],["value","debit"],["class","form-group col-md-6",4,"ngIf"],["for","liters",1,"form-label"],["id","liters","formControlName","liters","type","number","placeholder","\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0646\u0642\u062F\u064A","required","",1,"form-control"],[1,"form-label"],[1,"form-group","col-md-12"],["for","address",1,"form-label"],["id","address","formControlName","address","rows","4","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0639\u0646\u0648\u0627\u0646",1,"form-control"],[1,"mt-4","mb-4","d-flex","justify-content-around","w-25"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],["formControlName","account_id",1,"form-control"],["value","","disabled",""],[4,"ngFor","ngForOf"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,i){if(t&1&&(u(0,"div",0)(1,"h5"),c(2,"\u0625\u062F\u0627\u0631\u0629 \u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A"),a(),u(3,"span",1),c(4,"\u0627\u0644\u0644\u0648\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629 "),M(5,"i",2),c(6," \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A "),M(7,"i",2),c(8," \u062A\u0639\u062F\u064A\u0644 \u0645\u0628\u064A\u0639\u0627\u062A "),a()(),u(9,"div",3)(10,"form",4),Z("ngSubmit",function(){return i.handleForm()}),u(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"h5"),c(17,"\u062A\u0639\u062F\u064A\u0644 \u0645\u0628\u064A\u0639\u0627\u062A"),a()(),u(18,"div",10)(19,"div",6)(20,"div",11)(21,"label",12),c(22,"\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),M(23,"input",13),D(24,hie,2,1,"div",14),a(),u(25,"div",11)(26,"label",15),c(27,"\u0627\u0633\u0645 \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),M(28,"input",16),D(29,vie,2,1,"div",14),a(),u(30,"div",11)(31,"label",17),c(32,"\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644"),a(),M(33,"input",18),D(34,yie,2,1,"div",14),a(),u(35,"div",11)(36,"label",19),c(37,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641"),a(),M(38,"input",20),D(39,Eie,2,1,"div",14),a(),u(40,"div",21)(41,"label",22),c(42,"\u0627\u062E\u062A\u064A\u0627\u0631 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),u(43,"select",23),D(44,Sie,2,2,"option",24),a()(),u(45,"div",25)(46,"p"),c(47),a()(),u(48,"div",11)(49,"label",26),c(50,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),M(51,"input",27),D(52,Cie,2,1,"div",14),a(),u(53,"div",11)(54,"label",28),c(55,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639"),a(),u(56,"select",29)(57,"option",30),c(58,"\u0646\u0642\u062F\u064B\u0627"),a(),u(59,"option",31),c(60,"\u062F\u0641\u0639 \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),a()(),D(61,Aie,2,1,"div",14),a(),D(62,Iie,7,1,"div",32),a(),u(63,"div",6)(64,"div",11)(65,"label",33),c(66,"\u0627\u0644\u0644\u062A\u0631\u0627\u062A"),a(),M(67,"input",34),D(68,Mie,2,1,"div",14),a(),u(69,"div",11)(70,"label",35),c(71,"\u0627\u0644\u0643\u0645\u064A\u0647"),a(),u(72,"p"),c(73),a()(),u(74,"div",11)(75,"label",35),c(76,"\u0646\u0633\u0628\u0629 \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(77,"p"),c(78),a()(),u(79,"div",11)(80,"label",35),c(81,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A \u0628\u0639\u062F \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(82,"p"),c(83),_n(84,"number"),a()()(),u(85,"div",36)(86,"label",37),c(87,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646"),a(),M(88,"textarea",38),a()()(),D(89,Nie,3,1,"div",14),u(90,"div",39)(91,"button",40),D(92,Pie,1,0,"i",41),c(93," \u062D\u0641\u0638"),a(),u(94,"button",42),Z("click",function(){return i.onCancel()}),c(95,"\u0625\u0644\u063A\u0627\u0621"),a()()()()()()()),t&2){let r,o,s,l,d,m,g,y;f(10),E("formGroup",i.salesForm),f(14),E("ngIf",((r=i.salesForm.get("tax_no"))==null?null:r.errors)&&((r=i.salesForm.get("tax_no"))==null?null:r.touched)),f(5),E("ngIf",((o=i.salesForm.get("tax_name"))==null?null:o.errors)&&((o=i.salesForm.get("tax_name"))==null?null:o.touched)),f(5),E("ngIf",((s=i.salesForm.get("client_name"))==null?null:s.errors)&&((s=i.salesForm.get("client_name"))==null?null:s.touched)),f(5),E("ngIf",((l=i.salesForm.get("phone"))==null?null:l.errors)&&((l=i.salesForm.get("phone"))==null?null:l.touched)),f(5),E("ngForOf",i.products),f(3),Se("\u0633\u0639\u0631 \u0627\u0644\u0645\u0646\u062A\u062C \u0627\u0644\u0645\u062E\u062A\u0627\u0631: ",i.selectedProductPrice,""),f(5),E("ngIf",((d=i.salesForm.get("date"))==null?null:d.errors)&&((d=i.salesForm.get("date"))==null?null:d.touched)),f(9),E("ngIf",((m=i.salesForm.get("type"))==null?null:m.errors)&&((m=i.salesForm.get("type"))==null?null:m.touched)),f(),E("ngIf",((g=i.salesForm.get("type"))==null?null:g.value)==="debit"),f(6),E("ngIf",((y=i.salesForm.get("liters"))==null?null:y.errors)&&((y=i.salesForm.get("liters"))==null?null:y.touched)),f(5),C(i.amount),f(5),Se("",i.taxRate," %"),f(5),C(yn(84,17,i.taxAmount,"1.2-2")),f(6),E("ngIf",i.msgError&&i.msgError.length>0),f(2),E("disabled",i.salesForm.invalid),f(),E("ngIf",i.isLoading)}},dependencies:[Ne,He,tt,nr,xt,Rt,Vt,Ut,Ze,on,Lt,et,Ot,sn,Dt,Mt],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var Q1=class n{constructor(e,t,i){this._SalesService=e;this.router=t;this.route=i}salesData;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.fetchSalesData(e)}getPaymentType(e){return e=="debit"?"\u0622\u062C\u0644":"\u0643\u0627\u0634"}fetchSalesData(e){this._SalesService.getSalesInvoice(e).subscribe({next:t=>{console.log(t.data),this.salesData=t.data||{}},error:t=>{console.error("Error fetching sales data:",t.message)}})}static \u0275fac=function(t){return new(t||n)(O(Mr),O(Me),O(ft))};static \u0275cmp=Ae({type:n,selectors:[["app-show-sales-invoice"]],decls:101,vars:16,consts:[[1,"mt-4","mb-4"],[1,"container"],[1,"row"],[1,"col-md-12"],["id","invoice-details",1,"card","shadow","rounded-lg"],[1,"card-header","bg-white","text-black","rounded-top","pt-3"],[1,"card-body"],[1,"col-md-6"],[1,"mb-3"],[1,"mt-4","mb-4","text-center"],["routerLinkActive","active","routerLink","/dashboard/salesInvoices",1,"nav-link"],["type","button",1,"btn","btn-primary","px-4"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5"),c(7,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629"),a()(),u(8,"div",6)(9,"div",2)(10,"div",7)(11,"div",8)(12,"strong"),c(13,"\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644:"),a(),u(14,"p"),c(15),a()(),u(16,"div",8)(17,"strong"),c(18,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E:"),a(),u(19,"p"),c(20),a()(),u(21,"div",8)(22,"strong"),c(23,"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629:"),a(),u(24,"p"),c(25),a()(),u(26,"div",8)(27,"strong"),c(28,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641:"),a(),u(29,"p"),c(30),a()(),u(31,"div",8)(32,"strong"),c(33," \u0627\u0644\u0633\u062C\u0644 \u0627\u0644\u062A\u062C\u0627\u0631\u0649:"),a(),u(34,"p"),c(35),a()(),u(36,"div",8)(37,"strong"),c(38,"\u0627\u0644\u0639\u0646\u0648\u0627\u0646:"),a(),u(39,"p"),c(40),a()()(),u(41,"div",7)(42,"div",8)(43,"strong"),c(44,"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A:"),a(),u(45,"p"),c(46),a()(),u(47,"div",8)(48,"strong"),c(49,"\u0627\u0644\u0636\u0631\u064A\u0628\u0629:"),a(),u(50,"p"),c(51),a()(),u(52,"div",8)(53,"strong"),c(54,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639:"),a(),u(55,"p"),c(56),a()(),u(57,"div",8)(58,"strong"),c(59," \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064A\u0628\u0649:"),a(),u(60,"p"),c(61),a()(),u(62,"div",8)(63,"strong"),c(64,"\u0646\u0633\u0628\u0629 \u0627\u0644\u0636\u0631\u064A\u0628\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629:"),a(),u(65,"p"),c(66),a()()()(),u(67,"div",2)(68,"div",3),M(69,"hr"),u(70,"h6"),c(71,"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0648\u0631\u062F\u064A\u0647:"),a(),u(72,"div",8)(73,"strong"),c(74,"\u0627\u0644\u0648\u0631\u062F\u064A\u0647:"),a(),u(75,"p"),c(76),a()(),u(77,"div",8)(78,"strong"),c(79,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0627\u0644 (\u0643\u0627\u0634):"),a(),u(80,"p"),c(81),a()(),u(82,"div",8)(83,"strong"),c(84,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0627\u0644 (\u0622\u062C\u0644 \u0639\u0645\u0644\u0627\u0621):"),a(),u(85,"p"),c(86),a()(),u(87,"div",8)(88,"strong"),c(89,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0627\u0644 (\u0639\u0628\u0631 \u0627\u0644\u0634\u0628\u0643\u0629):"),a(),u(90,"p"),c(91),a()(),u(92,"div",8)(93,"strong"),c(94,"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0645\u0627\u0644 (\u0627\u0644\u0648\u0631\u062F\u0629):"),a(),u(95,"p"),c(96),a()()()()()()()(),u(97,"div",9)(98,"a",10)(99,"button",11),c(100,"\u0631\u062C\u0648\u0639"),a()()()()()),t&2&&(f(15),C(i.salesData==null?null:i.salesData.client_name),f(5),C(i.salesData==null?null:i.salesData.date),f(5),C(i.salesData==null?null:i.salesData.number),f(5),C(i.salesData==null?null:i.salesData.phone),f(5),C(i.salesData==null?null:i.salesData.tax_name),f(5),C(i.salesData==null?null:i.salesData.address),f(6),C(i.salesData==null?null:i.salesData.amount),f(5),C(i.salesData==null?null:i.salesData.tax_amount),f(5),C(i.getPaymentType(i.salesData==null?null:i.salesData.type)),f(5),C(i.salesData==null?null:i.salesData.tax_no),f(5),Se("",i.salesData==null?null:i.salesData.tax_rate,"%"),f(10),C(i.salesData==null||i.salesData.main_shift==null?null:i.salesData.main_shift.shift),f(5),C(i.salesData==null||i.salesData.main_shift==null?null:i.salesData.main_shift.total_money_cash),f(5),C(i.salesData==null||i.salesData.main_shift==null?null:i.salesData.main_shift.total_money_client),f(5),C(i.salesData==null||i.salesData.main_shift==null?null:i.salesData.main_shift.total_money_online),f(5),C(i.salesData==null||i.salesData.main_shift==null?null:i.salesData.main_shift.total_shift_money))},dependencies:[wt,Ct,qi],styles:['span[_ngcontent-%COMP%]{font-size:12px}label[_ngcontent-%COMP%]{font-size:14px;margin-top:15px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:15px}.card-header[_ngcontent-%COMP%]{position:relative}.card-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:25%;left:0;height:50%;width:3px;background-color:#145388}']})};var oN=Ca(bu());var sN=Ca(rN());function Dre(n,e){if(n&1&&M(0,"img",14),n&2){let t=q();E("src",t.setting.logo,On)}}var uv=class n{constructor(e,t,i,r,o){this._AccountingService=e;this._SalesService=t;this._SettingsService=i;this.router=r;this.route=o}currentTime="";salesData;setting;taxRate;ngOnInit(){this.getTaxRate();let e=this.route.snapshot.paramMap.get("id");e&&this.fetchInvoiceData(e),this.fetchSettingData(),this.setCurrentTime()}getTaxRate(){this._AccountingService.getTaxRate().subscribe({next:e=>{e&&(this.taxRate=parseFloat(e.rate))},error:e=>{console.error(e)}})}getType(e){return e=="debit"?"\u0627\u062C\u0644":"\u0643\u0627\u0634"}setCurrentTime(){let e=new Date;this.currentTime=e.toLocaleString()}fetchSettingData(){this._SettingsService.getSettings().subscribe({next:e=>{console.log("setting",e),this.setting=e.data||{}},error:e=>{console.error("Error fetching Sales data:",e.message)}})}fetchInvoiceData(e){this._SalesService.getSalesInvoice(e).subscribe({next:t=>{console.log(t.data),this.salesData=t.data||{},this.generateQRCode()},error:t=>{console.error("Error fetching Sales data:",t.message)}})}generateQRCode(){let e=document.getElementById("invoice-qr");if(!e)return;let t=this.route.snapshot.paramMap.get("id"),i=`\u0633\u0639\u0631 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629: ${this.salesData.amount}`;sN.toCanvas(e,i,{width:150},r=>{r&&console.error("Error generating QR code:",r)})}exportToPDF(){let e=document.getElementById("invoice-details");e&&(0,oN.default)(e).then(t=>{let i=t.toDataURL("image/png"),r=new Tr("p","mm","a4"),o=190,s=297,l=t.height*o/t.width,d=l,m=0;for(r.addImage(i,"PNG",10,m,o,l),d-=s;d>=0;)m=d-l,r.addPage(),r.addImage(i,"PNG",10,m,o,l),d-=s;r.save("invoice.pdf")})}static \u0275fac=function(t){return new(t||n)(O(bn),O(Mr),O(A0),O(Me),O(ft))};static \u0275cmp=Ae({type:n,selectors:[["app-invoice"]],decls:83,vars:25,consts:[["id","invoice-details",1,"container"],[1,"invoice"],[1,"logo","mb-3"],["alt","",3,"src",4,"ngIf"],[1,"details"],[1,"row"],[1,"text-center"],[1,"col-6"],[1,"text-end"],[1,"table","table-bordered","text-center"],[1,"qr"],["id","invoice-qr"],[1,"mt-4","text-center"],[1,"btn","btn-primary",3,"click"],["alt","",3,"src"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div",1)(2,"div",2),D(3,Dre,1,1,"img",3),a(),u(4,"div",4)(5,"div",5)(6,"div"),c(7),a(),u(8,"div"),c(9),a(),u(10,"div"),c(11),a(),u(12,"div"),c(13),a()(),u(14,"div",5)(15,"div",6),c(16,"\u0641\u0627\u062A\u0648\u0631\u0629 \u0636\u0631\u064A\u0628\u064A\u0629"),a()(),u(17,"div",5)(18,"div",7)(19,"div"),c(20),a(),u(21,"div",7),c(22),a()(),u(23,"div",7)(24,"div"),c(25),a(),u(26,"div",8),c(27),a()()()(),u(28,"div",4)(29,"div",5)(30,"div"),c(31),a(),u(32,"div"),c(33),a(),u(34,"div"),c(35),a(),u(36,"div"),c(37),a(),u(38,"div"),c(39),a()()(),u(40,"table",9)(41,"thead")(42,"tr")(43,"th"),c(44,"\u0627\u0644\u0645\u0646\u062A\u062C"),a(),u(45,"th"),c(46,"\u0627\u0644\u0643\u0645\u064A\u0629"),a(),u(47,"th"),c(48,"\u0627\u0644\u0633\u0639\u0631"),a(),u(49,"th"),c(50,"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"),a()()(),u(51,"tbody")(52,"td"),c(53),a(),u(54,"td"),c(55),a(),u(56,"td"),c(57),a(),u(58,"td"),c(59),a()()(),u(60,"div",4)(61,"div",5)(62,"div",7),c(63),a()(),u(64,"div",5)(65,"div",7),c(66),a()(),u(67,"div",5)(68,"div",7),c(69),a()(),u(70,"div",5)(71,"div",7),c(72),a()(),u(73,"div",5)(74,"div",7),c(75),a()()(),u(76,"div",6),c(77),a(),u(78,"div",10),M(79,"canvas",11),a()()(),u(80,"div",12)(81,"button",13),Z("click",function(){return i.exportToPDF()}),c(82,"Download as PDF"),a()()),t&2&&(f(3),E("ngIf",i.setting.logo),f(4),Se("\u0627\u0644\u0639\u0646\u0648\u0627\u0646:",i.setting==null?null:i.setting.address,""),f(2),Se("\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641:",i.setting==null?null:i.setting.phone,""),f(2),Se("\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064A\u0628\u064A:",i.setting==null?null:i.setting.tax_number,""),f(2),Se("\u0627\u0644\u0633\u062C\u0644 \u0627\u0644\u062A\u062C\u0627\u0631\u064A:",i.setting==null?null:i.setting.tax_name,""),f(7),Se("\u0627\u0644\u0646\u0648\u0639: ",i.getType(i.salesData==null?null:i.salesData.type)," "),f(2),Se("\u0627\u0644\u062A\u0627\u0631\u064A\u062E:",i.salesData==null?null:i.salesData.date,""),f(3),Se("\u0627\u0644\u0631\u0642\u0645: ",i.salesData==null?null:i.salesData.number," "),f(2),Se("\u0627\u0644\u0648\u0642\u062A:",i.currentTime,""),f(4),Se("\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644: ",(i.salesData==null?null:i.salesData.client_name)!="null"?i.salesData.client_name:"",""),f(2),Se("\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0636\u0631\u064A\u0628\u064A:",(i.salesData==null?null:i.salesData.tax_no)!="null"?i.salesData.tax_no:"",""),f(2),Se("\u0627\u0644\u0633\u062C\u0644 \u0627\u0644\u062A\u062C\u0627\u0631\u064A:",(i.salesData==null?null:i.salesData.tax_name)!="null"?i.salesData.tax_name:"",""),f(2),Se("\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062A\u0641:",(i.salesData==null?null:i.salesData.phone)!="null"?i.salesData.phone:"",""),f(2),Se("\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0639\u0645\u064A\u0644:",(i.salesData==null?null:i.salesData.address)!="null"?i.salesData.address:"",""),f(14),C(i.salesData==null?null:i.salesData.product.name),f(2),C(i.salesData==null?null:i.salesData.liters),f(2),C(i.salesData==null?null:i.salesData.product.price),f(2),C(i.salesData==null?null:i.salesData.amount),f(4),Se("\u0625\u062C\u0645\u0627\u0644\u064A: ",i.salesData==null?null:i.salesData.amount,""),f(3),Op("\u0636\u0631\u064A\u0628\u0629 ",i.taxRate,"%: ",i.salesData==null?null:i.salesData.tax_amount,""),f(3),Se("\u0635\u0627\u0641\u064A \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629: ",i.salesData.amount,""),f(3),Se("\u0627\u0644\u0645\u062F\u0641\u0648\u0639: ",(i.salesData==null?null:i.salesData.type)=="debit"?0:i.salesData==null?null:i.salesData.amount,""),f(3),Se("\u0627\u0644\u0628\u0627\u0642\u064A: ",(i.salesData==null?null:i.salesData.type)=="debit"?i.salesData==null?null:i.salesData.amount:0,""),f(2),Se("\u0627\u0644\u0645\u0628\u0644\u063A \u0634\u0627\u0645\u0644 \u0636\u0631\u064A\u0628\u0629 \u0627\u0644\u0642\u064A\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629 ",i.taxRate,"%"))},dependencies:[Ne,tt],styles:[".invoice[_ngcontent-%COMP%]{max-width:600px;margin:20px auto;border:1px solid #ddd;padding:20px;border-radius:8px}.logo[_ngcontent-%COMP%]{text-align:center}.details[_ngcontent-%COMP%]{margin-bottom:20px}.details[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:10px}.table[_ngcontent-%COMP%]{margin-bottom:20px}.footer[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#f8f9fa;border:1px solid #ddd}.qr[_ngcontent-%COMP%]{text-align:center;margin-top:20px}"]})};var Ire=n=>["/dashboard/showSalesInvoice",n];function Tre(n,e){if(n&1&&(u(0,"div",17)(1,"div",18)(2,"div",19)(3,"h6",20),c(4),a()(),u(5,"div",5)(6,"div",21)(7,"strong"),c(8," \u0642\u064A\u0645\u0629 \u0639\u062F\u0627\u062F \u0627\u0644\u0625\u063A\u0644\u0627\u0642:"),a(),u(9,"span",22),c(10),a()(),u(11,"div",21)(12,"strong"),c(13," \u0642\u064A\u0645\u0629 \u0639\u062F\u0627\u062F \u0627\u0644\u0641\u062A\u062D:"),a(),u(14,"span",23),c(15),a()(),u(16,"div",21)(17,"strong"),c(18,"\u0627\u0644\u0645\u0646\u062A\u062C:"),a(),u(19,"span",9),c(20),a()(),u(21,"div",21)(22,"strong"),c(23,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0644\u062A\u0631\u0627\u062A:"),a(),u(24,"span",24),c(25),a()(),u(26,"div",25)(27,"strong"),c(28,"\u0635\u0648\u0631\u0629 \u0627\u0644\u0625\u063A\u0644\u0627\u0642:"),a(),M(29,"br")(30,"img",26),a()()()()),n&2){let t=e.$implicit;f(4),Se("\u0627\u0644\u0637\u0631\u0645\u0628\u0629 \u0631\u0642\u0645 ",t.product_id,""),f(6),C(t.close_amount),f(5),C(t.open_amount),f(5),C(t.product.name),f(5),C(t.total_liters_amount),f(5),E("src",t.close_image,On)}}function Mre(n,e){if(n&1&&(u(0,"div")(1,"h6",14),c(2,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0637\u0631\u0645\u0628\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u0629:"),a(),u(3,"div",15),D(4,Tre,31,6,"div",16),a()()),n&2){let t=q();f(4),E("ngForOf",t.shiftData.shiftMachines)}}function Fre(n,e){if(n&1&&(u(0,"div",4)(1,"div",5)(2,"h6",6),c(3,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0639\u0627\u0645\u0644:"),a(),u(4,"p")(5,"strong"),c(6,"\u0627\u0633\u0645 \u0627\u0644\u0639\u0627\u0645\u0644:"),a(),c(7),a(),u(8,"p")(9,"strong"),c(10,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645:"),a(),c(11),a(),u(12,"p")(13,"strong"),c(14,"\u0627\u0644\u062F\u0648\u0631:"),a(),c(15),a(),u(16,"p")(17,"strong"),c(18,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0634\u0627\u0621:"),a(),c(19),_n(20,"date"),a()()()),n&2){let t=q();f(7),Se(" ",t.shiftData.worker.name,""),f(4),Se(" ",t.shiftData.worker.username,""),f(4),Se(" ",t.shiftData.worker.role,""),f(4),Se(" ",yn(20,4,t.shiftData.worker.created_at,"yyyy-MM-dd"),"")}}function Nre(n,e){if(n&1&&(u(0,"div",4)(1,"div",5)(2,"h6",27),c(3,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0634\u0631\u0641:"),a(),u(4,"p")(5,"strong"),c(6,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u0631\u0641:"),a(),c(7),a(),u(8,"p")(9,"strong"),c(10,"\u0627\u0644\u062F\u0648\u0631:"),a(),c(11),a()()()),n&2){let t=q();f(7),Se(" ",t.shiftData.supervisor.name,""),f(4),Se(" ",t.shiftData.supervisor.role,"")}}function Pre(n,e){if(n&1){let t=ht();u(0,"a",28),Z("click",function(){rt(t);let r=q();return ot(r.approve())}),c(1," \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629 , \u062A\u0631\u062D\u064A\u0644 \u0627\u0644\u0648\u0631\u062F\u064A\u0629 \u0644\u0644\u0645\u062D\u0627\u0633\u0628 "),a()}}function Ore(n,e){if(n&1&&(u(0,"tr")(1,"th",34),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td")(10,"div",35)(11,"a",36),M(12,"i",37),a()()()()),n&2){let t=e.$implicit,i=e.index,r=q(2);f(2),C(i+1),f(2),C(t.date),f(2),C(r.getPaymentType(t.type)),f(2),C(t.tax_amount),f(3),E("routerLink",mn(5,Ire,t.id))}}function Rre(n,e){if(n&1&&(u(0,"div",29)(1,"div",30)(2,"table",31)(3,"thead")(4,"tr")(5,"th",32),c(6,"#"),a(),u(7,"th",32),c(8,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),u(9,"th",32),c(10,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639"),a(),u(11,"th",32),c(12,"\u0627\u0644\u0643\u0645\u064A\u0629 \u0628\u0639\u062F \u0627\u0644\u0636\u0631\u064A\u0628\u0629"),a(),u(13,"th",32),c(14,"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"),a()()(),u(15,"tbody"),D(16,Ore,13,7,"tr",33),a()()()()),n&2){let t=q();f(16),E("ngForOf",t.filteredSales)}}var lv=class n{constructor(e,t,i,r,o){this.shiftService=e;this.toastr=t;this.router=i;this.route=r;this.salesService=o}shiftData=null;showInvoice=!1;filteredSales;loadInvoices(e){this.salesService.viewsalesInvoicesByShift(e).subscribe({next:t=>{console.log(t.data),this.filteredSales=t.data},error:t=>{console.error(t),this.toastr.error(" \u062D\u062F\u062B \u0645\u0634\u0643\u0644\u0629 \u0627\u062B\u0646\u0627\u0621 \u062A\u0631\u062D\u064A\u0644 \u0627\u0644\u0648\u0631\u062F\u064A\u0629 ")}})}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.loadShift(e)}openModal(e){let t=document.getElementById(e);t&&new hr(t).show()}showInvoices(){this.showInvoice=!this.showInvoice}approve(){this.shiftService.approveMainShift(this.shiftData.id).subscribe({next:e=>{this.toastr.success("  \u062A\u0645 \u062A\u0631\u062D\u064A\u0644 \u0627\u0644\u0648\u0631\u062F\u064A\u0629 \u0628\u0646\u062C\u0627\u062D  "),this.loadShift(this.shiftData.id)},error:e=>{e.status===404||(console.error(e),this.toastr.error(" \u062D\u062F\u062B \u0645\u0634\u0643\u0644\u0629 \u0627\u062B\u0646\u0627\u0621 \u062A\u0631\u062D\u064A\u0644 \u0627\u0644\u0648\u0631\u062F\u064A\u0629 "))}})}getPaymentType(e){return e=="debit"?"\u0622\u062C\u0644":"\u0643\u0627\u0634"}loadShift(e){this.shiftService.getMainShiftById(e).subscribe({next:t=>{console.log(t.data),this.shiftData=t.data,this.loadInvoices(this.shiftData.id)},error:t=>{t.status===404||(console.error(t),this.toastr.error("\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062C\u0644\u0628 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"))}})}static \u0275fac=function(t){return new(t||n)(O(pi),O(Qe),O(Me),O(ft),O(Mr))};static \u0275cmp=Ae({type:n,selectors:[["app-show-supervisor-shift"]],decls:59,vars:20,consts:[[1,"card","p-4","shadow-sm"],[1,"card-title","mb-4","text-center","text-primary"],[1,"row","mb-3"],[1,"col-12","col-md-6"],[1,"card","bg-light","mb-4"],[1,"card-body"],[1,"card-title","text-primary"],[4,"ngIf"],["class","card bg-light mb-4",4,"ngIf"],[1,"text-muted"],[1,"text-center"],["class","btn btn-warning w-25 text-white me-5",3,"click",4,"ngIf"],[1,"btn","btn-success","w-25","text-white","me-5",3,"click"],["class","vendortable rounded mt-4 shadow-sm p-4 bg-white",4,"ngIf"],[1,"text-primary","mb-4","font-weight-bold"],[1,"row"],["class","col-12 col-md-4 mb-4",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","mb-4"],[1,"card","shadow-lg","border-light","rounded"],[1,"card-header","bg-info","text-white"],[1,"card-title","mb-0"],[1,"mb-2"],[1,"text-success"],[1,"text-warning"],[1,"text-primary"],[1,"mt-3","text-center"],["alt","Close Image",1,"img-fluid","rounded","border",2,"width","100%",3,"src"],[1,"card-title","text-info"],[1,"btn","btn-warning","w-25","text-white","me-5",3,"click"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"table-responsive"],[1,"table","mt-3"],["scope","col",1,"bg-light"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","justify-content-around","align-items-center"],[1,"nav-link",3,"routerLink"],[1,"fa-solid","fa-eye","btn1","bg-primary","rounded"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"h5",1),c(2,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0648\u0631\u062F\u064A\u0629"),a(),u(3,"div",2)(4,"div",3)(5,"p")(6,"strong"),c(7,"\u0631\u0642\u0645 \u0627\u0644\u0648\u0631\u062F\u064A\u0629:"),a(),c(8),a()(),u(9,"div",3)(10,"p")(11,"strong"),c(12,"\u0627\u0644\u062D\u0627\u0644\u0629:"),a(),c(13),a()()(),u(14,"div",2)(15,"div",3)(16,"p")(17,"strong"),c(18,"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0625\u0646\u0634\u0627\u0621:"),a(),c(19),_n(20,"date"),a()(),u(21,"div",3)(22,"p")(23,"strong"),c(24,"\u062A\u0627\u0631\u064A\u062E:"),a(),c(25),a()()(),u(26,"div",4)(27,"div",5)(28,"h6",6),c(29,"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0623\u0645\u0648\u0627\u0644"),a(),u(30,"p")(31,"strong"),c(32,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0623\u0645\u0648\u0627\u0644:"),a(),c(33),a(),u(34,"p")(35,"strong"),c(36,"\u0646\u0642\u062F\u0627\u064B:"),a(),c(37),a(),u(38,"p")(39,"strong"),c(40,"\u0639\u0628\u0631 \u0627\u0644\u0634\u0628\u0643\u0629:"),a(),c(41),a(),u(42,"p")(43,"strong"),c(44,"\u0622\u062C\u0644 \u0627\u0644\u0639\u0645\u0644\u0627\u0621:"),a(),c(45),a()()(),D(46,Mre,5,1,"div",7)(47,Fre,21,7,"div",8)(48,Nre,12,2,"div",8),u(49,"p",9)(50,"strong"),c(51,"\u062A\u0645 \u0622\u062E\u0631 \u062A\u062D\u062F\u064A\u062B \u0641\u064A:"),a(),c(52),_n(53,"date"),a(),u(54,"div",10),D(55,Pre,2,0,"a",11),u(56,"a",12),Z("click",function(){return i.showInvoices()}),c(57," \u0639\u0631\u0636 \u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0639\u0645\u0644\u0627\u0621 "),a()(),D(58,Rre,17,1,"div",13),a()),t&2&&(f(8),Se(" ",i.shiftData.shift,""),f(5),Se(" ",i.shiftData.status,""),f(6),Se(" ",yn(20,14,i.shiftData.created_at,"yyyy-MM-dd HH:mm"),""),f(6),Se(" ",i.shiftData.date,""),f(8),Se(" ",i.shiftData.total_shift_money,""),f(4),Se(" ",i.shiftData.total_money_cash,""),f(4),Se(" ",i.shiftData.total_money_online,""),f(4),Se(" ",i.shiftData.total_money_client,""),f(),E("ngIf",i.shiftData.shiftMachines&&i.shiftData.shiftMachines.length>0),f(),E("ngIf",i.shiftData.worker),f(),E("ngIf",i.shiftData.supervisor),f(4),Se(" ",yn(53,17,i.shiftData.updated_at,"yyyy-MM-dd HH:mm"),""),f(3),E("ngIf",i.shiftData.status!="approved"),f(3),E("ngIf",i.showInvoice))},dependencies:[wt,Ct,Ne,He,tt,Qg],encapsulation:2})};var ao=class n{constructor(e){this._HttpClient=e}baseURL=ui.apiUrl;getProductReports(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`),r=new Vr({fromObject:e});return console.log("Filters sent to API:",e),this._HttpClient.get(this.baseURL+"/reports/product-reports",{headers:i,params:r})}getShiftReports(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`),r=new Vr({fromObject:e});return console.log("Filters sent to API:",e),this._HttpClient.get(this.baseURL+"/reports/shifts-reports",{headers:i,params:r})}getPurchaseInvoicesReports(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`),r=new Vr({fromObject:e});return console.log("Filters sent to API:",e),this._HttpClient.get(this.baseURL+"/reports/purchase-invoice-reports",{headers:i,params:r})}getExpencesInvoicesReports(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`),r=new Vr({fromObject:e});return console.log("Filters sent to API:",e),this._HttpClient.get(this.baseURL+"/reports/expense-invoice-reports",{headers:i,params:r})}getSalesInvoicesReports(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`),r=new Vr({fromObject:e});return console.log("Filters sent to API:",e),this._HttpClient.get(this.baseURL+"/reports/sales-invoice-reports",{headers:i,params:r})}getPaymentDocumentReports(e){let t=localStorage.getItem("Gtoken"),i=new Le().set("Authorization",`Bearer ${t}`),r=new Vr({fromObject:e});return console.log("Filters sent to API:",e),this._HttpClient.get(this.baseURL+"/reports/payment-document-reports",{headers:i,params:r})}static \u0275fac=function(t){return new(t||n)(Ge(ni))};static \u0275prov=$e({token:n,factory:n.\u0275fac,providedIn:"root"})};function Lre(n,e){if(n&1&&(u(0,"option",21),c(1),a()),n&2){let t=e.$implicit;E("value",t.value),f(),C(t.label)}}function kre(n,e){if(n&1&&(u(0,"option",21),c(1),a()),n&2){let t=e.$implicit;E("value",t.product.id),f(),C(t==null||t.product==null?null:t.product.name)}}function jre(n,e){if(n&1&&(u(0,"tr")(1,"th",34),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td"),c(10),a()()),n&2){let t=e.$implicit,i=e.index,r=q(2);f(2),C(i+1),f(2),C(t==null?null:t.date),f(2),C(r.productType(t==null?null:t.type)),f(2),C(t==null?null:t.liters),f(2),C(t==null?null:t.total_price)}}function Bre(n,e){if(n&1&&(u(0,"div",22)(1,"div",23)(2,"div",23)(3,"div",24)(4,"h5",25),c(5),a(),u(6,"div",26)(7,"div",27)(8,"p",28)(9,"strong"),c(10,"\u0639\u062F\u062F \u0627\u0644\u062D\u0631\u0643\u0627\u062A:"),a(),c(11),a()(),u(12,"div",27)(13,"p",28)(14,"strong"),c(15,"\u0625\u062C\u0645\u0627\u0644\u064A \u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A \u0627\u0644\u062F\u0627\u062E\u0644\u0629 \u0627\u0644\u0649 \u0627\u0644\u0645\u062E\u0632\u0646:"),a(),c(16),a(),u(17,"p",28)(18,"strong"),c(19,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A \u0627\u0644\u062E\u0627\u0631\u062C\u0629 \u0645\u0646 \u0627\u0644\u0645\u062E\u0632\u0646 :"),a(),c(20),a()()()()(),u(21,"div",29)(22,"table",30)(23,"thead",31)(24,"tr")(25,"th",32),c(26,"#"),a(),u(27,"th",32),c(28,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),u(29,"th",32),c(30,"\u0646\u0648\u0639 \u0627\u0644\u062D\u0631\u0643\u0629"),a(),u(31,"th",32),c(32,"\u0627\u0644\u0644\u062A\u0631\u0627\u062A"),a(),u(33,"th",32),c(34,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0633\u0639\u0631"),a()()(),u(35,"tbody"),D(36,jre,11,5,"tr",33),a()()()()()),n&2){let t=e.$implicit;f(5),C(t==null||t.product==null?null:t.product.name),f(6),Se(" ",t==null?null:t.totalCount," "),f(5),Se(" ",t==null?null:t.totalAmountLitersToUs," "),f(4),Se(" ",t==null?null:t.totalAmountLitersFromUs," "),f(16),E("ngForOf",t.moves)}}var cv=class n{constructor(e,t){this._ReportsService=e;this._ProductService=t}moves=[];products=[];filteredProducts=[];searchQuery="";startDate=null;endDate=null;selectedMonth=null;selectedProduct;months=[{value:"01",label:"\u064A\u0646\u0627\u064A\u0631"},{value:"02",label:"\u0641\u0628\u0631\u0627\u064A\u0631"},{value:"03",label:"\u0645\u0627\u0631\u0633"},{value:"04",label:"\u0623\u0628\u0631\u064A\u0644"},{value:"05",label:"\u0645\u0627\u064A\u0648"},{value:"06",label:"\u064A\u0648\u0646\u064A\u0648"},{value:"07",label:"\u064A\u0648\u0644\u064A\u0648"},{value:"08",label:"\u0623\u063A\u0633\u0637\u0633"},{value:"09",label:"\u0633\u0628\u062A\u0645\u0628\u0631"},{value:"10",label:"\u0623\u0643\u062A\u0648\u0628\u0631"},{value:"11",label:"\u0646\u0648\u0641\u0645\u0628\u0631"},{value:"12",label:"\u062F\u064A\u0633\u0645\u0628\u0631"}];ngOnInit(){this.loadReports()}productType(e){return e=="from_us"?"\u0645\u0646 \u0627\u0644\u0645\u062E\u0632\u0646":"\u0627\u0644\u0649 \u0627\u0644\u0645\u062E\u0632\u0646"}searchDate(){if(this.startDate&&this.endDate){if(new Date(this.startDate)>new Date(this.endDate)){console.error("Start date must be before the end date.");return}let e={startDate:this.startDate,endDate:this.endDate};this.loadReports(e)}else console.warn("Both start date and end date must be selected.")}filterByMonth(){if(this.selectedMonth){let e=new Date().getFullYear(),t=`${e}-${this.selectedMonth}-01`,i=new Date(e,parseInt(this.selectedMonth,10),0).getDate(),r=`${e}-${this.selectedMonth}-${i}`,o={startDate:t,endDate:r};console.log("Month filters:",o),this.loadReports(o)}else console.warn("Month must be selected.")}filterDisplayedProducts(){this.selectedProduct?this.filteredProducts=this.products.filter(e=>e.product.id===+this.selectedProduct):this.filteredProducts=[...this.products]}filterToday(){let e={today:!0};console.log("Today filter applied:",e),this.loadReports(e)}filterThisYear(){let e={thisYear:!0};console.log("This Year filter applied:",e),this.loadReports(e)}loadReports(e={}){console.log("Filters applied in loadReports:",e),this._ReportsService.getProductReports(e).subscribe({next:t=>{t&&(console.log("Product reports data:",t),this.products=t,this.filteredProducts=[...this.products])},error:t=>{console.error("Error fetching reports:",t)}})}static \u0275fac=function(t){return new(t||n)(O(ao),O(Ln))};static \u0275cmp=Ae({type:n,selectors:[["app-product-reports"]],decls:43,vars:7,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],["routerLink","/dashboard/addProduct",1,"nav-link"],[1,"fa-solid","fa-plus","text-white","iconPlus","rounded"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"d-flex","align-items-center"],["for","startDate",1,"me-2"],["type","date","id","startDate",1,"form-control","me-3",3,"ngModelChange","ngModel"],["for","endDate",1,"me-2"],["type","date","id","endDate",1,"form-control","me-3",3,"ngModelChange","ngModel"],[1,"btn","btn-warning",3,"click"],["for","selectedMonth",1,"me-2"],[1,"form-select","me-3",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-success","ms-5",3,"click"],[1,"btn","btn-success",3,"click"],["class","mb-5",4,"ngFor","ngForOf"],[3,"value"],[1,"mb-5"],[1,"card","shadow-sm","border-0","rounded"],[1,"card-body"],[1,"card-title","text-primary","mb-3"],[1,"row"],[1,"col-md-6"],[1,"mb-2"],[1,"table-responsive","mt-4"],[1,"table","table-striped","border","rounded","shadow-sm"],[1,"table-light"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631"),a(),u(4,"span",1),c(5,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(6,"i",2),c(7," \u0627\u0644\u0645\u0646\u062A\u062C\u0627\u062A"),a()(),u(8,"a",3),M(9,"i",4),a()(),u(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),c(15,"\u0645\u0646:"),a(),u(16,"input",10),Tt("ngModelChange",function(o){return Pt(i.startDate,o)||(i.startDate=o),o}),a(),u(17,"label",11),c(18,"\u0625\u0644\u0649:"),a(),u(19,"input",12),Tt("ngModelChange",function(o){return Pt(i.endDate,o)||(i.endDate=o),o}),a(),u(20,"button",13),Z("click",function(){return i.searchDate()}),c(21,"\u0628\u062D\u062B"),a()()(),u(22,"div",7)(23,"label",14),c(24,"\u0627\u0644\u0634\u0647\u0631:"),a(),u(25,"select",15),Tt("ngModelChange",function(o){return Pt(i.selectedMonth,o)||(i.selectedMonth=o),o}),Z("change",function(){return i.filterByMonth()}),u(26,"option",16),c(27,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0634\u0647\u0631"),a(),D(28,Lre,2,2,"option",17),a()(),u(29,"div",7)(30,"label",14),c(31,"\u0627\u0644\u0645\u0646\u062A\u062C:"),a(),u(32,"select",15),Tt("ngModelChange",function(o){return Pt(i.selectedProduct,o)||(i.selectedProduct=o),o}),Z("change",function(){return i.filterDisplayedProducts()}),u(33,"option",16),c(34,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),D(35,kre,2,2,"option",17),a()(),u(36,"div",7)(37,"div",8)(38,"button",18),Z("click",function(){return i.filterThisYear()}),c(39,"\u0647\u0630\u0647 \u0627\u0644\u0633\u0646\u0647"),a(),u(40,"button",19),Z("click",function(){return i.filterToday()}),c(41,"\u0627\u0644\u064A\u0648\u0645"),a()()()(),D(42,Bre,37,5,"div",20),a()),t&2&&(f(16),It("ngModel",i.startDate),f(3),It("ngModel",i.endDate),f(6),It("ngModel",i.selectedMonth),f(3),E("ngForOf",i.months),f(4),It("ngModel",i.selectedProduct),f(3),E("ngForOf",i.products),f(7),E("ngForOf",i.filteredProducts))},dependencies:[Ne,He,wt,Ct,Xt,Vt,Ut,Ze,Lt,et,xn],encapsulation:2})};function Vre(n,e){if(n&1&&(u(0,"option",30),c(1),a()),n&2){let t=e.$implicit;E("value",t.value),f(),C(t.label)}}function Ure(n,e){if(n&1&&(u(0,"tr")(1,"th",31),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td"),c(10),a(),u(11,"td"),c(12),a(),u(13,"td"),c(14),a(),u(15,"td"),c(16),a()()),n&2){let t=e.$implicit,i=e.index;f(2),C(i+1),f(2),C(t==null?null:t.date),f(2),C(t==null||t.supervisor==null?null:t.supervisor.name),f(2),C(t==null||t.worker==null?null:t.worker.name),f(2),C(t==null?null:t.total_money_cash),f(2),C(t==null?null:t.total_money_client),f(2),C(t==null?null:t.total_money_online),f(2),C(t==null?null:t.total_shift_money)}}var dv=class n{constructor(e,t){this._ReportsService=e;this._ProductService=t}moves=[];products=[];filteredProducts=[];searchQuery="";startDate=null;endDate=null;selectedMonth=null;selectedProduct;months=[{value:"01",label:"\u064A\u0646\u0627\u064A\u0631"},{value:"02",label:"\u0641\u0628\u0631\u0627\u064A\u0631"},{value:"03",label:"\u0645\u0627\u0631\u0633"},{value:"04",label:"\u0623\u0628\u0631\u064A\u0644"},{value:"05",label:"\u0645\u0627\u064A\u0648"},{value:"06",label:"\u064A\u0648\u0646\u064A\u0648"},{value:"07",label:"\u064A\u0648\u0644\u064A\u0648"},{value:"08",label:"\u0623\u063A\u0633\u0637\u0633"},{value:"09",label:"\u0633\u0628\u062A\u0645\u0628\u0631"},{value:"10",label:"\u0623\u0643\u062A\u0648\u0628\u0631"},{value:"11",label:"\u0646\u0648\u0641\u0645\u0628\u0631"},{value:"12",label:"\u062F\u064A\u0633\u0645\u0628\u0631"}];shift;ngOnInit(){this.loadReports()}searchDate(){if(this.startDate&&this.endDate){if(new Date(this.startDate)>new Date(this.endDate)){console.error("Start date must be before the end date.");return}let e={startDate:this.startDate,endDate:this.endDate};this.loadReports(e)}else console.warn("Both start date and end date must be selected.")}filterByMonth(){if(this.selectedMonth){let e=new Date().getFullYear(),t=`${e}-${this.selectedMonth}-01`,i=new Date(e,parseInt(this.selectedMonth,10),0).getDate(),r=`${e}-${this.selectedMonth}-${i}`,o={startDate:t,endDate:r};console.log("Month filters:",o),this.loadReports(o)}else console.warn("Month must be selected.")}filterToday(){let e={today:!0};console.log("Today filter applied:",e),this.loadReports(e)}filterThisYear(){let e={thisYear:!0};console.log("This Year filter applied:",e),this.loadReports(e)}loadReports(e={}){console.log("Filters applied in loadReports:",e),this._ReportsService.getShiftReports(e).subscribe({next:t=>{t&&(console.log("Product reports data:",t),this.shift=t,this.products=t.shifts)},error:t=>{console.error("Error fetching reports:",t)}})}static \u0275fac=function(t){return new(t||n)(O(ao),O(Ln))};static \u0275cmp=Ae({type:n,selectors:[["app-shift-report"]],decls:83,vars:10,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],["routerLink","/dashboard/addProduct",1,"nav-link"],[1,"fa-solid","fa-plus","text-white","iconPlus","rounded"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"d-flex","align-items-center"],["for","startDate",1,"me-2"],["type","date","id","startDate",1,"form-control","me-3",3,"ngModelChange","ngModel"],["for","endDate",1,"me-2"],["type","date","id","endDate",1,"form-control","me-3",3,"ngModelChange","ngModel"],[1,"btn","btn-warning",3,"click"],["for","selectedMonth",1,"me-2"],[1,"form-select","me-3",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-success","ms-5",3,"click"],[1,"btn","btn-success",3,"click"],[1,"card","shadow-sm","border-0","rounded"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"mb-2"],[1,"table-responsive","mt-4"],[1,"table","table-striped","border","rounded","shadow-sm"],[1,"table-light"],["scope","col"],[4,"ngFor","ngForOf"],[3,"value"],["scope","row"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u062A\u062C\u0627\u062A"),a(),u(4,"span",1),c(5,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(6,"i",2),c(7," \u0627\u0644\u0645\u0646\u062A\u062C\u0627\u062A"),a()(),u(8,"a",3),M(9,"i",4),a()(),u(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),c(15,"\u0645\u0646:"),a(),u(16,"input",10),Tt("ngModelChange",function(o){return Pt(i.startDate,o)||(i.startDate=o),o}),a(),u(17,"label",11),c(18,"\u0625\u0644\u0649:"),a(),u(19,"input",12),Tt("ngModelChange",function(o){return Pt(i.endDate,o)||(i.endDate=o),o}),a(),u(20,"button",13),Z("click",function(){return i.searchDate()}),c(21,"\u0628\u062D\u062B"),a()()(),u(22,"div",7)(23,"label",14),c(24,"\u0627\u0644\u0634\u0647\u0631:"),a(),u(25,"select",15),Tt("ngModelChange",function(o){return Pt(i.selectedMonth,o)||(i.selectedMonth=o),o}),Z("change",function(){return i.filterByMonth()}),u(26,"option",16),c(27,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0634\u0647\u0631"),a(),D(28,Vre,2,2,"option",17),a()(),u(29,"div",7)(30,"div",8)(31,"button",18),Z("click",function(){return i.filterThisYear()}),c(32,"\u0647\u0630\u0647 \u0627\u0644\u0633\u0646\u0647"),a(),u(33,"button",19),Z("click",function(){return i.filterToday()}),c(34,"\u0627\u0644\u064A\u0648\u0645"),a()()()(),u(35,"div",20)(36,"div",20)(37,"div",21)(38,"div",22)(39,"div",23)(40,"p",24)(41,"strong"),c(42,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0645\u0628\u0644\u063A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A:"),a(),c(43),a(),u(44,"p",24)(45,"strong"),c(46," \u0627\u062C\u0645\u0627\u0644\u0649 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A \u0643\u0627\u0634:"),a(),c(47),a(),u(48,"p",24)(49,"strong"),c(50," \u0627\u062C\u0645\u0627\u0644\u0649 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A \u0634\u0628\u0643\u0629:"),a(),c(51),a()(),u(52,"div",23)(53,"p",24)(54,"strong"),c(55,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A \u0622\u062C\u0644 :"),a(),c(56),a(),u(57,"p",24)(58,"strong"),c(59,"\u0639\u062F\u062F \u0627\u0644\u0648\u0631\u062F\u064A\u0627\u062A :"),a(),c(60),a()()()()(),u(61,"div",25)(62,"table",26)(63,"thead",27)(64,"tr")(65,"th",28),c(66,"#"),a(),u(67,"th",28),c(68,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),u(69,"th",28),c(70,"\u0645\u0634\u0631\u0641 \u0627\u0644\u0648\u0631\u062F\u064A\u0629"),a(),u(71,"th",28),c(72,"\u0639\u0627\u0645\u0644 \u0627\u0644\u0648\u0631\u062F\u064A\u0629"),a(),u(73,"th",28),c(74,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0643\u0627\u0634"),a(),u(75,"th",28),c(76,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0622\u062C\u0644 \u0627\u0644\u0639\u0645\u0644\u0627\u0621"),a(),u(77,"th",28),c(78,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0634\u0628\u0643\u0629"),a(),u(79,"th",28),c(80,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0645\u0628\u0644\u063A \u0627\u0644\u0648\u0631\u062F\u064A\u0629"),a()()(),u(81,"tbody"),D(82,Ure,17,8,"tr",29),a()()()()()),t&2&&(f(16),It("ngModel",i.startDate),f(3),It("ngModel",i.endDate),f(6),It("ngModel",i.selectedMonth),f(3),E("ngForOf",i.months),f(15),Se(" ",i.shift==null?null:i.shift.totalAmount," "),f(4),Se(" ",i.shift==null?null:i.shift.totalAmountCash," "),f(4),Se(" ",i.shift==null?null:i.shift.totalAmountOnline," "),f(5),Se(" ",i.shift==null?null:i.shift.totalAmountClient," "),f(4),Se(" ",i.shift==null?null:i.shift.totalCount," "),f(22),E("ngForOf",i.products))},dependencies:[Xt,Vt,Ut,Ze,Lt,et,xn,Ne,He],encapsulation:2})};function qre(n,e){if(n&1&&(u(0,"option",21),c(1),a()),n&2){let t=e.$implicit;E("value",t.value),f(),C(t.label)}}function $re(n,e){if(n&1&&(u(0,"option",21),c(1),a()),n&2){let t=e.$implicit;E("value",t==null||t.account==null?null:t.account.id),f(),C(t==null||t.account==null?null:t.account.account_name)}}function Hre(n,e){if(n&1&&(u(0,"tr")(1,"th",34),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td"),c(10),a(),u(11,"td"),c(12),a()()),n&2){let t=e.$implicit,i=e.index,r=q(2);f(2),C(i+1),f(2),C(t==null?null:t.date),f(2),C(r.paymentType(t==null?null:t.payment_type)),f(2),C(t==null||t.account==null?null:t.account.account_name),f(2),C(t==null?null:t.tax_amount),f(2),C(t==null?null:t.total_cash)}}function zre(n,e){if(n&1&&(u(0,"div",22)(1,"div",23)(2,"div",23)(3,"div",24)(4,"h5",25),c(5),a(),u(6,"div",26)(7,"div",27)(8,"p",28)(9,"strong"),c(10,"\u0631\u0635\u064A\u062F \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u062D\u0627\u0644\u0649:"),a(),c(11),a(),u(12,"p",28)(13,"strong"),c(14," \u0627\u062C\u0645\u0627\u0644\u0649 \u0645\u0628\u0644\u063A \u0627\u0644\u062D\u0631\u0643\u0627\u062A:"),a(),c(15),a()(),u(16,"div",27)(17,"p",28)(18,"strong"),c(19,"\u0639\u062F\u062F \u0627\u0644\u062D\u0631\u0643\u0627\u062A :"),a(),c(20),a()()()()(),u(21,"div",29)(22,"table",30)(23,"thead",31)(24,"tr")(25,"th",32),c(26,"#"),a(),u(27,"th",32),c(28,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),u(29,"th",32),c(30,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639"),a(),u(31,"th",32),c(32,"\u062A\u0645 \u0627\u0644\u062F\u0641\u0639 \u0645\u0646 \u062D\u0633\u0627\u0628"),a(),u(33,"th",32),c(34," \u0642\u064A\u0645\u0629 \u0627\u0644\u0636\u0631\u064A\u0628\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0647"),a(),u(35,"th",32),c(36," \u0645\u0628\u0644\u063A \u0627\u0644\u062D\u0631\u0643\u0629"),a()()(),u(37,"tbody"),D(38,Hre,13,6,"tr",33),a()()()()()),n&2){let t=e.$implicit;f(5),C(t==null||t.account==null?null:t.account.account_name),f(6),Se(" ",t==null||t.account==null?null:t.account.current_balance," "),f(4),Se(" ",t==null?null:t.totalAmount," "),f(5),Se(" ",t==null?null:t.totalCount," "),f(18),E("ngForOf",t.expense_invoices)}}var pv=class n{constructor(e){this._ReportsService=e}moves=[];products=[];filteredProducts=[];searchQuery="";startDate=null;endDate=null;selectedMonth=null;selectedProduct;months=[{value:"01",label:"\u064A\u0646\u0627\u064A\u0631"},{value:"02",label:"\u0641\u0628\u0631\u0627\u064A\u0631"},{value:"03",label:"\u0645\u0627\u0631\u0633"},{value:"04",label:"\u0623\u0628\u0631\u064A\u0644"},{value:"05",label:"\u0645\u0627\u064A\u0648"},{value:"06",label:"\u064A\u0648\u0646\u064A\u0648"},{value:"07",label:"\u064A\u0648\u0644\u064A\u0648"},{value:"08",label:"\u0623\u063A\u0633\u0637\u0633"},{value:"09",label:"\u0633\u0628\u062A\u0645\u0628\u0631"},{value:"10",label:"\u0623\u0643\u062A\u0648\u0628\u0631"},{value:"11",label:"\u0646\u0648\u0641\u0645\u0628\u0631"},{value:"12",label:"\u062F\u064A\u0633\u0645\u0628\u0631"}];paymentType(e){return e=="cash"?"\u0643\u0627\u0634":"\u0634\u0628\u0643\u0629"}ngOnInit(){this.loadReports()}searchDate(){if(this.startDate&&this.endDate){if(new Date(this.startDate)>new Date(this.endDate)){console.error("Start date must be before the end date.");return}let e={startDate:this.startDate,endDate:this.endDate};this.loadReports(e)}else console.warn("Both start date and end date must be selected.")}filterByMonth(){if(this.selectedMonth){let e=new Date().getFullYear(),t=`${e}-${this.selectedMonth}-01`,i=new Date(e,parseInt(this.selectedMonth,10),0).getDate(),r=`${e}-${this.selectedMonth}-${i}`,o={startDate:t,endDate:r};console.log("Month filters:",o),this.loadReports(o)}else console.warn("Month must be selected.")}filterDisplayedProducts(){this.selectedProduct?this.filteredProducts=this.products.filter(e=>e.account.id===+this.selectedProduct):this.filteredProducts=[...this.products]}filterToday(){let e={today:!0};console.log("Today filter applied:",e),this.loadReports(e)}filterThisYear(){let e={thisYear:!0};console.log("This Year filter applied:",e),this.loadReports(e)}loadReports(e={}){console.log("Filters applied in loadReports:",e),this._ReportsService.getExpencesInvoicesReports(e).subscribe({next:t=>{t&&(console.log("Product reports data:",t[0]),this.products=t[0],this.filteredProducts=[...this.products])},error:t=>{console.error("Error fetching reports:",t)}})}static \u0275fac=function(t){return new(t||n)(O(ao))};static \u0275cmp=Ae({type:n,selectors:[["app-expenses-report"]],decls:43,vars:7,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],["routerLink","/dashboard/addProduct",1,"nav-link"],[1,"fa-solid","fa-plus","text-white","iconPlus","rounded"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"d-flex","align-items-center"],["for","startDate",1,"me-2"],["type","date","id","startDate",1,"form-control","me-3",3,"ngModelChange","ngModel"],["for","endDate",1,"me-2"],["type","date","id","endDate",1,"form-control","me-3",3,"ngModelChange","ngModel"],[1,"btn","btn-warning",3,"click"],["for","selectedMonth",1,"me-2"],[1,"form-select","me-3",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-success","ms-5",3,"click"],[1,"btn","btn-success",3,"click"],["class","mb-5",4,"ngFor","ngForOf"],[3,"value"],[1,"mb-5"],[1,"card","shadow-sm","border-0","rounded"],[1,"card-body"],[1,"card-title","text-primary","mb-3"],[1,"row"],[1,"col-md-6"],[1,"mb-2"],[1,"table-responsive","mt-4"],[1,"table","table-striped","border","rounded","shadow-sm"],[1,"table-light"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631"),a(),u(4,"span",1),c(5,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(6,"i",2),c(7," \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A"),a()(),u(8,"a",3),M(9,"i",4),a()(),u(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),c(15,"\u0645\u0646:"),a(),u(16,"input",10),Tt("ngModelChange",function(o){return Pt(i.startDate,o)||(i.startDate=o),o}),a(),u(17,"label",11),c(18,"\u0625\u0644\u0649:"),a(),u(19,"input",12),Tt("ngModelChange",function(o){return Pt(i.endDate,o)||(i.endDate=o),o}),a(),u(20,"button",13),Z("click",function(){return i.searchDate()}),c(21,"\u0628\u062D\u062B"),a()()(),u(22,"div",7)(23,"label",14),c(24,"\u0627\u0644\u0634\u0647\u0631:"),a(),u(25,"select",15),Tt("ngModelChange",function(o){return Pt(i.selectedMonth,o)||(i.selectedMonth=o),o}),Z("change",function(){return i.filterByMonth()}),u(26,"option",16),c(27,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0634\u0647\u0631"),a(),D(28,qre,2,2,"option",17),a()(),u(29,"div",7)(30,"label",14),c(31,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0645\u0635\u0631\u0648\u0641:"),a(),u(32,"select",15),Tt("ngModelChange",function(o){return Pt(i.selectedProduct,o)||(i.selectedProduct=o),o}),Z("change",function(){return i.filterDisplayedProducts()}),u(33,"option",16),c(34,"\u0627\u062E\u062A\u0631 \u062D\u0633\u0627\u0628 \u0627\u0644\u0645\u0635\u0631\u0648\u0641"),a(),D(35,$re,2,2,"option",17),a()(),u(36,"div",7)(37,"div",8)(38,"button",18),Z("click",function(){return i.filterThisYear()}),c(39,"\u0647\u0630\u0647 \u0627\u0644\u0633\u0646\u0647"),a(),u(40,"button",19),Z("click",function(){return i.filterToday()}),c(41,"\u0627\u0644\u064A\u0648\u0645"),a()()()(),D(42,zre,39,5,"div",20),a()),t&2&&(f(16),It("ngModel",i.startDate),f(3),It("ngModel",i.endDate),f(6),It("ngModel",i.selectedMonth),f(3),E("ngForOf",i.months),f(4),It("ngModel",i.selectedProduct),f(3),E("ngForOf",i.products),f(7),E("ngForOf",i.filteredProducts))},dependencies:[Ne,He,Xt,Vt,Ut,Ze,Lt,et,xn],encapsulation:2})};function Gre(n,e){if(n&1&&(u(0,"option",21),c(1),a()),n&2){let t=e.$implicit;E("value",t.value),f(),C(t.label)}}function Wre(n,e){if(n&1&&(u(0,"option",21),c(1),a()),n&2){let t=e.$implicit;E("value",t==null||t.account==null?null:t.account.id),f(),C(t==null||t.account==null?null:t.account.account_name)}}function Yre(n,e){if(n&1&&(u(0,"tr")(1,"th",34),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td"),c(10),a(),u(11,"td"),c(12),a()()),n&2){let t=e.$implicit,i=e.index;f(2),C(i+1),f(2),C(t==null?null:t.date),f(2),C(t==null?null:t.liters),f(2),C(t==null||t.account==null?null:t.account.account_name),f(2),C(t==null?null:t.amount),f(2),C(t==null?null:t.tax_amount)}}function Kre(n,e){if(n&1&&(u(0,"div",22)(1,"div",23)(2,"div",23)(3,"div",24)(4,"h5",25),c(5),a(),u(6,"div",26)(7,"div",27)(8,"p",28)(9,"strong"),c(10,"\u0631\u0635\u064A\u062F \u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u062D\u0627\u0644\u0649:"),a(),c(11),a(),u(12,"p",28)(13,"strong"),c(14," \u0627\u062C\u0645\u0627\u0644\u0649 \u0645\u0628\u0627\u0644\u063A \u0627\u0644\u062D\u0631\u0643\u0627\u062A:"),a(),c(15),a()(),u(16,"div",27)(17,"p",28)(18,"strong"),c(19,"\u0639\u062F\u062F \u0627\u0644\u062D\u0631\u0643\u0627\u062A :"),a(),c(20),a()()()()(),u(21,"div",29)(22,"table",30)(23,"thead",31)(24,"tr")(25,"th",32),c(26,"#"),a(),u(27,"th",32),c(28,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),u(29,"th",32),c(30,"\u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A"),a(),u(31,"th",32),c(32,"\u0627\u0633\u0645 \u0627\u0644\u062D\u0633\u0627\u0628"),a(),u(33,"th",32),c(34," \u0627\u0644\u0645\u0628\u0644\u063A"),a(),u(35,"th",32),c(36," \u0642\u064A\u0645\u0629 \u0627\u0644\u0636\u0631\u064A\u0628\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629"),a()()(),u(37,"tbody"),D(38,Yre,13,6,"tr",33),a()()()()()),n&2){let t=e.$implicit;f(5),C(t==null||t.account==null?null:t.account.account_name),f(6),Se(" ",t==null||t.account==null?null:t.account.current_balance," "),f(4),Se(" ",t==null?null:t.totalAmount," "),f(5),Se(" ",t==null?null:t.totalCount," "),f(18),E("ngForOf",t.expense_invoices)}}var fv=class n{constructor(e){this._ReportsService=e}moves=[];products=[];filteredProducts=[];searchQuery="";startDate=null;endDate=null;selectedMonth=null;selectedProduct;months=[{value:"01",label:"\u064A\u0646\u0627\u064A\u0631"},{value:"02",label:"\u0641\u0628\u0631\u0627\u064A\u0631"},{value:"03",label:"\u0645\u0627\u0631\u0633"},{value:"04",label:"\u0623\u0628\u0631\u064A\u0644"},{value:"05",label:"\u0645\u0627\u064A\u0648"},{value:"06",label:"\u064A\u0648\u0646\u064A\u0648"},{value:"07",label:"\u064A\u0648\u0644\u064A\u0648"},{value:"08",label:"\u0623\u063A\u0633\u0637\u0633"},{value:"09",label:"\u0633\u0628\u062A\u0645\u0628\u0631"},{value:"10",label:"\u0623\u0643\u062A\u0648\u0628\u0631"},{value:"11",label:"\u0646\u0648\u0641\u0645\u0628\u0631"},{value:"12",label:"\u062F\u064A\u0633\u0645\u0628\u0631"}];ngOnInit(){this.loadReports()}searchDate(){if(this.startDate&&this.endDate){if(new Date(this.startDate)>new Date(this.endDate)){console.error("Start date must be before the end date.");return}let e={startDate:this.startDate,endDate:this.endDate};this.loadReports(e)}else console.warn("Both start date and end date must be selected.")}filterByMonth(){if(this.selectedMonth){let e=new Date().getFullYear(),t=`${e}-${this.selectedMonth}-01`,i=new Date(e,parseInt(this.selectedMonth,10),0).getDate(),r=`${e}-${this.selectedMonth}-${i}`,o={startDate:t,endDate:r};console.log("Month filters:",o),this.loadReports(o)}else console.warn("Month must be selected.")}filterDisplayedProducts(){this.selectedProduct?this.filteredProducts=this.products.filter(e=>e.account.id===+this.selectedProduct):this.filteredProducts=[...this.products]}filterToday(){let e={today:!0};console.log("Today filter applied:",e),this.loadReports(e)}filterThisYear(){let e={thisYear:!0};console.log("This Year filter applied:",e),this.loadReports(e)}loadReports(e={}){console.log("Filters applied in loadReports:",e),this._ReportsService.getSalesInvoicesReports(e).subscribe({next:t=>{t&&(console.log("Product reports data:",t[0]),this.products=t[0],this.filteredProducts=[...this.products])},error:t=>{console.error("Error fetching reports:",t)}})}static \u0275fac=function(t){return new(t||n)(O(ao))};static \u0275cmp=Ae({type:n,selectors:[["app-sales-report"]],decls:43,vars:7,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],["routerLink","/dashboard/addProduct",1,"nav-link"],[1,"fa-solid","fa-plus","text-white","iconPlus","rounded"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"d-flex","align-items-center"],["for","startDate",1,"me-2"],["type","date","id","startDate",1,"form-control","me-3",3,"ngModelChange","ngModel"],["for","endDate",1,"me-2"],["type","date","id","endDate",1,"form-control","me-3",3,"ngModelChange","ngModel"],[1,"btn","btn-warning",3,"click"],["for","selectedMonth",1,"me-2"],[1,"form-select","me-3",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-success","ms-5",3,"click"],[1,"btn","btn-success",3,"click"],["class","mb-5",4,"ngFor","ngForOf"],[3,"value"],[1,"mb-5"],[1,"card","shadow-sm","border-0","rounded"],[1,"card-body"],[1,"card-title","text-primary","mb-3"],[1,"row"],[1,"col-md-6"],[1,"mb-2"],[1,"table-responsive","mt-4"],[1,"table","table-striped","border","rounded","shadow-sm"],[1,"table-light"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631"),a(),u(4,"span",1),c(5,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(6,"i",2),c(7," \u0645\u0628\u064A\u0639\u0627\u062A \u0627\u0644\u0639\u0645\u0644\u0627\u0621"),a()(),u(8,"a",3),M(9,"i",4),a()(),u(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),c(15,"\u0645\u0646:"),a(),u(16,"input",10),Tt("ngModelChange",function(o){return Pt(i.startDate,o)||(i.startDate=o),o}),a(),u(17,"label",11),c(18,"\u0625\u0644\u0649:"),a(),u(19,"input",12),Tt("ngModelChange",function(o){return Pt(i.endDate,o)||(i.endDate=o),o}),a(),u(20,"button",13),Z("click",function(){return i.searchDate()}),c(21,"\u0628\u062D\u062B"),a()()(),u(22,"div",7)(23,"label",14),c(24,"\u0627\u0644\u0634\u0647\u0631:"),a(),u(25,"select",15),Tt("ngModelChange",function(o){return Pt(i.selectedMonth,o)||(i.selectedMonth=o),o}),Z("change",function(){return i.filterByMonth()}),u(26,"option",16),c(27,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0634\u0647\u0631"),a(),D(28,Gre,2,2,"option",17),a()(),u(29,"div",7)(30,"label",14),c(31,"\u062D\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064A\u0644:"),a(),u(32,"select",15),Tt("ngModelChange",function(o){return Pt(i.selectedProduct,o)||(i.selectedProduct=o),o}),Z("change",function(){return i.filterDisplayedProducts()}),u(33,"option",16),c(34,"\u0627\u062E\u062A\u0631 \u062D\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u064A\u0644"),a(),D(35,Wre,2,2,"option",17),a()(),u(36,"div",7)(37,"div",8)(38,"button",18),Z("click",function(){return i.filterThisYear()}),c(39,"\u0647\u0630\u0647 \u0627\u0644\u0633\u0646\u0647"),a(),u(40,"button",19),Z("click",function(){return i.filterToday()}),c(41,"\u0627\u0644\u064A\u0648\u0645"),a()()()(),D(42,Kre,39,5,"div",20),a()),t&2&&(f(16),It("ngModel",i.startDate),f(3),It("ngModel",i.endDate),f(6),It("ngModel",i.selectedMonth),f(3),E("ngForOf",i.months),f(4),It("ngModel",i.selectedProduct),f(3),E("ngForOf",i.products),f(7),E("ngForOf",i.filteredProducts))},dependencies:[Ne,He,Xt,Vt,Ut,Ze,Lt,et,xn],encapsulation:2})};function Qre(n,e){if(n&1&&(u(0,"option",30),c(1),a()),n&2){let t=e.$implicit;E("value",t.value),f(),C(t.label)}}function Zre(n,e){if(n&1&&(u(0,"tr")(1,"th",31),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td"),c(10),a(),u(11,"td"),c(12),a(),u(13,"td"),c(14),a()()),n&2){let t=e.$implicit,i=e.index,r=q();f(2),C(i+1),f(2),C(t==null?null:t.date),f(2),C(r.getType(t==null?null:t.payment_type)),f(2),C(t==null||t.product==null?null:t.product.name),f(2),C(t==null?null:t.amount_letters),f(2),C(t==null?null:t.tax_amount),f(2),C(t==null?null:t.total_cash)}}var mv=class n{constructor(e){this._ReportsService=e}moves=[];products=[];filteredProducts=[];searchQuery="";startDate=null;endDate=null;selectedMonth=null;selectedProduct;months=[{value:"01",label:"\u064A\u0646\u0627\u064A\u0631"},{value:"02",label:"\u0641\u0628\u0631\u0627\u064A\u0631"},{value:"03",label:"\u0645\u0627\u0631\u0633"},{value:"04",label:"\u0623\u0628\u0631\u064A\u0644"},{value:"05",label:"\u0645\u0627\u064A\u0648"},{value:"06",label:"\u064A\u0648\u0646\u064A\u0648"},{value:"07",label:"\u064A\u0648\u0644\u064A\u0648"},{value:"08",label:"\u0623\u063A\u0633\u0637\u0633"},{value:"09",label:"\u0633\u0628\u062A\u0645\u0628\u0631"},{value:"10",label:"\u0623\u0643\u062A\u0648\u0628\u0631"},{value:"11",label:"\u0646\u0648\u0641\u0645\u0628\u0631"},{value:"12",label:"\u062F\u064A\u0633\u0645\u0628\u0631"}];shift;getType(e){return e=="cash"?"\u0643\u0627\u0634":"\u0634\u0628\u0643\u0629"}ngOnInit(){this.loadReports()}searchDate(){if(this.startDate&&this.endDate){if(new Date(this.startDate)>new Date(this.endDate)){console.error("Start date must be before the end date.");return}let e={startDate:this.startDate,endDate:this.endDate};this.loadReports(e)}else console.warn("Both start date and end date must be selected.")}filterByMonth(){if(this.selectedMonth){let e=new Date().getFullYear(),t=`${e}-${this.selectedMonth}-01`,i=new Date(e,parseInt(this.selectedMonth,10),0).getDate(),r=`${e}-${this.selectedMonth}-${i}`,o={startDate:t,endDate:r};console.log("Month filters:",o),this.loadReports(o)}else console.warn("Month must be selected.")}filterToday(){let e={today:!0};console.log("Today filter applied:",e),this.loadReports(e)}filterThisYear(){let e={thisYear:!0};console.log("This Year filter applied:",e),this.loadReports(e)}loadReports(e={}){console.log("Filters applied in loadReports:",e),this._ReportsService.getPurchaseInvoicesReports(e).subscribe({next:t=>{t&&(console.log("Product reports data:",t),this.shift=t,this.products=t.invoices)},error:t=>{console.error("Error fetching reports:",t)}})}static \u0275fac=function(t){return new(t||n)(O(ao))};static \u0275cmp=Ae({type:n,selectors:[["app-purchase-report"]],decls:73,vars:8,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],["routerLink","/dashboard/addProduct",1,"nav-link"],[1,"fa-solid","fa-plus","text-white","iconPlus","rounded"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"d-flex","align-items-center"],["for","startDate",1,"me-2"],["type","date","id","startDate",1,"form-control","me-3",3,"ngModelChange","ngModel"],["for","endDate",1,"me-2"],["type","date","id","endDate",1,"form-control","me-3",3,"ngModelChange","ngModel"],[1,"btn","btn-warning",3,"click"],["for","selectedMonth",1,"me-2"],[1,"form-select","me-3",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-success","ms-5",3,"click"],[1,"btn","btn-success",3,"click"],[1,"card","shadow-sm","border-0","rounded"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"mb-2"],[1,"table-responsive","mt-4"],[1,"table","table-striped","border","rounded","shadow-sm"],[1,"table-light"],["scope","col"],[4,"ngFor","ngForOf"],[3,"value"],["scope","row"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A"),a(),u(4,"span",1),c(5,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(6,"i",2),c(7," \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A"),a()(),u(8,"a",3),M(9,"i",4),a()(),u(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),c(15,"\u0645\u0646:"),a(),u(16,"input",10),Tt("ngModelChange",function(o){return Pt(i.startDate,o)||(i.startDate=o),o}),a(),u(17,"label",11),c(18,"\u0625\u0644\u0649:"),a(),u(19,"input",12),Tt("ngModelChange",function(o){return Pt(i.endDate,o)||(i.endDate=o),o}),a(),u(20,"button",13),Z("click",function(){return i.searchDate()}),c(21,"\u0628\u062D\u062B"),a()()(),u(22,"div",7)(23,"label",14),c(24,"\u0627\u0644\u0634\u0647\u0631:"),a(),u(25,"select",15),Tt("ngModelChange",function(o){return Pt(i.selectedMonth,o)||(i.selectedMonth=o),o}),Z("change",function(){return i.filterByMonth()}),u(26,"option",16),c(27,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0634\u0647\u0631"),a(),D(28,Qre,2,2,"option",17),a()(),u(29,"div",7)(30,"div",8)(31,"button",18),Z("click",function(){return i.filterThisYear()}),c(32,"\u0647\u0630\u0647 \u0627\u0644\u0633\u0646\u0647"),a(),u(33,"button",19),Z("click",function(){return i.filterToday()}),c(34,"\u0627\u0644\u064A\u0648\u0645"),a()()()(),u(35,"div",20)(36,"div",20)(37,"div",21)(38,"div",22)(39,"div",23)(40,"p",24)(41,"strong"),c(42,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0645\u0628\u0644\u063A \u0627\u0644\u062D\u0631\u0643\u0627\u062A:"),a(),c(43),a(),u(44,"p",24)(45,"strong"),c(46," \u0627\u062C\u0645\u0627\u0644\u0649 \u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A:"),a(),c(47),a()(),u(48,"div",23)(49,"p",24)(50,"strong"),c(51,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0627\u0644\u062D\u0631\u0643\u0627\u062A :"),a(),c(52),a()()()()(),u(53,"div",25)(54,"table",26)(55,"thead",27)(56,"tr")(57,"th",28),c(58,"#"),a(),u(59,"th",28),c(60,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),u(61,"th",28),c(62,"\u0646\u0648\u0639 \u0627\u0644\u062F\u0641\u0639"),a(),u(63,"th",28),c(64,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062A\u062C"),a(),u(65,"th",28),c(66,"\u0639\u062F\u062F \u0627\u0644\u0644\u062A\u0631\u0627\u062A"),a(),u(67,"th",28),c(68,"\u0642\u064A\u0645\u0629 \u0627\u0644\u0636\u0631\u064A\u0628\u0629 "),a(),u(69,"th",28),c(70,"\u0645\u0628\u0644\u063A \u0627\u0644\u062D\u0631\u0643\u0629"),a()()(),u(71,"tbody"),D(72,Zre,15,7,"tr",29),a()()()()()),t&2&&(f(16),It("ngModel",i.startDate),f(3),It("ngModel",i.endDate),f(6),It("ngModel",i.selectedMonth),f(3),E("ngForOf",i.months),f(15),Se(" ",i.shift==null?null:i.shift.totalAmount," "),f(4),Se(" ",i.shift==null?null:i.shift.totalLiters," "),f(5),Se(" ",i.shift==null?null:i.shift.totalCount," "),f(20),E("ngForOf",i.products))},dependencies:[Ne,He,Xt,Vt,Ut,Ze,Lt,et,xn],encapsulation:2})};function Jre(n,e){if(n&1&&(u(0,"option",26),c(1),a()),n&2){let t=e.$implicit;E("value",t.value),f(),C(t.label)}}function Xre(n,e){if(n&1&&(u(0,"tr")(1,"td"),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td"),c(10),a(),u(11,"td"),c(12),a()()),n&2){let t=e.$implicit,i=e.index;f(2),C(i+1),f(2),C(t==null?null:t.created_at),f(2),C(t==null?null:t.type),f(2),C(t==null||t.company_account==null?null:t.company_account.account_name),f(2),C(t==null||t.customer_account==null?null:t.customer_account.account_name),f(2),C(t==null?null:t.amount)}}function eoe(n,e){if(n&1&&(u(0,"div",27)(1,"div",27)(2,"div",28)(3,"h5",29),c(4," \u062D\u0631\u0643\u0627\u062A \u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0628\u0646\u0643"),a(),u(5,"p")(6,"strong"),c(7,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0627\u0644\u0649 \u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0628\u0646\u0643:"),a(),c(8),a(),u(9,"p")(10,"strong"),c(11,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0627\u0644\u0645\u0635\u0631\u0648\u0641 \u0645\u0646 \u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u0628\u0646\u0643:"),a(),c(12),a(),u(13,"p")(14,"strong"),c(15,"\u0639\u062F\u062F \u0627\u0644\u062D\u0631\u0643\u0627\u062A:"),a(),c(16),a()()(),u(17,"table",30)(18,"thead")(19,"tr")(20,"th"),c(21,"#"),a(),u(22,"th"),c(23,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),u(24,"th"),c(25,"\u0646\u0648\u0639 \u0627\u0644\u062D\u0631\u0643\u0629"),a(),u(26,"th"),c(27," \u062D\u0633\u0627\u0628 \u0627\u0644\u0634\u0631\u0643\u0629"),a(),u(28,"th"),c(29,"\u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0645\u0633\u062A\u0644\u0645/\u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0627\u0644\u064A\u0647 "),a(),u(30,"th"),c(31,"\u0642\u064A\u0645\u0629 \u0627\u0644\u062D\u0631\u0643\u0629"),a()()(),u(32,"tbody"),D(33,Xre,13,6,"tr",31),a()()()),n&2){let t=q();f(8),Se(" ",t.bank==null?null:t.bank.totalAmountCredit,""),f(4),Se(" ",t.bank==null?null:t.bank.totalAmountDebit,""),f(4),Se(" ",t.bank==null?null:t.bank.totalCount,""),f(17),E("ngForOf",t.bank==null?null:t.bank.documents)}}function toe(n,e){if(n&1&&(u(0,"tr")(1,"td"),c(2),a(),u(3,"td"),c(4),a(),u(5,"td"),c(6),a(),u(7,"td"),c(8),a(),u(9,"td"),c(10),a(),u(11,"td"),c(12),a()()),n&2){let t=e.$implicit,i=e.index,r=q(2);f(2),C(i+1),f(2),C(t==null?null:t.created_at),f(2),C(r.getType(t==null?null:t.type)),f(2),C(t==null||t.company_account==null?null:t.company_account.account_name),f(2),C(t==null||t.customer_account==null?null:t.customer_account.account_name),f(2),C(t==null?null:t.amount)}}function noe(n,e){if(n&1&&(u(0,"div",27)(1,"div",27)(2,"div",28)(3,"h5",29),c(4,"\u062D\u0631\u0643\u0627\u062A \u062D\u0633\u0627\u0628\u0627\u062A \u0627\u0644\u062E\u0632\u064A\u0646\u0647"),a(),u(5,"p")(6,"strong"),c(7,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0627\u0644\u0649 \u0627\u0644\u062E\u0632\u064A\u0646\u0629 :"),a(),c(8),a(),u(9,"p")(10,"strong"),c(11,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0627\u0644\u0645\u0635\u0631\u0648\u0641 \u0645\u0646 \u0627\u0644\u062E\u0632\u064A\u0646\u0647 :"),a(),c(12),a(),u(13,"p")(14,"strong"),c(15,"\u0627\u062C\u0645\u0627\u0644\u0649 \u0639\u062F\u062F \u0627\u0644\u062D\u0631\u0643\u0627\u062A :"),a(),c(16),a()()(),u(17,"table",30)(18,"thead")(19,"tr")(20,"th"),c(21,"#"),a(),u(22,"th"),c(23,"\u0627\u0644\u062A\u0627\u0631\u064A\u062E"),a(),u(24,"th"),c(25,"\u0646\u0648\u0639 \u0627\u0644\u062D\u0631\u0643\u0629"),a(),u(26,"th"),c(27,"\u062D\u0633\u0627\u0628 \u0627\u0644\u062E\u0632\u064A\u0646\u0647 "),a(),u(28,"th"),c(29,"\u0627\u0644\u062D\u0633\u0627\u0628 \u0627\u0644\u0645\u0633\u062A\u0644\u0645/\u0627\u0644\u0645\u062F\u0641\u0648\u0639 \u0627\u0644\u064A\u0647 "),a(),u(30,"th"),c(31,"\u0642\u064A\u0645\u0629 \u0627\u0644\u062D\u0631\u0643\u0629"),a()()(),u(32,"tbody"),D(33,toe,13,6,"tr",31),a()()()),n&2){let t=q();f(8),Se(" ",t.box==null?null:t.box.totalAmountCredit,""),f(4),Se(" ",t.box==null?null:t.box.totalAmountDebit,""),f(4),Se(" ",t.box==null?null:t.box.totalCount,""),f(17),E("ngForOf",t.box==null?null:t.box.documents)}}var hv=class n{constructor(e){this._ReportsService=e}moves=[];products=[];filteredProducts=[];searchQuery="";startDate=null;endDate=null;selectedMonth=null;selectedProduct;selectedView="both";months=[{value:"01",label:"\u064A\u0646\u0627\u064A\u0631"},{value:"02",label:"\u0641\u0628\u0631\u0627\u064A\u0631"},{value:"03",label:"\u0645\u0627\u0631\u0633"},{value:"04",label:"\u0623\u0628\u0631\u064A\u0644"},{value:"05",label:"\u0645\u0627\u064A\u0648"},{value:"06",label:"\u064A\u0648\u0646\u064A\u0648"},{value:"07",label:"\u064A\u0648\u0644\u064A\u0648"},{value:"08",label:"\u0623\u063A\u0633\u0637\u0633"},{value:"09",label:"\u0633\u0628\u062A\u0645\u0628\u0631"},{value:"10",label:"\u0623\u0643\u062A\u0648\u0628\u0631"},{value:"11",label:"\u0646\u0648\u0641\u0645\u0628\u0631"},{value:"12",label:"\u062F\u064A\u0633\u0645\u0628\u0631"}];shift;box;bank;ngOnInit(){this.loadReports()}getType(e){return e=="payment"?"\u0635\u0631\u0641":"\u0642\u0628\u0636"}searchDate(){if(this.startDate&&this.endDate){if(new Date(this.startDate)>new Date(this.endDate)){console.error("Start date must be before the end date.");return}let e={startDate:this.startDate,endDate:this.endDate};this.loadReports(e)}else console.warn("Both start date and end date must be selected.")}filterByMonth(){if(this.selectedMonth){let e=new Date().getFullYear(),t=`${e}-${this.selectedMonth}-01`,i=new Date(e,parseInt(this.selectedMonth,10),0).getDate(),r=`${e}-${this.selectedMonth}-${i}`,o={startDate:t,endDate:r};console.log("Month filters:",o),this.loadReports(o)}else console.warn("Month must be selected.")}filterToday(){let e={today:!0};console.log("Today filter applied:",e),this.loadReports(e)}filterThisYear(){let e={thisYear:!0};console.log("This Year filter applied:",e),this.loadReports(e)}loadReports(e={}){console.log("Filters applied in loadReports:",e),this._ReportsService.getPaymentDocumentReports(e).subscribe({next:t=>{t&&(console.log("Product reports data:",t),this.box=t.box[0],this.bank=t.bank[0])},error:t=>{console.error("Error fetching reports:",t)}})}static \u0275fac=function(t){return new(t||n)(O(ao))};static \u0275cmp=Ae({type:n,selectors:[["app-document-report"]],decls:47,vars:7,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"fa-solid","fa-angle-right"],["routerLink","/dashboard/addProduct",1,"nav-link"],[1,"fa-solid","fa-plus","text-white","iconPlus","rounded"],[1,"vendortable","rounded","mt-4","shadow-sm","p-4","bg-white"],[1,"container"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"d-flex","align-items-center"],["for","startDate",1,"me-2"],["type","date","id","startDate",1,"form-control","me-3",3,"ngModelChange","ngModel"],["for","endDate",1,"me-2"],["type","date","id","endDate",1,"form-control","me-3",3,"ngModelChange","ngModel"],[1,"btn","btn-warning",3,"click"],["for","selectedMonth",1,"me-2"],[1,"form-select","me-3",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-success","ms-5",3,"click"],[1,"btn","btn-success",3,"click"],["for","viewSelector",1,"me-2"],["id","viewSelector",1,"form-select","me-3",3,"ngModelChange","ngModel"],["value","both"],["value","bank"],["value","box"],["class","card shadow-sm border-0 rounded",4,"ngIf"],[3,"value"],[1,"card","shadow-sm","border-0","rounded"],[1,"card-body"],[1,"card-title","text-primary","mb-3"],[1,"table","table-striped","border","rounded","shadow-sm"],[4,"ngFor","ngForOf"]],template:function(t,i){t&1&&(u(0,"div",0)(1,"div")(2,"h5"),c(3,"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u062A\u0642\u0627\u0631\u064A\u0631"),a(),u(4,"span",1),c(5,"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 "),M(6,"i",2),c(7," \u0627\u0644\u0633\u0646\u062F\u0627\u062A"),a()(),u(8,"a",3),M(9,"i",4),a()(),u(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),c(15,"\u0645\u0646:"),a(),u(16,"input",10),Tt("ngModelChange",function(o){return Pt(i.startDate,o)||(i.startDate=o),o}),a(),u(17,"label",11),c(18,"\u0625\u0644\u0649:"),a(),u(19,"input",12),Tt("ngModelChange",function(o){return Pt(i.endDate,o)||(i.endDate=o),o}),a(),u(20,"button",13),Z("click",function(){return i.searchDate()}),c(21,"\u0628\u062D\u062B"),a()()(),u(22,"div",7)(23,"label",14),c(24,"\u0627\u0644\u0634\u0647\u0631:"),a(),u(25,"select",15),Tt("ngModelChange",function(o){return Pt(i.selectedMonth,o)||(i.selectedMonth=o),o}),Z("change",function(){return i.filterByMonth()}),u(26,"option",16),c(27,"\u0627\u062E\u062A\u0631 \u0627\u0644\u0634\u0647\u0631"),a(),D(28,Jre,2,2,"option",17),a()(),u(29,"div",7)(30,"div",8)(31,"button",18),Z("click",function(){return i.filterThisYear()}),c(32,"\u0647\u0630\u0647 \u0627\u0644\u0633\u0646\u0647"),a(),u(33,"button",19),Z("click",function(){return i.filterToday()}),c(34,"\u0627\u0644\u064A\u0648\u0645"),a()()()(),u(35,"div",7)(36,"label",20),c(37,"\u0639\u0631\u0636:"),a(),u(38,"select",21),Tt("ngModelChange",function(o){return Pt(i.selectedView,o)||(i.selectedView=o),o}),u(39,"option",22),c(40,"\u0643\u0644\u0627\u0647\u0645\u0627"),a(),u(41,"option",23),c(42,"\u0627\u0644\u0628\u0646\u0643"),a(),u(43,"option",24),c(44,"\u0627\u0644\u0635\u0646\u062F\u0648\u0642"),a()()(),D(45,eoe,34,4,"div",25)(46,noe,34,4,"div",25),a()),t&2&&(f(16),It("ngModel",i.startDate),f(3),It("ngModel",i.endDate),f(6),It("ngModel",i.selectedMonth),f(3),E("ngForOf",i.months),f(10),It("ngModel",i.selectedView),f(7),E("ngIf",i.selectedView==="both"||i.selectedView==="bank"),f(),E("ngIf",i.selectedView==="both"||i.selectedView==="box"))},dependencies:[Ne,He,tt,Xt,Vt,Ut,Ze,Lt,et,xn],encapsulation:2})};var aN=[{path:"",component:Df},{path:"login",component:Df},{path:"dashboard",component:P2,children:[{path:"",canActivate:[vt],data:{roles:["admin","accountant","worker","supervisor"]},component:$1},{path:"users",component:O2,canActivate:[vt],data:{roles:["admin"]}},{path:"addUser",component:R2,canActivate:[vt],data:{roles:["admin"]}},{path:"updateUser/:id",component:L2,canActivate:[vt],data:{roles:["admin"]}},{path:"showUser/:id",component:k2,canActivate:[vt],data:{roles:["admin"]}},{path:"products",component:j2,canActivate:[vt],data:{roles:["admin"]}},{path:"addProduct",component:B2,canActivate:[vt],data:{roles:["admin"]}},{path:"updateProduct/:id",component:V2,canActivate:[vt],data:{roles:["admin"]}},{path:"showProduct/:id",component:U2,canActivate:[vt],data:{roles:["admin"]}},{path:"accounting/:id",component:Q2,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"product/reports",component:cv,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"shift/reports",component:dv,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"expenses/reports",component:pv,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"sales/reports",component:fv,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"purchase/reports",component:mv,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"document/reports",component:hv,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"addAccount/:id",component:Z2,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"accounting/:id/showAccount/:accountId",component:n1,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"accounting/:id/updateAccount/:accountId",component:i1,canActivate:[vt],data:{roles:["admin"]}},{path:"editTaxRate",component:s1,canActivate:[vt],data:{roles:["admin"]}},{path:"updateSettings",component:G1,canActivate:[vt],data:{roles:["admin"]}},{path:"paymentDocument/:type",component:X2,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"addPaymentDocument/:type",component:e1,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"paymentDocument/:type/showDocument/:id",component:r1,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"paymentDocument/:type/updateDocument/:id",component:o1,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"machines",component:q2,canActivate:[vt],data:{roles:["admin"]}},{path:"addMachine",component:$2,canActivate:[vt],data:{roles:["admin"]}},{path:"updateMachine/:id",component:H2,canActivate:[vt],data:{roles:["admin"]}},{path:"showMachine/:id",component:z2,canActivate:[vt],data:{roles:["admin"]}},{path:"shifts",component:G2,canActivate:[vt],data:{roles:["admin","accountant","worker","supervisor"]}},{path:"addShift",component:W2,canActivate:[vt],data:{roles:["admin","accountant","worker","supervisor"]}},{path:"updateShift/:id",component:Y2,canActivate:[vt],data:{roles:["admin","accountant","worker","supervisor"]}},{path:"showShift/:id",component:K2,canActivate:[vt],data:{roles:["admin","accountant","worker","supervisor"]}},{path:"closeShift/:id",component:t1,canActivate:[vt],data:{roles:["admin","worker","supervisor"]}},{path:"show-supervisor-shift/:id",component:lv,canActivate:[vt],data:{roles:["admin","supervisor"]}},{path:"updateShiftWorker",component:H1,canActivate:[vt],data:{roles:["admin","worker"]}},{path:"showShiftWorker",component:z1,canActivate:[vt],data:{roles:["admin","worker"]}},{path:"purchaseInvoices",component:a1,canActivate:[vt],data:{roles:["admin","accountant","supervisor"]}},{path:"addPurchaseInvoice",component:u1,canActivate:[vt],data:{roles:["admin","accountant","supervisor"]}},{path:"updatePurchase/:id",component:l1,canActivate:[vt],data:{roles:["admin","accountant","supervisor"]}},{path:"showPurchase/:id",component:C1,canActivate:[vt],data:{roles:["admin","accountant","supervisor"]}},{path:"expensesInvoices",component:w1,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"addExpensesInvoices",component:A1,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"updateExpensesInvoices/:id",component:D1,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"showExpensesInvoices/:id",component:I1,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"salesInvoices",component:W1,canActivate:[vt],data:{roles:["admin","accountant","worker"]}},{path:"addSalesInvoice",component:Y1,canActivate:[vt],data:{roles:["admin","accountant","worker"]}},{path:"updateSalesInvoice/:id",component:K1,canActivate:[vt],data:{roles:["admin","accountant","worker"]}},{path:"showSalesInvoice/:id",component:Q1,canActivate:[vt],data:{roles:["admin","accountant","worker"]}},{path:"invoice/:id",component:uv,canActivate:[vt],data:{roles:["admin","accountant","worker"]}},{path:"equations",component:R1,canActivate:[vt],data:{roles:["admin"]}},{path:"addEquation",component:L1,canActivate:[vt],data:{roles:["admin"]}},{path:"updateEquation/:id",component:k1,canActivate:[vt],data:{roles:["admin"]}},{path:"showEquation/:id",component:j1,canActivate:[vt],data:{roles:["admin"]}},{path:"equationHistory",component:B1,canActivate:[vt],data:{roles:["admin"]}},{path:"showEquationHistory/:id",component:V1,canActivate:[vt],data:{roles:["admin"]}},{path:"historyOfEquation/:id",component:U1,canActivate:[vt],data:{roles:["admin"]}},{path:"report1",component:T1,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"report2",component:M1,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"report3",component:F1,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"report4",component:N1,canActivate:[vt],data:{roles:["admin","accountant"]}},{path:"report5",component:q1,canActivate:[vt],data:{roles:["admin","accountant"]}}]}];var uN={providers:[vA({eventCoalescing:!0}),tI(aN),JA(),ny(kI,UI.forRoot())]};var gv=class n{title="FrontEnd";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ae({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){t&1&&M(0,"router-outlet")},dependencies:[cf],encapsulation:2})};aD(gv,uN).catch(n=>console.error(n));
